{"remainingRequest":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/babel-loader/lib/index.js!/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/crocslut/Desktop/Git/main-cleanaway-pwa/src/components/virtualscroller/VirtualScroller.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/src/components/virtualscroller/VirtualScroller.vue","mtime":1634589566245},{"path":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/cache-loader/dist/cjs.js","mtime":1634585934434},{"path":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/babel-loader/lib/index.js","mtime":1634585934594},{"path":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/cache-loader/dist/cjs.js","mtime":1634585934434},{"path":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/vue-loader-v16/dist/index.js","mtime":1634585949898}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdWaXJ0dWFsU2Nyb2xsZXInLAogIGVtaXRzOiBbJ3VwZGF0ZTpudW1Ub2xlcmF0ZWRJdGVtcycsICdzY3JvbGwtaW5kZXgtY2hhbmdlJywgJ2xhenktbG9hZCddLAogIHByb3BzOiB7CiAgICBpdGVtczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIGl0ZW1TaXplOiB7CiAgICAgIHR5cGU6IFtOdW1iZXIsIEFycmF5XSwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIHNjcm9sbEhlaWdodDogbnVsbCwKICAgIHNjcm9sbFdpZHRoOiBudWxsLAogICAgb3JpZW50YXRpb246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAndmVydGljYWwnCiAgICB9LAogICAgbnVtVG9sZXJhdGVkSXRlbXM6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgZGVsYXk6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9LAogICAgbGF6eTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHNob3dMb2FkZXI6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBsb2FkaW5nOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgc3R5bGU6IG51bGwsCiAgICBjbGFzczogbnVsbCwKICAgIGRpc2FibGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlyc3Q6IHRoaXMuaXNCb3RoKCkgPyB7CiAgICAgICAgcm93czogMCwKICAgICAgICBjb2xzOiAwCiAgICAgIH0gOiAwLAogICAgICBsYXN0OiB0aGlzLmlzQm90aCgpID8gewogICAgICAgIHJvd3M6IDAsCiAgICAgICAgY29sczogMAogICAgICB9IDogMCwKICAgICAgbnVtSXRlbXNJblZpZXdwb3J0OiB0aGlzLmlzQm90aCgpID8gewogICAgICAgIHJvd3M6IDAsCiAgICAgICAgY29sczogMAogICAgICB9IDogMCwKICAgICAgbGFzdFNjcm9sbFBvczogdGhpcy5pc0JvdGgoKSA/IHsKICAgICAgICB0b3A6IDAsCiAgICAgICAgbGVmdDogMAogICAgICB9IDogMCwKICAgICAgZF9udW1Ub2xlcmF0ZWRJdGVtczogdGhpcy5udW1Ub2xlcmF0ZWRJdGVtcywKICAgICAgZF9sb2FkaW5nOiB0aGlzLmxvYWRpbmcsCiAgICAgIGxvYWRlckFycjogbnVsbAogICAgfTsKICB9LAogIGVsZW1lbnQ6IG51bGwsCiAgY29udGVudDogbnVsbCwKICBzcGFjZXI6IG51bGwsCiAgc2Nyb2xsVGltZW91dDogbnVsbCwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfSwKICB3YXRjaDogewogICAgbnVtVG9sZXJhdGVkSXRlbXM6IGZ1bmN0aW9uIG51bVRvbGVyYXRlZEl0ZW1zKG5ld1ZhbHVlKSB7CiAgICAgIHRoaXMuZF9udW1Ub2xlcmF0ZWRJdGVtcyA9IG5ld1ZhbHVlOwogICAgfSwKICAgIGxvYWRpbmc6IGZ1bmN0aW9uIGxvYWRpbmcobmV3VmFsdWUpIHsKICAgICAgdGhpcy5kX2xvYWRpbmcgPSBuZXdWYWx1ZTsKICAgIH0sCiAgICBpdGVtczogZnVuY3Rpb24gaXRlbXMobmV3VmFsdWUsIG9sZFZhbCkgewogICAgICBpZiAoIW9sZFZhbCB8fCBvbGRWYWwubGVuZ3RoICE9PSAobmV3VmFsdWUgfHwgW10pLmxlbmd0aCkgewogICAgICAgIHRoaXMuaW5pdCgpOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHsKICAgICAgICB0aGlzLnNldFNpemUoKTsKICAgICAgICB0aGlzLmNhbGN1bGF0ZU9wdGlvbnMoKTsKICAgICAgICB0aGlzLnNldFNwYWNlclNpemUoKTsKICAgICAgfQogICAgfSwKICAgIGdldExhc3Q6IGZ1bmN0aW9uIGdldExhc3QobGFzdCwgaXNDb2xzKSB7CiAgICAgIHJldHVybiB0aGlzLml0ZW1zID8gTWF0aC5taW4oaXNDb2xzID8gdGhpcy5pdGVtc1swXS5sZW5ndGggOiB0aGlzLml0ZW1zLmxlbmd0aCwgbGFzdCkgOiAwOwogICAgfSwKICAgIGNhbGN1bGF0ZU9wdGlvbnM6IGZ1bmN0aW9uIGNhbGN1bGF0ZU9wdGlvbnMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgaXNCb3RoID0gdGhpcy5pc0JvdGgoKTsKICAgICAgdmFyIGlzSG9yaXpvbnRhbCA9IHRoaXMuaXNIb3Jpem9udGFsKCk7CiAgICAgIHZhciBmaXJzdCA9IHRoaXMuZmlyc3Q7CiAgICAgIHZhciBpdGVtU2l6ZSA9IHRoaXMuaXRlbVNpemU7CiAgICAgIHZhciBjb250ZW50UGFkZGluZyA9IHRoaXMuZ2V0Q29udGVudFBhZGRpbmcoKTsKICAgICAgdmFyIGNvbnRlbnRXaWR0aCA9IHRoaXMuZWxlbWVudCA/IHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aCAtIGNvbnRlbnRQYWRkaW5nLmxlZnQgOiAwOwogICAgICB2YXIgY29udGVudEhlaWdodCA9IHRoaXMuZWxlbWVudCA/IHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQgLSBjb250ZW50UGFkZGluZy50b3AgOiAwOwoKICAgICAgdmFyIGNhbGN1bGF0ZU51bUl0ZW1zSW5WaWV3cG9ydCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZU51bUl0ZW1zSW5WaWV3cG9ydChfY29udGVudFNpemUsIF9pdGVtU2l6ZSkgewogICAgICAgIHJldHVybiBNYXRoLmNlaWwoX2NvbnRlbnRTaXplIC8gKF9pdGVtU2l6ZSB8fCBfY29udGVudFNpemUpKTsKICAgICAgfTsKCiAgICAgIHZhciBudW1JdGVtc0luVmlld3BvcnQgPSBpc0JvdGggPyB7CiAgICAgICAgcm93czogY2FsY3VsYXRlTnVtSXRlbXNJblZpZXdwb3J0KGNvbnRlbnRIZWlnaHQsIGl0ZW1TaXplWzBdKSwKICAgICAgICBjb2xzOiBjYWxjdWxhdGVOdW1JdGVtc0luVmlld3BvcnQoY29udGVudFdpZHRoLCBpdGVtU2l6ZVsxXSkKICAgICAgfSA6IGNhbGN1bGF0ZU51bUl0ZW1zSW5WaWV3cG9ydChpc0hvcml6b250YWwgPyBjb250ZW50V2lkdGggOiBjb250ZW50SGVpZ2h0LCBpdGVtU2l6ZSk7CiAgICAgIHZhciBudW1Ub2xlcmF0ZWRJdGVtcyA9IHRoaXMuZF9udW1Ub2xlcmF0ZWRJdGVtcyB8fCBNYXRoLmNlaWwoKGlzQm90aCA/IG51bUl0ZW1zSW5WaWV3cG9ydC5yb3dzIDogbnVtSXRlbXNJblZpZXdwb3J0KSAvIDIpOwoKICAgICAgdmFyIGNhbGN1bGF0ZUxhc3QgPSBmdW5jdGlvbiBjYWxjdWxhdGVMYXN0KF9maXJzdCwgX251bSwgX2lzQ29scykgewogICAgICAgIHJldHVybiBfdGhpcy5nZXRMYXN0KF9maXJzdCArIF9udW0gKyAoX2ZpcnN0IDwgbnVtVG9sZXJhdGVkSXRlbXMgPyAyIDogMykgKiBudW1Ub2xlcmF0ZWRJdGVtcywgX2lzQ29scyk7CiAgICAgIH07CgogICAgICB2YXIgbGFzdCA9IGlzQm90aCA/IHsKICAgICAgICByb3dzOiBjYWxjdWxhdGVMYXN0KGZpcnN0LnJvd3MsIG51bUl0ZW1zSW5WaWV3cG9ydC5yb3dzKSwKICAgICAgICBjb2xzOiBjYWxjdWxhdGVMYXN0KGZpcnN0LmNvbHMsIG51bUl0ZW1zSW5WaWV3cG9ydC5jb2xzLCB0cnVlKQogICAgICB9IDogY2FsY3VsYXRlTGFzdChmaXJzdCwgbnVtSXRlbXNJblZpZXdwb3J0KTsKICAgICAgdGhpcy5kX251bVRvbGVyYXRlZEl0ZW1zID0gbnVtVG9sZXJhdGVkSXRlbXM7CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpudW1Ub2xlcmF0ZWRJdGVtcycsIHRoaXMuZF9udW1Ub2xlcmF0ZWRJdGVtcyk7CiAgICAgIHRoaXMubGFzdCA9IGxhc3Q7CiAgICAgIHRoaXMubnVtSXRlbXNJblZpZXdwb3J0ID0gbnVtSXRlbXNJblZpZXdwb3J0OwoKICAgICAgaWYgKHRoaXMuc2hvd0xvYWRlcikgewogICAgICAgIGlmICh0aGlzLiRzbG90cyAmJiB0aGlzLiRzbG90cy5sb2FkZXIpIHsKICAgICAgICAgIHRoaXMubG9hZGVyQXJyID0gQXJyYXkuZnJvbSh7CiAgICAgICAgICAgIGxlbmd0aDogaXNCb3RoID8gbnVtSXRlbXNJblZpZXdwb3J0LnJvd3MgOiBudW1JdGVtc0luVmlld3BvcnQKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmxvYWRlckFyciA9IEFycmF5LmZyb20oewogICAgICAgICAgICBsZW5ndGg6IDEKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHRoaXMubGF6eSkgewogICAgICAgIHRoaXMuJGVtaXQoJ2xhenktbG9hZCcsIHsKICAgICAgICAgIGZpcnN0OiBmaXJzdCwKICAgICAgICAgIGxhc3Q6IGxhc3QKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGdldENvbnRlbnRQYWRkaW5nOiBmdW5jdGlvbiBnZXRDb250ZW50UGFkZGluZygpIHsKICAgICAgaWYgKHRoaXMuY29udGVudCkgewogICAgICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodGhpcy5jb250ZW50KTsKICAgICAgICB2YXIgbGVmdCA9IHBhcnNlSW50KHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0xlZnQuc2xpY2UoMCwgLTIpKSwgMTApOwogICAgICAgIHZhciByaWdodCA9IHBhcnNlSW50KHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ1JpZ2h0LnNsaWNlKDAsIC0yKSksIDEwKTsKICAgICAgICB2YXIgdG9wID0gcGFyc2VJbnQocGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nVG9wLnNsaWNlKDAsIC0yKSksIDEwKTsKICAgICAgICB2YXIgYm90dG9tID0gcGFyc2VJbnQocGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nQm90dG9tLnNsaWNlKDAsIC0yKSksIDEwKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbGVmdDogbGVmdCwKICAgICAgICAgIHJpZ2h0OiByaWdodCwKICAgICAgICAgIHRvcDogdG9wLAogICAgICAgICAgYm90dG9tOiBib3R0b20sCiAgICAgICAgICB4OiBsZWZ0ICsgcmlnaHQsCiAgICAgICAgICB5OiB0b3AgKyBib3R0b20KICAgICAgICB9OwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGxlZnQ6IDAsCiAgICAgICAgcmlnaHQ6IDAsCiAgICAgICAgdG9wOiAwLAogICAgICAgIGJvdHRvbTogMCwKICAgICAgICB4OiAwLAogICAgICAgIHk6IDAKICAgICAgfTsKICAgIH0sCiAgICBzZXRTaXplOiBmdW5jdGlvbiBzZXRTaXplKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHsKICAgICAgICB2YXIgaXNCb3RoID0gdGhpcy5pc0JvdGgoKTsKICAgICAgICB2YXIgaXNIb3Jpem9udGFsID0gdGhpcy5pc0hvcml6b250YWwoKTsKICAgICAgICB2YXIgcGFyZW50RWxlbWVudCA9IHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50OwogICAgICAgIHZhciB3aWR0aCA9IHRoaXMuc2Nyb2xsV2lkdGggfHwgIiIuY29uY2F0KHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aCB8fCBwYXJlbnRFbGVtZW50Lm9mZnNldFdpZHRoLCAicHgiKTsKICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5zY3JvbGxIZWlnaHQgfHwgIiIuY29uY2F0KHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQgfHwgcGFyZW50RWxlbWVudC5vZmZzZXRIZWlnaHQsICJweCIpOwoKICAgICAgICB2YXIgc2V0UHJvcCA9IGZ1bmN0aW9uIHNldFByb3AoX25hbWUsIF92YWx1ZSkgewogICAgICAgICAgcmV0dXJuIF90aGlzMi5lbGVtZW50LnN0eWxlW19uYW1lXSA9IF92YWx1ZTsKICAgICAgICB9OwoKICAgICAgICBpZiAoaXNCb3RoKSB7CiAgICAgICAgICBzZXRQcm9wKCdoZWlnaHQnLCBoZWlnaHQpOwogICAgICAgICAgc2V0UHJvcCgnd2lkdGgnLCB3aWR0aCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlzSG9yaXpvbnRhbCA/IHNldFByb3AoJ3dpZHRoJywgd2lkdGgpIDogc2V0UHJvcCgnaGVpZ2h0JywgaGVpZ2h0KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBzZXRTcGFjZXJTaXplOiBmdW5jdGlvbiBzZXRTcGFjZXJTaXplKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBpdGVtcyA9IHRoaXMuaXRlbXM7CgogICAgICBpZiAodGhpcy5zcGFjZXIgJiYgaXRlbXMpIHsKICAgICAgICB2YXIgaXNCb3RoID0gdGhpcy5pc0JvdGgoKTsKICAgICAgICB2YXIgaXNIb3Jpem9udGFsID0gdGhpcy5pc0hvcml6b250YWwoKTsKICAgICAgICB2YXIgaXRlbVNpemUgPSB0aGlzLml0ZW1TaXplOwogICAgICAgIHZhciBjb250ZW50UGFkZGluZyA9IHRoaXMuZ2V0Q29udGVudFBhZGRpbmcoKTsKCiAgICAgICAgdmFyIHNldFByb3AgPSBmdW5jdGlvbiBzZXRQcm9wKF9uYW1lLCBfdmFsdWUsIF9zaXplKSB7CiAgICAgICAgICB2YXIgX3BhZGRpbmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7CgogICAgICAgICAgcmV0dXJuIF90aGlzMy5zcGFjZXIuc3R5bGVbX25hbWVdID0gKF92YWx1ZSB8fCBbXSkubGVuZ3RoICogX3NpemUgKyBfcGFkZGluZyArICdweCc7CiAgICAgICAgfTsKCiAgICAgICAgaWYgKGlzQm90aCkgewogICAgICAgICAgc2V0UHJvcCgnaGVpZ2h0JywgaXRlbXNbMF0sIGl0ZW1TaXplWzBdLCBjb250ZW50UGFkZGluZy55KTsKICAgICAgICAgIHNldFByb3AoJ3dpZHRoJywgaXRlbXNbMV0sIGl0ZW1TaXplWzFdLCBjb250ZW50UGFkZGluZy54KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaXNIb3Jpem9udGFsID8gc2V0UHJvcCgnd2lkdGgnLCBpdGVtcywgaXRlbVNpemUsIGNvbnRlbnRQYWRkaW5nLngpIDogc2V0UHJvcCgnaGVpZ2h0JywgaXRlbXMsIGl0ZW1TaXplLCBjb250ZW50UGFkZGluZy55KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBzZXRDb250ZW50UG9zaXRpb246IGZ1bmN0aW9uIHNldENvbnRlbnRQb3NpdGlvbihwb3MpIHsKICAgICAgaWYgKHRoaXMuY29udGVudCkgewogICAgICAgIHZhciBpc0JvdGggPSB0aGlzLmlzQm90aCgpOwogICAgICAgIHZhciBpc0hvcml6b250YWwgPSB0aGlzLmlzSG9yaXpvbnRhbCgpOwogICAgICAgIHZhciBjb250ZW50ID0gdGhpcy5jb250ZW50OwogICAgICAgIHZhciBmaXJzdCA9IHBvcyA/IHBvcy5maXJzdCA6IHRoaXMuZmlyc3Q7CiAgICAgICAgdmFyIGl0ZW1TaXplID0gdGhpcy5pdGVtU2l6ZTsKCiAgICAgICAgdmFyIGNhbGN1bGF0ZVRyYW5zbGF0ZVZhbCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVRyYW5zbGF0ZVZhbChfZmlyc3QsIF9zaXplKSB7CiAgICAgICAgICByZXR1cm4gX2ZpcnN0ICogX3NpemU7CiAgICAgICAgfTsKCiAgICAgICAgdmFyIHNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHNldFRyYW5zZm9ybSgpIHsKICAgICAgICAgIHZhciBfeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDsKCiAgICAgICAgICB2YXIgX3kgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7CgogICAgICAgICAgcmV0dXJuIGNvbnRlbnQuc3R5bGUudHJhbnNmb3JtID0gInRyYW5zbGF0ZTNkKCIuY29uY2F0KF94LCAicHgsICIpLmNvbmNhdChfeSwgInB4LCAwKSIpOwogICAgICAgIH07CgogICAgICAgIGlmIChpc0JvdGgpIHsKICAgICAgICAgIHNldFRyYW5zZm9ybShjYWxjdWxhdGVUcmFuc2xhdGVWYWwoZmlyc3QuY29scywgaXRlbVNpemVbMV0pLCBjYWxjdWxhdGVUcmFuc2xhdGVWYWwoZmlyc3Qucm93cywgaXRlbVNpemVbMF0pKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHRyYW5zbGF0ZVZhbCA9IGNhbGN1bGF0ZVRyYW5zbGF0ZVZhbChmaXJzdCwgaXRlbVNpemUpOwogICAgICAgICAgaXNIb3Jpem9udGFsID8gc2V0VHJhbnNmb3JtKHRyYW5zbGF0ZVZhbCwgMCkgOiBzZXRUcmFuc2Zvcm0oMCwgdHJhbnNsYXRlVmFsKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBvblNjcm9sbFBvc2l0aW9uQ2hhbmdlOiBmdW5jdGlvbiBvblNjcm9sbFBvc2l0aW9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDsKICAgICAgdmFyIGlzQm90aCA9IHRoaXMuaXNCb3RoKCk7CiAgICAgIHZhciBpc0hvcml6b250YWwgPSB0aGlzLmlzSG9yaXpvbnRhbCgpOwogICAgICB2YXIgaXRlbVNpemUgPSB0aGlzLml0ZW1TaXplOwogICAgICB2YXIgY29udGVudFBhZGRpbmcgPSB0aGlzLmdldENvbnRlbnRQYWRkaW5nKCk7CgogICAgICB2YXIgY2FsY3VsYXRlU2Nyb2xsUG9zID0gZnVuY3Rpb24gY2FsY3VsYXRlU2Nyb2xsUG9zKF9wb3MsIF9wYWRkaW5nKSB7CiAgICAgICAgcmV0dXJuIF9wb3MgPyBfcG9zID4gX3BhZGRpbmcgPyBfcG9zIC0gX3BhZGRpbmcgOiBfcG9zIDogMDsKICAgICAgfTsKCiAgICAgIHZhciBjYWxjdWxhdGVDdXJyZW50SW5kZXggPSBmdW5jdGlvbiBjYWxjdWxhdGVDdXJyZW50SW5kZXgoX3BvcywgX3NpemUpIHsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihfcG9zIC8gKF9zaXplIHx8IF9wb3MpKTsKICAgICAgfTsKCiAgICAgIHZhciBjYWxjdWxhdGVUcmlnZ2VySW5kZXggPSBmdW5jdGlvbiBjYWxjdWxhdGVUcmlnZ2VySW5kZXgoX2N1cnJlbnRJbmRleCwgX2ZpcnN0LCBfbGFzdCwgX251bSwgX2lzU2Nyb2xsRG93bk9yUmlnaHQpIHsKICAgICAgICByZXR1cm4gX2N1cnJlbnRJbmRleCA8PSBfdGhpczQuZF9udW1Ub2xlcmF0ZWRJdGVtcyA/IF90aGlzNC5kX251bVRvbGVyYXRlZEl0ZW1zIDogX2lzU2Nyb2xsRG93bk9yUmlnaHQgPyBfbGFzdCAtIF9udW0gLSBfdGhpczQuZF9udW1Ub2xlcmF0ZWRJdGVtcyA6IF9maXJzdCArIF90aGlzNC5kX251bVRvbGVyYXRlZEl0ZW1zIC0gMTsKICAgICAgfTsKCiAgICAgIHZhciBjYWxjdWxhdGVGaXJzdCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUZpcnN0KF9jdXJyZW50SW5kZXgsIF90cmlnZ2VySW5kZXgsIF9maXJzdCwgX2xhc3QsIF9udW0sIF9pc1Njcm9sbERvd25PclJpZ2h0KSB7CiAgICAgICAgaWYgKF9jdXJyZW50SW5kZXggPD0gX3RoaXM0LmRfbnVtVG9sZXJhdGVkSXRlbXMpIHJldHVybiAwO2Vsc2UgcmV0dXJuIF9pc1Njcm9sbERvd25PclJpZ2h0ID8gX2N1cnJlbnRJbmRleCA8IF90cmlnZ2VySW5kZXggPyBfZmlyc3QgOiBfY3VycmVudEluZGV4IC0gX3RoaXM0LmRfbnVtVG9sZXJhdGVkSXRlbXMgOiBfY3VycmVudEluZGV4ID4gX3RyaWdnZXJJbmRleCA/IF9maXJzdCA6IF9jdXJyZW50SW5kZXggLSAyICogX3RoaXM0LmRfbnVtVG9sZXJhdGVkSXRlbXM7CiAgICAgIH07CgogICAgICB2YXIgY2FsY3VsYXRlTGFzdCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUxhc3QoX2N1cnJlbnRJbmRleCwgX2ZpcnN0LCBfbGFzdCwgX251bSwgX2lzQ29scykgewogICAgICAgIHZhciBsYXN0VmFsdWUgPSBfZmlyc3QgKyBfbnVtICsgMiAqIF90aGlzNC5kX251bVRvbGVyYXRlZEl0ZW1zOwoKICAgICAgICBpZiAoX2N1cnJlbnRJbmRleCA+PSBfdGhpczQuZF9udW1Ub2xlcmF0ZWRJdGVtcykgewogICAgICAgICAgbGFzdFZhbHVlICs9IF90aGlzNC5kX251bVRvbGVyYXRlZEl0ZW1zICsgMTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBfdGhpczQuZ2V0TGFzdChsYXN0VmFsdWUsIF9pc0NvbHMpOwogICAgICB9OwoKICAgICAgdmFyIHNjcm9sbFRvcCA9IGNhbGN1bGF0ZVNjcm9sbFBvcyh0YXJnZXQuc2Nyb2xsVG9wLCBjb250ZW50UGFkZGluZy50b3ApOwogICAgICB2YXIgc2Nyb2xsTGVmdCA9IGNhbGN1bGF0ZVNjcm9sbFBvcyh0YXJnZXQuc2Nyb2xsTGVmdCwgY29udGVudFBhZGRpbmcubGVmdCk7CiAgICAgIHZhciBuZXdGaXJzdCA9IDA7CiAgICAgIHZhciBuZXdMYXN0ID0gdGhpcy5sYXN0OwogICAgICB2YXIgaXNSYW5nZUNoYW5nZWQgPSBmYWxzZTsKCiAgICAgIGlmIChpc0JvdGgpIHsKICAgICAgICB2YXIgaXNTY3JvbGxEb3duID0gdGhpcy5sYXN0U2Nyb2xsUG9zLnRvcCA8PSBzY3JvbGxUb3A7CiAgICAgICAgdmFyIGlzU2Nyb2xsUmlnaHQgPSB0aGlzLmxhc3RTY3JvbGxQb3MubGVmdCA8PSBzY3JvbGxMZWZ0OwogICAgICAgIHZhciBjdXJyZW50SW5kZXggPSB7CiAgICAgICAgICByb3dzOiBjYWxjdWxhdGVDdXJyZW50SW5kZXgoc2Nyb2xsVG9wLCBpdGVtU2l6ZVswXSksCiAgICAgICAgICBjb2xzOiBjYWxjdWxhdGVDdXJyZW50SW5kZXgoc2Nyb2xsTGVmdCwgaXRlbVNpemVbMV0pCiAgICAgICAgfTsKICAgICAgICB2YXIgdHJpZ2dlckluZGV4ID0gewogICAgICAgICAgcm93czogY2FsY3VsYXRlVHJpZ2dlckluZGV4KGN1cnJlbnRJbmRleC5yb3dzLCB0aGlzLmZpcnN0LnJvd3MsIHRoaXMubGFzdC5yb3dzLCB0aGlzLm51bUl0ZW1zSW5WaWV3cG9ydC5yb3dzLCBpc1Njcm9sbERvd24pLAogICAgICAgICAgY29sczogY2FsY3VsYXRlVHJpZ2dlckluZGV4KGN1cnJlbnRJbmRleC5jb2xzLCB0aGlzLmZpcnN0LmNvbHMsIHRoaXMubGFzdC5jb2xzLCB0aGlzLm51bUl0ZW1zSW5WaWV3cG9ydC5jb2xzLCBpc1Njcm9sbFJpZ2h0KQogICAgICAgIH07CiAgICAgICAgbmV3Rmlyc3QgPSB7CiAgICAgICAgICByb3dzOiBjYWxjdWxhdGVGaXJzdChjdXJyZW50SW5kZXgucm93cywgdHJpZ2dlckluZGV4LnJvd3MsIHRoaXMuZmlyc3Qucm93cywgdGhpcy5sYXN0LnJvd3MsIHRoaXMubnVtSXRlbXNJblZpZXdwb3J0LnJvd3MsIGlzU2Nyb2xsRG93biksCiAgICAgICAgICBjb2xzOiBjYWxjdWxhdGVGaXJzdChjdXJyZW50SW5kZXguY29scywgdHJpZ2dlckluZGV4LmNvbHMsIHRoaXMuZmlyc3QuY29scywgdGhpcy5sYXN0LmNvbHMsIHRoaXMubnVtSXRlbXNJblZpZXdwb3J0LmNvbHMsIGlzU2Nyb2xsUmlnaHQpCiAgICAgICAgfTsKICAgICAgICBuZXdMYXN0ID0gewogICAgICAgICAgcm93czogY2FsY3VsYXRlTGFzdChjdXJyZW50SW5kZXgucm93cywgbmV3Rmlyc3Qucm93cywgdGhpcy5sYXN0LnJvd3MsIHRoaXMubnVtSXRlbXNJblZpZXdwb3J0LnJvd3MpLAogICAgICAgICAgY29sczogY2FsY3VsYXRlTGFzdChjdXJyZW50SW5kZXguY29scywgbmV3Rmlyc3QuY29scywgdGhpcy5sYXN0LmNvbHMsIHRoaXMubnVtSXRlbXNJblZpZXdwb3J0LmNvbHMsIHRydWUpCiAgICAgICAgfTsKICAgICAgICBpc1JhbmdlQ2hhbmdlZCA9IG5ld0ZpcnN0LnJvd3MgIT09IHRoaXMuZmlyc3Qucm93cyB8fCBuZXdGaXJzdC5jb2xzICE9PSB0aGlzLmZpcnN0LmNvbHMgfHwgbmV3TGFzdC5yb3dzICE9PSB0aGlzLmxhc3Qucm93cyB8fCBuZXdMYXN0LmNvbHMgIT09IHRoaXMubGFzdC5jb2xzOwogICAgICAgIHRoaXMubGFzdFNjcm9sbFBvcyA9IHsKICAgICAgICAgIHRvcDogc2Nyb2xsVG9wLAogICAgICAgICAgbGVmdDogc2Nyb2xsTGVmdAogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHNjcm9sbFBvcyA9IGlzSG9yaXpvbnRhbCA/IHNjcm9sbExlZnQgOiBzY3JvbGxUb3A7CiAgICAgICAgdmFyIGlzU2Nyb2xsRG93bk9yUmlnaHQgPSB0aGlzLmxhc3RTY3JvbGxQb3MgPD0gc2Nyb2xsUG9zOwoKICAgICAgICB2YXIgX2N1cnJlbnRJbmRleDIgPSBjYWxjdWxhdGVDdXJyZW50SW5kZXgoc2Nyb2xsUG9zLCBpdGVtU2l6ZSk7CgogICAgICAgIHZhciBfdHJpZ2dlckluZGV4MiA9IGNhbGN1bGF0ZVRyaWdnZXJJbmRleChfY3VycmVudEluZGV4MiwgdGhpcy5maXJzdCwgdGhpcy5sYXN0LCB0aGlzLm51bUl0ZW1zSW5WaWV3cG9ydCwgaXNTY3JvbGxEb3duT3JSaWdodCk7CgogICAgICAgIG5ld0ZpcnN0ID0gY2FsY3VsYXRlRmlyc3QoX2N1cnJlbnRJbmRleDIsIF90cmlnZ2VySW5kZXgyLCB0aGlzLmZpcnN0LCB0aGlzLmxhc3QsIHRoaXMubnVtSXRlbXNJblZpZXdwb3J0LCBpc1Njcm9sbERvd25PclJpZ2h0KTsKICAgICAgICBuZXdMYXN0ID0gY2FsY3VsYXRlTGFzdChfY3VycmVudEluZGV4MiwgbmV3Rmlyc3QsIHRoaXMubGFzdCwgdGhpcy5udW1JdGVtc0luVmlld3BvcnQpOwogICAgICAgIGlzUmFuZ2VDaGFuZ2VkID0gbmV3Rmlyc3QgIT09IHRoaXMuZmlyc3QgfHwgbmV3TGFzdCAhPT0gdGhpcy5sYXN0OwogICAgICAgIHRoaXMubGFzdFNjcm9sbFBvcyA9IHNjcm9sbFBvczsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICBmaXJzdDogbmV3Rmlyc3QsCiAgICAgICAgbGFzdDogbmV3TGFzdCwKICAgICAgICBpc1JhbmdlQ2hhbmdlZDogaXNSYW5nZUNoYW5nZWQKICAgICAgfTsKICAgIH0sCiAgICBvblNjcm9sbENoYW5nZTogZnVuY3Rpb24gb25TY3JvbGxDaGFuZ2UoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzJG9uU2Nyb2xsUG9zaXRpbyA9IHRoaXMub25TY3JvbGxQb3NpdGlvbkNoYW5nZShldmVudCksCiAgICAgICAgICBmaXJzdCA9IF90aGlzJG9uU2Nyb2xsUG9zaXRpby5maXJzdCwKICAgICAgICAgIGxhc3QgPSBfdGhpcyRvblNjcm9sbFBvc2l0aW8ubGFzdCwKICAgICAgICAgIGlzUmFuZ2VDaGFuZ2VkID0gX3RoaXMkb25TY3JvbGxQb3NpdGlvLmlzUmFuZ2VDaGFuZ2VkOwoKICAgICAgaWYgKGlzUmFuZ2VDaGFuZ2VkKSB7CiAgICAgICAgdmFyIG5ld1N0YXRlID0gewogICAgICAgICAgZmlyc3Q6IGZpcnN0LAogICAgICAgICAgbGFzdDogbGFzdAogICAgICAgIH07CiAgICAgICAgdGhpcy5zZXRDb250ZW50UG9zaXRpb24obmV3U3RhdGUpOwoKICAgICAgICBpZiAodGhpcy5sYXp5KSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCdsYXp5LWxvYWQnLCB7CiAgICAgICAgICAgIGZpcnN0OiBmaXJzdCwKICAgICAgICAgICAgbGFzdDogbGFzdAogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmZpcnN0ID0gZmlyc3Q7CiAgICAgICAgdGhpcy5sYXN0ID0gbGFzdDsKICAgICAgICB0aGlzLiRlbWl0KCdzY3JvbGwtaW5kZXgtY2hhbmdlJywgewogICAgICAgICAgZmlyc3Q6IGZpcnN0LAogICAgICAgICAgbGFzdDogbGFzdAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgb25TY3JvbGw6IGZ1bmN0aW9uIG9uU2Nyb2xsKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuZGVsYXkgJiYgIXRoaXMubGF6eSkgewogICAgICAgIGlmICh0aGlzLnNjcm9sbFRpbWVvdXQpIHsKICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNjcm9sbFRpbWVvdXQpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCF0aGlzLmRfbG9hZGluZyAmJiB0aGlzLnNob3dMb2FkZXIpIHsKICAgICAgICAgIHZhciBfdGhpcyRvblNjcm9sbFBvc2l0aW8yID0gdGhpcy5vblNjcm9sbFBvc2l0aW9uQ2hhbmdlKGV2ZW50KSwKICAgICAgICAgICAgICBjaGFuZ2VkID0gX3RoaXMkb25TY3JvbGxQb3NpdGlvMi5pc1JhbmdlQ2hhbmdlZDsKCiAgICAgICAgICBpZiAoY2hhbmdlZCkgewogICAgICAgICAgICB0aGlzLmRfbG9hZGluZyA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0aGlzLnNjcm9sbFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzNS5vblNjcm9sbENoYW5nZShldmVudCk7CgogICAgICAgICAgaWYgKF90aGlzNS5kX2xvYWRpbmcgJiYgX3RoaXM1LnNob3dMb2FkZXIgJiYgIV90aGlzNS5sYXp5KSB7CiAgICAgICAgICAgIF90aGlzNS5kX2xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9LCB0aGlzLmRlbGF5KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm9uU2Nyb2xsQ2hhbmdlKGV2ZW50KTsKICAgICAgfQogICAgfSwKICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uIGdldE9wdGlvbnMocmVuZGVyZWRJbmRleCkgewogICAgICB2YXIgY291bnQgPSB0aGlzLml0ZW1zLmxlbmd0aDsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5pc0JvdGgoKSA/IHRoaXMuZmlyc3Qucm93cyArIHJlbmRlcmVkSW5kZXggOiB0aGlzLmZpcnN0ICsgcmVuZGVyZWRJbmRleDsKICAgICAgcmV0dXJuIHsKICAgICAgICBpbmRleDogaW5kZXgsCiAgICAgICAgY291bnQ6IGNvdW50LAogICAgICAgIGZpcnN0OiBpbmRleCA9PT0gMCwKICAgICAgICBsYXN0OiBpbmRleCA9PT0gY291bnQgLSAxLAogICAgICAgIGV2ZW46IGluZGV4ICUgMiA9PT0gMCwKICAgICAgICBvZGQ6IGluZGV4ICUgMiAhPT0gMAogICAgICB9OwogICAgfSwKICAgIGdldExvYWRlck9wdGlvbnM6IGZ1bmN0aW9uIGdldExvYWRlck9wdGlvbnMoaW5kZXgpIHsKICAgICAgdmFyIGNvdW50ID0gdGhpcy5sb2FkZXJBcnIubGVuZ3RoOwogICAgICByZXR1cm4gewogICAgICAgIGxvYWRpbmc6IHRoaXMuZF9sb2FkaW5nLAogICAgICAgIGZpcnN0OiBpbmRleCA9PT0gMCwKICAgICAgICBsYXN0OiBpbmRleCA9PT0gY291bnQgLSAxLAogICAgICAgIGV2ZW46IGluZGV4ICUgMiA9PT0gMCwKICAgICAgICBvZGQ6IGluZGV4ICUgMiAhPT0gMAogICAgICB9OwogICAgfSwKICAgIGlzSG9yaXpvbnRhbDogZnVuY3Rpb24gaXNIb3Jpem9udGFsKCkgewogICAgICByZXR1cm4gdGhpcy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnOwogICAgfSwKICAgIGlzQm90aDogZnVuY3Rpb24gaXNCb3RoKCkgewogICAgICByZXR1cm4gdGhpcy5vcmllbnRhdGlvbiA9PT0gJ2JvdGgnOwogICAgfSwKICAgIHNjcm9sbFRvOiBmdW5jdGlvbiBzY3JvbGxUbyhvcHRpb25zKSB7CiAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHsKICAgICAgICB0aGlzLmVsZW1lbnQuc2Nyb2xsVG8ob3B0aW9ucyk7CiAgICAgIH0KICAgIH0sCiAgICBzY3JvbGxUb0luZGV4OiBmdW5jdGlvbiBzY3JvbGxUb0luZGV4KGluZGV4KSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdmFyIGJlaGF2aW9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnYXV0byc7CiAgICAgIHZhciBpc0JvdGggPSB0aGlzLmlzQm90aCgpOwogICAgICB2YXIgaXNIb3Jpem9udGFsID0gdGhpcy5pc0hvcml6b250YWwoKTsKICAgICAgdmFyIGl0ZW1TaXplID0gdGhpcy5pdGVtU2l6ZTsKICAgICAgdmFyIGNvbnRlbnRQYWRkaW5nID0gdGhpcy5nZXRDb250ZW50UGFkZGluZygpOwoKICAgICAgdmFyIGNhbGN1bGF0ZUZpcnN0ID0gZnVuY3Rpb24gY2FsY3VsYXRlRmlyc3QoKSB7CiAgICAgICAgdmFyIF9pbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDsKCiAgICAgICAgcmV0dXJuIF9pbmRleCA8PSBfdGhpczYuZF9udW1Ub2xlcmF0ZWRJdGVtcyA/IDAgOiBfaW5kZXg7CiAgICAgIH07CgogICAgICB2YXIgY2FsY3VsYXRlQ29vcmQgPSBmdW5jdGlvbiBjYWxjdWxhdGVDb29yZChfZmlyc3QsIF9zaXplLCBfcGFkZGluZykgewogICAgICAgIHJldHVybiBfZmlyc3QgKiBfc2l6ZSArIF9wYWRkaW5nOwogICAgICB9OwoKICAgICAgdmFyIHNjcm9sbFRvID0gZnVuY3Rpb24gc2Nyb2xsVG8oKSB7CiAgICAgICAgdmFyIGxlZnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7CiAgICAgICAgdmFyIHRvcCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDsKICAgICAgICByZXR1cm4gX3RoaXM2LnNjcm9sbFRvKHsKICAgICAgICAgIGxlZnQ6IGxlZnQsCiAgICAgICAgICB0b3A6IHRvcCwKICAgICAgICAgIGJlaGF2aW9yOiBiZWhhdmlvcgogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgaWYgKGlzQm90aCkgewogICAgICAgIHZhciBuZXdGaXJzdCA9IHsKICAgICAgICAgIHJvd3M6IGNhbGN1bGF0ZUZpcnN0KGluZGV4WzBdKSwKICAgICAgICAgIGNvbHM6IGNhbGN1bGF0ZUZpcnN0KGluZGV4WzFdKQogICAgICAgIH07CiAgICAgICAgaWYgKG5ld0ZpcnN0LnJvd3MgIT09IHRoaXMuZmlyc3Qucm93cyB8fCBuZXdGaXJzdC5jb2xzICE9PSB0aGlzLmZpcnN0LmNvbHMpIHNjcm9sbFRvKGNhbGN1bGF0ZUNvb3JkKG5ld0ZpcnN0LmNvbHMsIGl0ZW1TaXplWzFdLCBjb250ZW50UGFkZGluZy5sZWZ0KSwgY2FsY3VsYXRlQ29vcmQobmV3Rmlyc3Qucm93cywgaXRlbVNpemVbMF0sIGNvbnRlbnRQYWRkaW5nLnRvcCkpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBfbmV3Rmlyc3QgPSBjYWxjdWxhdGVGaXJzdChpbmRleCk7CgogICAgICAgIGlmIChfbmV3Rmlyc3QgIT09IHRoaXMuZmlyc3QpIHsKICAgICAgICAgIGlzSG9yaXpvbnRhbCA/IHNjcm9sbFRvKGNhbGN1bGF0ZUNvb3JkKF9uZXdGaXJzdCwgaXRlbVNpemUsIGNvbnRlbnRQYWRkaW5nLmxlZnQpLCAwKSA6IHNjcm9sbFRvKDAsIGNhbGN1bGF0ZUNvb3JkKF9uZXdGaXJzdCwgaXRlbVNpemUsIGNvbnRlbnRQYWRkaW5nLnRvcCkpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5maXJzdCA9IF9uZXdGaXJzdDsKICAgICAgfQogICAgfSwKICAgIHNjcm9sbEluVmlldzogZnVuY3Rpb24gc2Nyb2xsSW5WaWV3KGluZGV4LCB0bykgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHZhciBiZWhhdmlvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2F1dG8nOwoKICAgICAgaWYgKHRvKSB7CiAgICAgICAgdmFyIGlzQm90aCA9IHRoaXMuaXNCb3RoKCk7CiAgICAgICAgdmFyIGlzSG9yaXpvbnRhbCA9IHRoaXMuaXNIb3Jpem9udGFsKCk7CgogICAgICAgIHZhciBfdGhpcyRnZXRSZW5kZXJlZFJhbmcgPSB0aGlzLmdldFJlbmRlcmVkUmFuZ2UoKSwKICAgICAgICAgICAgZmlyc3QgPSBfdGhpcyRnZXRSZW5kZXJlZFJhbmcuZmlyc3QsCiAgICAgICAgICAgIHZpZXdwb3J0ID0gX3RoaXMkZ2V0UmVuZGVyZWRSYW5nLnZpZXdwb3J0OwoKICAgICAgICB2YXIgaXRlbVNpemUgPSB0aGlzLml0ZW1TaXplOwoKICAgICAgICB2YXIgc2Nyb2xsVG8gPSBmdW5jdGlvbiBzY3JvbGxUbygpIHsKICAgICAgICAgIHZhciBsZWZ0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwOwogICAgICAgICAgdmFyIHRvcCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDsKICAgICAgICAgIHJldHVybiBfdGhpczcuc2Nyb2xsVG8oewogICAgICAgICAgICBsZWZ0OiBsZWZ0LAogICAgICAgICAgICB0b3A6IHRvcCwKICAgICAgICAgICAgYmVoYXZpb3I6IGJlaGF2aW9yCiAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICB2YXIgaXNUb1N0YXJ0ID0gdG8gPT09ICd0by1zdGFydCc7CiAgICAgICAgdmFyIGlzVG9FbmQgPSB0byA9PT0gJ3RvLWVuZCc7CgogICAgICAgIGlmIChpc1RvU3RhcnQpIHsKICAgICAgICAgIGlmIChpc0JvdGgpIHsKICAgICAgICAgICAgaWYgKHZpZXdwb3J0LmZpcnN0LnJvd3MgLSBmaXJzdC5yb3dzID4gaW5kZXhbMF0pIHsKICAgICAgICAgICAgICBzY3JvbGxUbyh2aWV3cG9ydC5maXJzdC5jb2xzICogaXRlbVNpemVbMV0sICh2aWV3cG9ydC5maXJzdC5yb3dzIC0gMSkgKiBpdGVtU2l6ZVswXSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodmlld3BvcnQuZmlyc3QuY29scyAtIGZpcnN0LmNvbHMgPiBpbmRleFsxXSkgewogICAgICAgICAgICAgIHNjcm9sbFRvKCh2aWV3cG9ydC5maXJzdC5jb2xzIC0gMSkgKiBpdGVtU2l6ZVsxXSwgdmlld3BvcnQuZmlyc3Qucm93cyAqIGl0ZW1TaXplWzBdKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKHZpZXdwb3J0LmZpcnN0IC0gZmlyc3QgPiBpbmRleCkgewogICAgICAgICAgICAgIHZhciBwb3MgPSAodmlld3BvcnQuZmlyc3QgLSAxKSAqIGl0ZW1TaXplOwogICAgICAgICAgICAgIGlzSG9yaXpvbnRhbCA/IHNjcm9sbFRvKHBvcywgMCkgOiBzY3JvbGxUbygwLCBwb3MpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChpc1RvRW5kKSB7CiAgICAgICAgICBpZiAoaXNCb3RoKSB7CiAgICAgICAgICAgIGlmICh2aWV3cG9ydC5sYXN0LnJvd3MgLSBmaXJzdC5yb3dzIDw9IGluZGV4WzBdICsgMSkgewogICAgICAgICAgICAgIHNjcm9sbFRvKHZpZXdwb3J0LmZpcnN0LmNvbHMgKiBpdGVtU2l6ZVsxXSwgKHZpZXdwb3J0LmZpcnN0LnJvd3MgKyAxKSAqIGl0ZW1TaXplWzBdKTsKICAgICAgICAgICAgfSBlbHNlIGlmICh2aWV3cG9ydC5sYXN0LmNvbHMgLSBmaXJzdC5jb2xzIDw9IGluZGV4WzFdICsgMSkgewogICAgICAgICAgICAgIHNjcm9sbFRvKCh2aWV3cG9ydC5maXJzdC5jb2xzICsgMSkgKiBpdGVtU2l6ZVsxXSwgdmlld3BvcnQuZmlyc3Qucm93cyAqIGl0ZW1TaXplWzBdKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKHZpZXdwb3J0Lmxhc3QgLSBmaXJzdCA8PSBpbmRleCArIDEpIHsKICAgICAgICAgICAgICB2YXIgX3BvczIgPSAodmlld3BvcnQuZmlyc3QgKyAxKSAqIGl0ZW1TaXplOwoKICAgICAgICAgICAgICBpc0hvcml6b250YWwgPyBzY3JvbGxUbyhfcG9zMiwgMCkgOiBzY3JvbGxUbygwLCBfcG9zMik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zY3JvbGxUb0luZGV4KGluZGV4LCBiZWhhdmlvcik7CiAgICAgIH0KICAgIH0sCiAgICBnZXRSZW5kZXJlZFJhbmdlOiBmdW5jdGlvbiBnZXRSZW5kZXJlZFJhbmdlKCkgewogICAgICB2YXIgaXNCb3RoID0gdGhpcy5pc0JvdGgoKTsKICAgICAgdmFyIGlzSG9yaXpvbnRhbCA9IHRoaXMuaXNIb3Jpem9udGFsKCk7CiAgICAgIHZhciBpdGVtU2l6ZSA9IHRoaXMuaXRlbVNpemU7CgogICAgICB2YXIgY2FsY3VsYXRlRmlyc3RJblZpZXdwb3J0ID0gZnVuY3Rpb24gY2FsY3VsYXRlRmlyc3RJblZpZXdwb3J0KF9wb3MsIF9zaXplKSB7CiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoX3BvcyAvIChfc2l6ZSB8fCBfcG9zKSk7CiAgICAgIH07CgogICAgICB2YXIgZmlyc3RJblZpZXdwb3J0ID0gdGhpcy5maXJzdDsKICAgICAgdmFyIGxhc3RJblZpZXdwb3J0ID0gMDsKCiAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHsKICAgICAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy5lbGVtZW50LnNjcm9sbFRvcDsKICAgICAgICB2YXIgc2Nyb2xsTGVmdCA9IHRoaXMuZWxlbWVudC5zY3JvbGxMZWZ0OwoKICAgICAgICBpZiAoaXNCb3RoKSB7CiAgICAgICAgICBmaXJzdEluVmlld3BvcnQgPSB7CiAgICAgICAgICAgIHJvd3M6IGNhbGN1bGF0ZUZpcnN0SW5WaWV3cG9ydChzY3JvbGxUb3AsIGl0ZW1TaXplWzBdKSwKICAgICAgICAgICAgY29sczogY2FsY3VsYXRlRmlyc3RJblZpZXdwb3J0KHNjcm9sbExlZnQsIGl0ZW1TaXplWzFdKQogICAgICAgICAgfTsKICAgICAgICAgIGxhc3RJblZpZXdwb3J0ID0gewogICAgICAgICAgICByb3dzOiBmaXJzdEluVmlld3BvcnQucm93cyArIHRoaXMubnVtSXRlbXNJblZpZXdwb3J0LnJvd3MsCiAgICAgICAgICAgIGNvbHM6IGZpcnN0SW5WaWV3cG9ydC5jb2xzICsgdGhpcy5udW1JdGVtc0luVmlld3BvcnQuY29scwogICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHNjcm9sbFBvcyA9IGlzSG9yaXpvbnRhbCA/IHNjcm9sbExlZnQgOiBzY3JvbGxUb3A7CiAgICAgICAgICBmaXJzdEluVmlld3BvcnQgPSBjYWxjdWxhdGVGaXJzdEluVmlld3BvcnQoc2Nyb2xsUG9zLCBpdGVtU2l6ZSk7CiAgICAgICAgICBsYXN0SW5WaWV3cG9ydCA9IGZpcnN0SW5WaWV3cG9ydCArIHRoaXMubnVtSXRlbXNJblZpZXdwb3J0OwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICBmaXJzdDogdGhpcy5maXJzdCwKICAgICAgICBsYXN0OiB0aGlzLmxhc3QsCiAgICAgICAgdmlld3BvcnQ6IHsKICAgICAgICAgIGZpcnN0OiBmaXJzdEluVmlld3BvcnQsCiAgICAgICAgICBsYXN0OiBsYXN0SW5WaWV3cG9ydAogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICBlbGVtZW50UmVmOiBmdW5jdGlvbiBlbGVtZW50UmVmKGVsKSB7CiAgICAgIHRoaXMuZWxlbWVudCA9IGVsOwogICAgfSwKICAgIGNvbnRlbnRSZWY6IGZ1bmN0aW9uIGNvbnRlbnRSZWYoZWwpIHsKICAgICAgdGhpcy5jb250ZW50ID0gZWw7CiAgICB9LAogICAgc3BhY2VyUmVmOiBmdW5jdGlvbiBzcGFjZXJSZWYoZWwpIHsKICAgICAgdGhpcy5zcGFjZXIgPSBlbDsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjb250YWluZXJDbGFzczogZnVuY3Rpb24gY29udGFpbmVyQ2xhc3MoKSB7CiAgICAgIHJldHVybiBbJ3AtdmlydHVhbHNjcm9sbGVyJywgewogICAgICAgICdwLWJvdGgtc2Nyb2xsJzogdGhpcy5pc0JvdGgoKSwKICAgICAgICAncC1ob3Jpem9udGFsLXNjcm9sbCc6IHRoaXMuaXNIb3Jpem9udGFsKCkKICAgICAgfSwgdGhpcy5jbGFzc107CiAgICB9LAogICAgbG9hZGVyQ2xhc3M6IGZ1bmN0aW9uIGxvYWRlckNsYXNzKCkgewogICAgICByZXR1cm4gWydwLXZpcnR1YWxzY3JvbGxlci1sb2FkZXInLCB7CiAgICAgICAgJ3AtY29tcG9uZW50LW92ZXJsYXknOiAhdGhpcy4kc2xvdHMubG9hZGVyCiAgICAgIH1dOwogICAgfSwKICAgIGxvYWRlZEl0ZW1zOiBmdW5jdGlvbiBsb2FkZWRJdGVtcygpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICB2YXIgaXRlbXMgPSB0aGlzLml0ZW1zOwoKICAgICAgaWYgKGl0ZW1zICYmICF0aGlzLmRfbG9hZGluZykgewogICAgICAgIHZhciBpc0JvdGggPSB0aGlzLmlzQm90aCgpOwoKICAgICAgICBpZiAoaXNCb3RoKSB7CiAgICAgICAgICByZXR1cm4gaXRlbXMuc2xpY2UodGhpcy5maXJzdC5yb3dzLCB0aGlzLmxhc3Qucm93cykubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHZhciBpdGVtcyA9IGl0ZW0uc2xpY2UoX3RoaXM4LmZpcnN0LmNvbHMsIF90aGlzOC5sYXN0LmNvbHMpOwogICAgICAgICAgICByZXR1cm4gaXRlbXM7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGl0ZW1zLnNsaWNlKHRoaXMuZmlyc3QsIHRoaXMubGFzdCkubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gW107CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/crocslut/Desktop/Git/main-cleanaway-pwa/src/components/virtualscroller/VirtualScroller.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <template v-if=\"!disabled\">\n        <div :ref=\"elementRef\" :class=\"containerClass\" :style=\"style\" @scroll=\"onScroll\">\n            <slot name=\"content\" styleClass=\"p-virtualscroller-content\" :contentRef=\"contentRef\" :items=\"loadedItems\" :getItemOptions=\"getOptions\">\n                <div :ref=\"contentRef\" class=\"p-virtualscroller-content\">\n                    <template v-for=\"(item, index) of loadedItems\" :key=\"index\">\n                        <slot name=\"item\" :item=\"item\" :options=\"getOptions(index)\"></slot>\n                    </template>\n                </div>\n            </slot>\n            <div :ref=\"spacerRef\" class=\"p-virtualscroller-spacer\"></div>\n            <div :class=\"loaderClass\" v-if=\"d_loading\">\n                <template v-for=\"(loadItem, index) of loaderArr\" :key=\"index\">\n                    <slot name=\"loader\" :options=\"getLoaderOptions(index)\">\n                        <i class=\"p-virtualscroller-loading-icon pi pi-spinner pi-spin\"></i>\n                    </slot>\n                </template>\n            </div>\n        </div>\n    </template>\n    <template v-else>\n        <slot></slot>\n        <slot name=\"content\" :items=\"items\"></slot>\n    </template>\n</template>\n\n<script>\nexport default {\n    name: 'VirtualScroller',\n    emits: ['update:numToleratedItems', 'scroll-index-change', 'lazy-load'],\n    props: {\n        items: {\n            type: Array,\n            default: null\n        },\n        itemSize: {\n            type: [Number,Array],\n            default: null\n        },\n        scrollHeight: null,\n        scrollWidth: null,\n        orientation: {\n            type: String,\n            default: 'vertical'\n        },\n        numToleratedItems: {\n            type: Number,\n            default: null\n        },\n        delay: {\n            type: Number,\n            default: 0\n        },\n        lazy: {\n            type: Boolean,\n            default: false\n        },\n        showLoader: {\n            type: Boolean,\n            default: false\n        },\n        loading: {\n            type: Boolean,\n            default: false\n        },\n        style: null,\n        class: null,\n        disabled: {\n            type: Boolean,\n            default: false\n        }\n    },\n    data() {\n        return {\n            first: this.isBoth() ? { rows: 0, cols: 0 } : 0,\n            last: this.isBoth() ? { rows: 0, cols: 0 } : 0,\n            numItemsInViewport: this.isBoth() ? { rows: 0, cols: 0 } : 0,\n            lastScrollPos: this.isBoth() ? { top: 0, left: 0 } : 0,\n            d_numToleratedItems: this.numToleratedItems,\n            d_loading: this.loading,\n            loaderArr: null\n        }\n    },\n    element: null,\n    content: null,\n    spacer: null,\n    scrollTimeout: null,\n    mounted() {\n        this.init();\n    },\n    watch: {\n        numToleratedItems(newValue) {\n            this.d_numToleratedItems = newValue;\n        },\n        loading(newValue) {\n            this.d_loading = newValue;\n        },\n        items(newValue, oldVal) {\n            if (!oldVal || oldVal.length !== (newValue || []).length) {\n                this.init();\n            }\n        }\n    },\n    methods: {\n        init() {\n            if (!this.disabled) {\n                this.setSize();\n                this.calculateOptions();\n                this.setSpacerSize();\n            }\n        },\n        getLast(last, isCols) {\n            return this.items ? Math.min((isCols ? this.items[0].length : this.items.length), last) : 0;\n        },\n        calculateOptions() {\n            const isBoth = this.isBoth();\n            const isHorizontal = this.isHorizontal();\n            const first = this.first;\n            const itemSize = this.itemSize;\n            const contentPadding = this.getContentPadding();\n            const contentWidth = this.element ? this.element.offsetWidth - contentPadding.left : 0;\n            const contentHeight = this.element ? this.element.offsetHeight - contentPadding.top : 0;\n            const calculateNumItemsInViewport = (_contentSize, _itemSize) => Math.ceil(_contentSize / (_itemSize || _contentSize));\n            const numItemsInViewport = isBoth ?\n                { rows: calculateNumItemsInViewport(contentHeight, itemSize[0]), cols: calculateNumItemsInViewport(contentWidth, itemSize[1]) } :\n                calculateNumItemsInViewport((isHorizontal ? contentWidth : contentHeight), itemSize);\n\n            let numToleratedItems = this.d_numToleratedItems || Math.ceil((isBoth ? numItemsInViewport.rows : numItemsInViewport) / 2);\n            const calculateLast = (_first, _num, _isCols) => this.getLast(_first + _num + ((_first < numToleratedItems ? 2 : 3) * numToleratedItems), _isCols);\n            const last = isBoth ?\n                { rows: calculateLast(first.rows, numItemsInViewport.rows), cols: calculateLast(first.cols, numItemsInViewport.cols, true) } :\n                calculateLast(first, numItemsInViewport);\n\n            this.d_numToleratedItems = numToleratedItems;\n            this.$emit('update:numToleratedItems', this.d_numToleratedItems);\n            this.last = last;\n            this.numItemsInViewport = numItemsInViewport;\n\n            if (this.showLoader) {\n                if (this.$slots && this.$slots.loader) {\n                    this.loaderArr = Array.from({ length: (isBoth ? numItemsInViewport.rows : numItemsInViewport) });\n                }\n                else {\n                    this.loaderArr = Array.from({ length: 1});\n                }\n            }\n\n            if (this.lazy) {\n                this.$emit('lazy-load', { first, last });\n            }\n        },\n        getContentPadding() {\n            if (this.content) {\n                const style = getComputedStyle(this.content);\n                const left = parseInt(parseFloat(style.paddingLeft.slice(0, -2)), 10);\n                const right = parseInt(parseFloat(style.paddingRight.slice(0, -2)), 10);\n                const top = parseInt(parseFloat(style.paddingTop.slice(0, -2)), 10);\n                const bottom = parseInt(parseFloat(style.paddingBottom.slice(0, -2)), 10);\n\n                return { left, right, top, bottom, x: left + right, y: top + bottom };\n            }\n\n            return { left: 0, right: 0, top: 0, bottom: 0, x: 0, y: 0 };\n        },\n        setSize() {\n            if (this.element) {\n                const isBoth = this.isBoth();\n                const isHorizontal = this.isHorizontal();\n                const parentElement = this.element.parentElement;\n                const width = this.scrollWidth || `${(this.element.offsetWidth || parentElement.offsetWidth)}px`;\n                const height = this.scrollHeight || `${(this.element.offsetHeight || parentElement.offsetHeight)}px`;\n                const setProp = (_name, _value) => this.element.style[_name] = _value;\n\n                if (isBoth) {\n                    setProp('height', height);\n                    setProp('width', width);\n                }\n                else {\n                    isHorizontal ? setProp('width', width) : setProp('height', height);\n                }\n            }\n        },\n        setSpacerSize() {\n            const items = this.items;\n\n            if (this.spacer && items) {\n                const isBoth = this.isBoth();\n                const isHorizontal = this.isHorizontal();\n                const itemSize = this.itemSize;\n                const contentPadding = this.getContentPadding();\n                const setProp = (_name, _value, _size, _padding = 0) => this.spacer.style[_name] = (((_value || []).length * _size) + _padding) + 'px';\n\n                if (isBoth) {\n                    setProp('height', items[0], itemSize[0], contentPadding.y);\n                    setProp('width', items[1], itemSize[1], contentPadding.x);\n                }\n                else {\n                    isHorizontal ? setProp('width', items, itemSize, contentPadding.x) : setProp('height', items, itemSize, contentPadding.y);\n                }\n            }\n        },\n        setContentPosition(pos) {\n            if (this.content) {\n                const isBoth = this.isBoth();\n                const isHorizontal = this.isHorizontal();\n                const content = this.content;\n                const first = pos ? pos.first : this.first;\n                const itemSize = this.itemSize;\n                const calculateTranslateVal = (_first, _size) => (_first * _size);\n                const setTransform = (_x = 0, _y = 0) => content.style.transform = `translate3d(${_x}px, ${_y}px, 0)`;\n\n                if (isBoth) {\n                    setTransform(calculateTranslateVal(first.cols, itemSize[1]), calculateTranslateVal(first.rows, itemSize[0]));\n                }\n                else {\n                    const translateVal = calculateTranslateVal(first, itemSize);\n                    isHorizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n                }\n            }\n        },\n        onScrollPositionChange(event) {\n            const target = event.target;\n            const isBoth = this.isBoth();\n            const isHorizontal = this.isHorizontal();\n            const itemSize = this.itemSize;\n            const contentPadding = this.getContentPadding();\n            const calculateScrollPos = (_pos, _padding) => _pos ? (_pos > _padding ? _pos - _padding : _pos) : 0;\n            const calculateCurrentIndex = (_pos, _size) => Math.floor(_pos / (_size || _pos));\n            const calculateTriggerIndex = (_currentIndex, _first, _last, _num, _isScrollDownOrRight) => {\n                return (_currentIndex <= this.d_numToleratedItems ? this.d_numToleratedItems : (_isScrollDownOrRight ? (_last - _num - this.d_numToleratedItems) : (_first + this.d_numToleratedItems - 1)))\n            };\n            const calculateFirst = (_currentIndex, _triggerIndex, _first, _last, _num, _isScrollDownOrRight) => {\n                if (_currentIndex <= this.d_numToleratedItems)\n                    return 0;\n                else\n                    return _isScrollDownOrRight ?\n                        (_currentIndex < _triggerIndex ? _first : _currentIndex - this.d_numToleratedItems) :\n                        (_currentIndex > _triggerIndex ? _first : _currentIndex - (2 * this.d_numToleratedItems));\n            };\n            const calculateLast = (_currentIndex, _first, _last, _num, _isCols) => {\n                let lastValue = _first + _num + (2 * this.d_numToleratedItems);\n\n                if (_currentIndex >= this.d_numToleratedItems) {\n                    lastValue += (this.d_numToleratedItems + 1);\n                }\n\n                return this.getLast(lastValue, _isCols);\n            };\n\n            const scrollTop = calculateScrollPos(target.scrollTop, contentPadding.top);\n            const scrollLeft = calculateScrollPos(target.scrollLeft, contentPadding.left);\n\n            let newFirst = 0;\n            let newLast = this.last;\n            let isRangeChanged = false;\n\n            if (isBoth) {\n                const isScrollDown = this.lastScrollPos.top <= scrollTop;\n                const isScrollRight = this.lastScrollPos.left <= scrollLeft;\n                const currentIndex = { rows: calculateCurrentIndex(scrollTop, itemSize[0]), cols: calculateCurrentIndex(scrollLeft, itemSize[1]) };\n                const triggerIndex = {\n                    rows: calculateTriggerIndex(currentIndex.rows, this.first.rows, this.last.rows, this.numItemsInViewport.rows, isScrollDown),\n                    cols: calculateTriggerIndex(currentIndex.cols, this.first.cols, this.last.cols, this.numItemsInViewport.cols, isScrollRight)\n                };\n\n                newFirst = {\n                    rows: calculateFirst(currentIndex.rows, triggerIndex.rows, this.first.rows, this.last.rows, this.numItemsInViewport.rows, isScrollDown),\n                    cols: calculateFirst(currentIndex.cols, triggerIndex.cols, this.first.cols, this.last.cols, this.numItemsInViewport.cols, isScrollRight)\n                };\n                newLast = {\n                    rows: calculateLast(currentIndex.rows, newFirst.rows, this.last.rows, this.numItemsInViewport.rows),\n                    cols: calculateLast(currentIndex.cols, newFirst.cols, this.last.cols, this.numItemsInViewport.cols, true)\n                };\n                isRangeChanged = (newFirst.rows !== this.first.rows || newFirst.cols !== this.first.cols) || (newLast.rows !== this.last.rows || newLast.cols !== this.last.cols);\n\n                this.lastScrollPos = { top: scrollTop, left: scrollLeft };\n            }\n            else {\n                const scrollPos = isHorizontal ? scrollLeft : scrollTop;\n                const isScrollDownOrRight = this.lastScrollPos <= scrollPos;\n                const currentIndex = calculateCurrentIndex(scrollPos, itemSize);\n                const triggerIndex = calculateTriggerIndex(currentIndex, this.first, this.last, this.numItemsInViewport, isScrollDownOrRight);\n\n                newFirst = calculateFirst(currentIndex, triggerIndex, this.first, this.last, this.numItemsInViewport, isScrollDownOrRight);\n                newLast = calculateLast(currentIndex, newFirst, this.last, this.numItemsInViewport);\n                isRangeChanged = newFirst !== this.first || newLast !== this.last;\n\n                this.lastScrollPos = scrollPos;\n            }\n\n            return {\n                first: newFirst,\n                last: newLast,\n                isRangeChanged\n            }\n        },\n        onScrollChange(event) {\n            const { first, last, isRangeChanged } = this.onScrollPositionChange(event);\n\n            if (isRangeChanged) {\n                const newState = { first, last };\n\n                this.setContentPosition(newState);\n\n                if (this.lazy) {\n                    this.$emit('lazy-load', { first, last });\n                }\n                this.first = first;\n                this.last = last;\n\n                this.$emit('scroll-index-change', { first, last });\n            }\n        },\n        onScroll(event) {\n            if (this.delay && !this.lazy) {\n                if (this.scrollTimeout) {\n                    clearTimeout(this.scrollTimeout);\n                }\n\n                if (!this.d_loading && this.showLoader) {\n                    const { isRangeChanged: changed } = this.onScrollPositionChange(event);\n\n                    if (changed) {\n                        this.d_loading = true;\n                    }\n                }\n\n                this.scrollTimeout = setTimeout(() => {\n                    this.onScrollChange(event);\n\n                    if (this.d_loading && this.showLoader && !this.lazy) {\n                        this.d_loading = false;\n                    }\n                }, this.delay);\n            }\n            else {\n                this.onScrollChange(event);\n            }\n        },\n        getOptions(renderedIndex) {\n            let count = this.items.length;\n            let index = this.isBoth() ? this.first.rows + renderedIndex : this.first + renderedIndex;\n            return {\n                index,\n                count,\n                first: index === 0,\n                last: index === (count - 1),\n                even: index % 2 === 0,\n                odd: index % 2 !== 0\n            };\n        },\n        getLoaderOptions(index) {\n            let count = this.loaderArr.length;\n            return {\n                loading: this.d_loading,\n                first: index === 0,\n                last: index === (count - 1),\n                even: index % 2 === 0,\n                odd: index % 2 !== 0\n            }\n        },\n        isHorizontal() {\n            return this.orientation === 'horizontal';\n        },\n        isBoth() {\n            return this.orientation === 'both';\n        },\n        scrollTo(options) {\n            if (this.element) {\n                this.element.scrollTo(options);\n            }\n        },\n        scrollToIndex(index, behavior = 'auto') {\n            const isBoth = this.isBoth();\n            const isHorizontal = this.isHorizontal();\n            const itemSize = this.itemSize;\n            const contentPadding = this.getContentPadding();\n            const calculateFirst = (_index = 0) => (_index <= this.d_numToleratedItems ? 0 : _index);\n            const calculateCoord = (_first, _size, _padding) => (_first * _size) + _padding;\n            const scrollTo = (left = 0, top = 0) => this.scrollTo({ left, top, behavior });\n\n            if (isBoth) {\n                const newFirst = { rows: calculateFirst(index[0]), cols: calculateFirst(index[1]) };\n                if (newFirst.rows !== this.first.rows || newFirst.cols !== this.first.cols)\n                    scrollTo(calculateCoord(newFirst.cols, itemSize[1], contentPadding.left),calculateCoord(newFirst.rows, itemSize[0], contentPadding.top));\n            }\n            else {\n                const newFirst = calculateFirst(index);\n\n                if (newFirst !== this.first) {\n                    isHorizontal ? scrollTo(calculateCoord(newFirst, itemSize, contentPadding.left), 0) : scrollTo(0, calculateCoord(newFirst, itemSize, contentPadding.top));\n                }\n\n                this.first = newFirst;\n            }\n        },\n        scrollInView(index, to, behavior = 'auto') {\n            if (to) {\n                const isBoth = this.isBoth();\n                const isHorizontal = this.isHorizontal();\n                const { first, viewport } = this.getRenderedRange();\n                const itemSize = this.itemSize;\n                const scrollTo = (left = 0, top = 0) => this.scrollTo({ left, top, behavior });\n                const isToStart = to === 'to-start';\n                const isToEnd = to === 'to-end';\n\n                if (isToStart) {\n                    if (isBoth) {\n                        if (viewport.first.rows - first.rows > index[0]) {\n                            scrollTo(viewport.first.cols * itemSize[1], (viewport.first.rows - 1) * itemSize[0]);\n                        }\n                        else if (viewport.first.cols - first.cols > index[1]) {\n                            scrollTo((viewport.first.cols - 1) * itemSize[1], viewport.first.rows * itemSize[0]);\n                        }\n                    }\n                    else {\n                        if (viewport.first - first > index) {\n                            const pos = (viewport.first - 1) * itemSize;\n                            isHorizontal ? scrollTo(pos, 0) : scrollTo(0, pos);\n                        }\n                    }\n                }\n                else if (isToEnd) {\n                    if (isBoth) {\n                        if (viewport.last.rows - first.rows <= index[0] + 1) {\n                            scrollTo(viewport.first.cols * itemSize[1], (viewport.first.rows + 1) * itemSize[0]);\n                        }\n                        else if (viewport.last.cols - first.cols <= index[1] + 1) {\n                            scrollTo((viewport.first.cols + 1) * itemSize[1], viewport.first.rows * itemSize[0]);\n                        }\n                    }\n                    else {\n                        if (viewport.last - first <= index + 1) {\n                            const pos = (viewport.first + 1) * itemSize;\n                            isHorizontal ? scrollTo(pos, 0) : scrollTo(0, pos);\n                        }\n                    }\n                }\n            }\n            else {\n                this.scrollToIndex(index, behavior);\n            }\n        },\n        getRenderedRange() {\n            const isBoth = this.isBoth();\n            const isHorizontal = this.isHorizontal();\n            const itemSize = this.itemSize;\n            const calculateFirstInViewport = (_pos, _size) => Math.floor(_pos / (_size || _pos));\n\n            let firstInViewport = this.first;\n            let lastInViewport = 0;\n\n            if (this.element) {\n                const scrollTop = this.element.scrollTop;\n                const scrollLeft = this.element.scrollLeft;\n\n                if (isBoth) {\n                    firstInViewport = { rows: calculateFirstInViewport(scrollTop, itemSize[0]), cols: calculateFirstInViewport(scrollLeft, itemSize[1]) };\n                    lastInViewport = { rows: firstInViewport.rows + this.numItemsInViewport.rows, cols: firstInViewport.cols + this.numItemsInViewport.cols };\n                }\n                else {\n                    const scrollPos = isHorizontal ? scrollLeft : scrollTop;\n                    firstInViewport = calculateFirstInViewport(scrollPos, itemSize);\n                    lastInViewport = firstInViewport + this.numItemsInViewport;\n                }\n            }\n\n            return {\n                first: this.first,\n                last: this.last,\n                viewport: {\n                    first: firstInViewport,\n                    last: lastInViewport\n                }\n            };\n        },\n        elementRef(el) {\n            this.element = el;\n        },\n        contentRef(el) {\n            this.content = el;\n        },\n        spacerRef(el) {\n            this.spacer = el;\n        }\n    },\n    computed: {\n        containerClass() {\n            return ['p-virtualscroller', {\n                'p-both-scroll': this.isBoth(),\n                'p-horizontal-scroll': this.isHorizontal()\n            }, this.class];\n        },\n        loaderClass() {\n            return ['p-virtualscroller-loader', {\n                'p-component-overlay': !this.$slots.loader\n            }];\n        },\n        loadedItems() {\n            const items = this.items;\n            if (items && !this.d_loading) {\n                const isBoth = this.isBoth();\n\n                if (isBoth) {\n                    return items.slice(this.first.rows, this.last.rows).map((item) => {\n                        const items = item.slice(this.first.cols, this.last.cols);\n                        return items;\n                    });\n                }\n                else {\n                    return items.slice(this.first, this.last).map((item) => {\n                        return item;\n                    });\n                }\n            }\n\n            return [];\n        }\n    }\n}\n</script>\n\n<style>\n.p-virtualscroller {\n    position: relative;\n    overflow: auto;\n    contain: strict;\n    transform: translateZ(0);\n    will-change: scroll-position;\n}\n\n.p-virtualscroller-content {\n    position: absolute;\n    top: 0;\n    left: 0;\n    contain: content;\n    min-height: 100%;\n    min-width: 100%;\n    will-change: transform;\n}\n\n.p-virtualscroller-spacer {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 1px;\n    width: 1px;\n    transform-origin: 0 0;\n    pointer-events: none;\n}\n\n.p-virtualscroller .p-virtualscroller-loader {\n    position: sticky;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n\n.p-virtualscroller-loader.p-component-overlay {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n</style>\n"],"sourceRoot":""}]}