{"remainingRequest":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/babel-loader/lib/index.js!/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/crocslut/Desktop/Git/main-cleanaway-pwa/src/components/deferredcontent/DeferredContent.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/src/components/deferredcontent/DeferredContent.vue","mtime":1634589566217},{"path":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/cache-loader/dist/cjs.js","mtime":1634585934434},{"path":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/babel-loader/lib/index.js","mtime":1634585934594},{"path":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/cache-loader/dist/cjs.js","mtime":1634585934434},{"path":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/vue-loader-v16/dist/index.js","mtime":1634585949898}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdEZWZlcnJlZENvbnRlbnQnLAogIGVtaXRzOiBbJ2xvYWQnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGVkOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBpZiAoIXRoaXMubG9hZGVkKSB7CiAgICAgIGlmICh0aGlzLnNob3VsZExvYWQoKSkgdGhpcy5sb2FkKCk7ZWxzZSB0aGlzLmJpbmRTY3JvbGxMaXN0ZW5lcigpOwogICAgfQogIH0sCiAgYmVmb3JlVW5tb3VudDogZnVuY3Rpb24gYmVmb3JlVW5tb3VudCgpIHsKICAgIHRoaXMudW5iaW5kU2Nyb2xsTGlzdGVuZXIoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGJpbmRTY3JvbGxMaXN0ZW5lcjogZnVuY3Rpb24gYmluZFNjcm9sbExpc3RlbmVyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5kb2N1bWVudFNjcm9sbExpc3RlbmVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChfdGhpcy5zaG91bGRMb2FkKCkpIHsKICAgICAgICAgIF90aGlzLmxvYWQoKTsKCiAgICAgICAgICBfdGhpcy51bmJpbmRTY3JvbGxMaXN0ZW5lcigpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmRvY3VtZW50U2Nyb2xsTGlzdGVuZXIpOwogICAgfSwKICAgIHVuYmluZFNjcm9sbExpc3RlbmVyOiBmdW5jdGlvbiB1bmJpbmRTY3JvbGxMaXN0ZW5lcigpIHsKICAgICAgaWYgKHRoaXMuZG9jdW1lbnRTY3JvbGxMaXN0ZW5lcikgewogICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmRvY3VtZW50U2Nyb2xsTGlzdGVuZXIpOwogICAgICAgIHRoaXMuZG9jdW1lbnRTY3JvbGxMaXN0ZW5lciA9IG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBzaG91bGRMb2FkOiBmdW5jdGlvbiBzaG91bGRMb2FkKCkgewogICAgICBpZiAodGhpcy5sb2FkZWQpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLiRyZWZzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICB2YXIgZG9jRWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKICAgICAgICB2YXIgd2luSGVpZ2h0ID0gZG9jRWxlbWVudC5jbGllbnRIZWlnaHQ7CiAgICAgICAgcmV0dXJuIHdpbkhlaWdodCA+PSByZWN0LnRvcDsKICAgICAgfQogICAgfSwKICAgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQoKSB7CiAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTsKICAgICAgdGhpcy4kZW1pdCgnbG9hZCcsIGV2ZW50KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/crocslut/Desktop/Git/main-cleanaway-pwa/src/components/deferredcontent/DeferredContent.vue"],"names":[],"mappings":"AAOA,eAAe;AACX,EAAA,IAAI,EAAE,iBADK;AAEX,EAAA,KAAK,EAAE,CAAC,MAAD,CAFI;AAGX,EAAA,IAHW,kBAGJ;AACH,WAAO;AACJ,MAAA,MAAM,EAAE;AADJ,KAAP;AAGH,GAPU;AAQX,EAAA,OARW,qBAQD;AACN,QAAI,CAAC,KAAK,MAAV,EAAkB;AACd,UAAI,KAAK,UAAL,EAAJ,EACI,KAAK,IAAL,GADJ,KAGI,KAAK,kBAAL;AACR;AACH,GAfU;AAgBX,EAAA,aAhBW,2BAgBK;AACZ,SAAK,oBAAL;AACH,GAlBU;AAmBX,EAAA,OAAO,EAAE;AACL,IAAA,kBADK,gCACgB;AAAA;;AACjB,WAAK,sBAAL,GAA8B,YAAM;AAChC,YAAI,KAAI,CAAC,UAAL,EAAJ,EAAuB;AACnB,UAAA,KAAI,CAAC,IAAL;;AACA,UAAA,KAAI,CAAC,oBAAL;AACJ;AACH,OALD;;AAOA,MAAA,MAAM,CAAC,gBAAP,CAAwB,QAAxB,EAAkC,KAAK,sBAAvC;AACH,KAVI;AAWL,IAAA,oBAXK,kCAWkB;AACnB,UAAI,KAAK,sBAAT,EAAiC;AAC7B,QAAA,MAAM,CAAC,mBAAP,CAA2B,QAA3B,EAAqC,KAAK,sBAA1C;AACA,aAAK,sBAAL,GAA8B,IAA9B;AACJ;AACH,KAhBI;AAiBL,IAAA,UAjBK,wBAiBQ;AACT,UAAI,KAAK,MAAT,EAAiB;AACb,eAAO,KAAP;AACJ,OAFA,MAGK;AACD,YAAM,IAAG,GAAI,KAAK,KAAL,CAAW,SAAX,CAAqB,qBAArB,EAAb;AACA,YAAM,UAAS,GAAI,QAAQ,CAAC,eAA5B;AACA,YAAM,SAAQ,GAAI,UAAU,CAAC,YAA7B;AAEA,eAAQ,SAAQ,IAAK,IAAI,CAAC,GAA1B;AACJ;AACH,KA5BI;AA6BL,IAAA,IA7BK,kBA6BE;AACH,WAAK,MAAL,GAAc,IAAd;AACA,WAAK,KAAL,CAAW,MAAX,EAAmB,KAAnB;AACJ;AAhCK;AAnBE,CAAf","sourcesContent":["<template>\n    <div ref=\"container\">\n        <slot v-if=\"loaded\"></slot>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'DeferredContent',\n    emits: ['load'],\n    data() {\n        return {\n           loaded: false\n        }\n    },\n    mounted() {\n        if (!this.loaded) {\n            if (this.shouldLoad())\n                this.load();\n            else\n                this.bindScrollListener();\n        }\n    },\n    beforeUnmount() {\n        this.unbindScrollListener();\n    },\n    methods: {\n        bindScrollListener() {\n            this.documentScrollListener = () => {\n                if (this.shouldLoad()) {\n                    this.load();\n                    this.unbindScrollListener();\n                }\n            };\n\n            window.addEventListener('scroll', this.documentScrollListener);\n        },\n        unbindScrollListener() {\n            if (this.documentScrollListener) {\n                window.removeEventListener('scroll', this.documentScrollListener);\n                this.documentScrollListener = null;\n            }\n        },\n        shouldLoad() {\n            if (this.loaded) {\n                return false;\n            }\n            else {\n                const rect = this.$refs.container.getBoundingClientRect();\n                const docElement = document.documentElement;\n                const winHeight = docElement.clientHeight;\n\n                return (winHeight >= rect.top);\n            }\n        },\n        load() {\n            this.loaded = true;\n            this.$emit('load', event);\n        }\n    }\n}\n</script>\n"],"sourceRoot":""}]}