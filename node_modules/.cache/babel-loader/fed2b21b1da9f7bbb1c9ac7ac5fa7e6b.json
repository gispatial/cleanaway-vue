{"remainingRequest":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/babel-loader/lib/index.js!/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/crocslut/Desktop/Git/main-cleanaway-pwa/src/components/datatable/DataTable.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/src/components/datatable/DataTable.vue","mtime":1634589566215},{"path":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/cache-loader/dist/cjs.js","mtime":1634585934434},{"path":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/babel-loader/lib/index.js","mtime":1634585934594},{"path":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/cache-loader/dist/cjs.js","mtime":1634585934434},{"path":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/vue-loader-v16/dist/index.js","mtime":1634585949898}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9Vc2Vycy9jcm9jc2x1dC9EZXNrdG9wL0dpdC9tYWluLWNsZWFuYXdheS1wd2Evbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvY3JvY3NsdXQvRGVza3RvcC9HaXQvbWFpbi1jbGVhbmF3YXktcHdhL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9jcm9jc2x1dC9EZXNrdG9wL0dpdC9tYWluLWNsZWFuYXdheS1wd2Evbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9Vc2Vycy9jcm9jc2x1dC9EZXNrdG9wL0dpdC9tYWluLWNsZWFuYXdheS1wd2Evbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZW50cmllcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCB7IE9iamVjdFV0aWxzLCBEb21IYW5kbGVyLCBVbmlxdWVDb21wb25lbnRJZCB9IGZyb20gJ3ByaW1ldnVlL3V0aWxzJzsKaW1wb3J0IHsgRmlsdGVyTWF0Y2hNb2RlLCBGaWx0ZXJPcGVyYXRvciwgRmlsdGVyU2VydmljZSB9IGZyb20gJ3ByaW1ldnVlL2FwaSc7CmltcG9ydCBQYWdpbmF0b3IgZnJvbSAncHJpbWV2dWUvcGFnaW5hdG9yJzsKaW1wb3J0IFRhYmxlSGVhZGVyIGZyb20gJy4vVGFibGVIZWFkZXIudnVlJzsKaW1wb3J0IFRhYmxlQm9keSBmcm9tICcuL1RhYmxlQm9keS52dWUnOwppbXBvcnQgVGFibGVGb290ZXIgZnJvbSAnLi9UYWJsZUZvb3Rlci52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0RhdGFUYWJsZScsCiAgZW1pdHM6IFsndmFsdWUtY2hhbmdlJywgJ3VwZGF0ZTpmaXJzdCcsICd1cGRhdGU6cm93cycsICdwYWdlJywgJ3VwZGF0ZTpzb3J0RmllbGQnLCAndXBkYXRlOnNvcnRPcmRlcicsICd1cGRhdGU6bXVsdGlTb3J0TWV0YScsICdzb3J0JywgJ2ZpbHRlcicsICdyb3ctY2xpY2snLCAncm93LWRibGNsaWNrJywgJ3VwZGF0ZTpzZWxlY3Rpb24nLCAncm93LXNlbGVjdCcsICdyb3ctdW5zZWxlY3QnLCAndXBkYXRlOmNvbnRleHRNZW51U2VsZWN0aW9uJywgJ3Jvdy1jb250ZXh0bWVudScsICdyb3ctdW5zZWxlY3QtYWxsJywgJ3Jvdy1zZWxlY3QtYWxsJywgJ2NvbHVtbi1yZXNpemUtZW5kJywgJ2NvbHVtbi1yZW9yZGVyJywgJ3Jvdy1yZW9yZGVyJywgJ3VwZGF0ZTpleHBhbmRlZFJvd3MnLCAncm93LWNvbGxhcHNlJywgJ3Jvdy1leHBhbmQnLCAndXBkYXRlOmV4cGFuZGVkUm93R3JvdXBzJywgJ3Jvd2dyb3VwLWNvbGxhcHNlJywgJ3Jvd2dyb3VwLWV4cGFuZCcsICd1cGRhdGU6ZmlsdGVycycsICdzdGF0ZS1yZXN0b3JlJywgJ3N0YXRlLXNhdmUnLCAnY2VsbC1lZGl0LWluaXQnLCAnY2VsbC1lZGl0LWNvbXBsZXRlJywgJ2NlbGwtZWRpdC1jYW5jZWwnLCAndXBkYXRlOmVkaXRpbmdSb3dzJywgJ3Jvdy1lZGl0LWluaXQnLCAncm93LWVkaXQtc2F2ZScsICdyb3ctZWRpdC1jYW5jZWwnXSwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBkYXRhS2V5OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIHJvd3M6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9LAogICAgZmlyc3Q6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9LAogICAgdG90YWxSZWNvcmRzOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIHBhZ2luYXRvcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHBhZ2luYXRvclBvc2l0aW9uOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2JvdHRvbScKICAgIH0sCiAgICBhbHdheXNTaG93UGFnaW5hdG9yOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBwYWdpbmF0b3JUZW1wbGF0ZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdGaXJzdFBhZ2VMaW5rIFByZXZQYWdlTGluayBQYWdlTGlua3MgTmV4dFBhZ2VMaW5rIExhc3RQYWdlTGluayBSb3dzUGVyUGFnZURyb3Bkb3duJwogICAgfSwKICAgIHBhZ2VMaW5rU2l6ZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDUKICAgIH0sCiAgICByb3dzUGVyUGFnZU9wdGlvbnM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBjdXJyZW50UGFnZVJlcG9ydFRlbXBsYXRlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJyh7Y3VycmVudFBhZ2V9IG9mIHt0b3RhbFBhZ2VzfSknCiAgICB9LAogICAgbGF6eTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGxvYWRpbmc6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBsb2FkaW5nSWNvbjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdwaSBwaS1zcGlubmVyJwogICAgfSwKICAgIHNvcnRGaWVsZDogewogICAgICB0eXBlOiBbU3RyaW5nLCBGdW5jdGlvbl0sCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBzb3J0T3JkZXI6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgZGVmYXVsdFNvcnRPcmRlcjogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0sCiAgICBtdWx0aVNvcnRNZXRhOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgc29ydE1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnc2luZ2xlJwogICAgfSwKICAgIHJlbW92YWJsZVNvcnQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBmaWx0ZXJzOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIGZpbHRlckRpc3BsYXk6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgZ2xvYmFsRmlsdGVyRmllbGRzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgZmlsdGVyTG9jYWxlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogdW5kZWZpbmVkCiAgICB9LAogICAgc2VsZWN0aW9uOiB7CiAgICAgIHR5cGU6IFtBcnJheSwgT2JqZWN0XSwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIHNlbGVjdGlvbk1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgY29tcGFyZVNlbGVjdGlvbkJ5OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2RlZXBFcXVhbHMnCiAgICB9LAogICAgbWV0YUtleVNlbGVjdGlvbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgY29udGV4dE1lbnU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBjb250ZXh0TWVudVNlbGVjdGlvbjogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICByb3dIb3ZlcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGNzdlNlcGFyYXRvcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcsJwogICAgfSwKICAgIGV4cG9ydEZpbGVuYW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2Rvd25sb2FkJwogICAgfSwKICAgIGV4cG9ydEZ1bmN0aW9uOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgYXV0b0xheW91dDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHJlc2l6YWJsZUNvbHVtbnM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBjb2x1bW5SZXNpemVNb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2ZpdCcKICAgIH0sCiAgICByZW9yZGVyYWJsZUNvbHVtbnM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBleHBhbmRlZFJvd3M6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBleHBhbmRlZFJvd0ljb246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAncGktY2hldnJvbi1kb3duJwogICAgfSwKICAgIGNvbGxhcHNlZFJvd0ljb246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAncGktY2hldnJvbi1yaWdodCcKICAgIH0sCiAgICByb3dHcm91cE1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgZ3JvdXBSb3dzQnk6IHsKICAgICAgdHlwZTogW0FycmF5LCBTdHJpbmddLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgZXhwYW5kYWJsZVJvd0dyb3VwczogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGV4cGFuZGVkUm93R3JvdXBzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgc3RhdGVTdG9yYWdlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3Nlc3Npb24nCiAgICB9LAogICAgc3RhdGVLZXk6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgZWRpdE1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgZWRpdGluZ1Jvd3M6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICByb3dDbGFzczogewogICAgICB0eXBlOiBudWxsLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgc2Nyb2xsYWJsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHNjcm9sbERpcmVjdGlvbjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICJ2ZXJ0aWNhbCIKICAgIH0sCiAgICBzY3JvbGxIZWlnaHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgZnJvemVuVmFsdWU6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICByZXNwb25zaXZlTGF5b3V0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3N0YWNrJwogICAgfSwKICAgIGJyZWFrcG9pbnQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnOTYwcHgnCiAgICB9LAogICAgc2hvd0dyaWRsaW5lczogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHN0cmlwZWRSb3dzOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZF9maXJzdDogdGhpcy5maXJzdCwKICAgICAgZF9yb3dzOiB0aGlzLnJvd3MsCiAgICAgIGRfc29ydEZpZWxkOiB0aGlzLnNvcnRGaWVsZCwKICAgICAgZF9zb3J0T3JkZXI6IHRoaXMuc29ydE9yZGVyLAogICAgICBkX211bHRpU29ydE1ldGE6IHRoaXMubXVsdGlTb3J0TWV0YSA/IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLm11bHRpU29ydE1ldGEpIDogW10sCiAgICAgIGRfZ3JvdXBSb3dzU29ydE1ldGE6IG51bGwsCiAgICAgIGRfc2VsZWN0aW9uS2V5czogbnVsbCwKICAgICAgZF9leHBhbmRlZFJvd0tleXM6IG51bGwsCiAgICAgIGRfY29sdW1uT3JkZXI6IG51bGwsCiAgICAgIGRfZWRpdGluZ1Jvd0tleXM6IG51bGwsCiAgICAgIGRfZWRpdGluZ01ldGE6IHt9LAogICAgICBkX2ZpbHRlcnM6IHRoaXMuY2xvbmVGaWx0ZXJzKHRoaXMuZmlsdGVycykKICAgIH07CiAgfSwKICByb3dUb3VjaGVkOiBmYWxzZSwKICBhbmNob3JSb3dJbmRleDogbnVsbCwKICByYW5nZVJvd0luZGV4OiBudWxsLAogIGRvY3VtZW50Q29sdW1uUmVzaXplTGlzdGVuZXI6IG51bGwsCiAgZG9jdW1lbnRDb2x1bW5SZXNpemVFbmRMaXN0ZW5lcjogbnVsbCwKICBsYXN0UmVzaXplSGVscGVyWDogbnVsbCwKICByZXNpemVDb2x1bW5FbGVtZW50OiBudWxsLAogIGNvbHVtblJlc2l6aW5nOiBmYWxzZSwKICBjb2xSZW9yZGVySWNvbldpZHRoOiBudWxsLAogIGNvbFJlb3JkZXJJY29uSGVpZ2h0OiBudWxsLAogIGRyYWdnZWRDb2x1bW46IG51bGwsCiAgZHJhZ2dlZFJvd0luZGV4OiBudWxsLAogIGRyb3BwZWRSb3dJbmRleDogbnVsbCwKICByb3dEcmFnZ2luZzogbnVsbCwKICBjb2x1bW5XaWR0aHNTdGF0ZTogbnVsbCwKICB0YWJsZVdpZHRoU3RhdGU6IG51bGwsCiAgY29sdW1uV2lkdGhzUmVzdG9yZWQ6IGZhbHNlLAogIHdhdGNoOiB7CiAgICBmaXJzdDogZnVuY3Rpb24gZmlyc3QobmV3VmFsdWUpIHsKICAgICAgdGhpcy5kX2ZpcnN0ID0gbmV3VmFsdWU7CiAgICB9LAogICAgcm93czogZnVuY3Rpb24gcm93cyhuZXdWYWx1ZSkgewogICAgICB0aGlzLmRfcm93cyA9IG5ld1ZhbHVlOwogICAgfSwKICAgIHNvcnRGaWVsZDogZnVuY3Rpb24gc29ydEZpZWxkKG5ld1ZhbHVlKSB7CiAgICAgIHRoaXMuZF9zb3J0RmllbGQgPSBuZXdWYWx1ZTsKICAgIH0sCiAgICBzb3J0T3JkZXI6IGZ1bmN0aW9uIHNvcnRPcmRlcihuZXdWYWx1ZSkgewogICAgICB0aGlzLmRfc29ydE9yZGVyID0gbmV3VmFsdWU7CiAgICB9LAogICAgbXVsdGlTb3J0TWV0YTogZnVuY3Rpb24gbXVsdGlTb3J0TWV0YShuZXdWYWx1ZSkgewogICAgICB0aGlzLmRfbXVsdGlTb3J0TWV0YSA9IG5ld1ZhbHVlOwogICAgfSwKICAgIHNlbGVjdGlvbjogewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3VmFsdWUpIHsKICAgICAgICBpZiAodGhpcy5kYXRhS2V5KSB7CiAgICAgICAgICB0aGlzLnVwZGF0ZVNlbGVjdGlvbktleXMobmV3VmFsdWUpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGV4cGFuZGVkUm93czogZnVuY3Rpb24gZXhwYW5kZWRSb3dzKG5ld1ZhbHVlKSB7CiAgICAgIGlmICh0aGlzLmRhdGFLZXkpIHsKICAgICAgICB0aGlzLnVwZGF0ZUV4cGFuZGVkUm93S2V5cyhuZXdWYWx1ZSk7CiAgICAgIH0KICAgIH0sCiAgICBlZGl0aW5nUm93czogZnVuY3Rpb24gZWRpdGluZ1Jvd3MobmV3VmFsdWUpIHsKICAgICAgaWYgKHRoaXMuZGF0YUtleSkgewogICAgICAgIHRoaXMudXBkYXRlRWRpdGluZ1Jvd0tleXMobmV3VmFsdWUpOwogICAgICB9CiAgICB9LAogICAgZmlsdGVyczogewogICAgICBkZWVwOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbHVlKSB7CiAgICAgICAgdGhpcy5kX2ZpbHRlcnMgPSB0aGlzLmNsb25lRmlsdGVycyhuZXdWYWx1ZSk7CiAgICAgIH0KICAgIH0KICB9LAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIGlmICh0aGlzLmlzU3RhdGVmdWwoKSkgewogICAgICB0aGlzLnJlc3RvcmVTdGF0ZSgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuJGVsLnNldEF0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZVNlbGVjdG9yLCAnJyk7CgogICAgaWYgKHRoaXMucmVzcG9uc2l2ZUxheW91dCA9PT0gJ3N0YWNrJyAmJiAhdGhpcy5zY3JvbGxhYmxlKSB7CiAgICAgIHRoaXMuY3JlYXRlUmVzcG9uc2l2ZVN0eWxlKCk7CiAgICB9CgogICAgaWYgKHRoaXMuaXNTdGF0ZWZ1bCgpICYmIHRoaXMucmVzaXphYmxlQ29sdW1ucykgewogICAgICB0aGlzLnJlc3RvcmVDb2x1bW5XaWR0aHMoKTsKICAgIH0KCiAgICBpZiAodGhpcy5lZGl0TW9kZSA9PT0gJ3JvdycgJiYgdGhpcy5kYXRhS2V5ICYmICF0aGlzLmRfZWRpdGluZ1Jvd0tleXMpIHsKICAgICAgdGhpcy51cGRhdGVFZGl0aW5nUm93S2V5cyh0aGlzLmVkaXRpbmdSb3dzKTsKICAgIH0KICB9LAogIGJlZm9yZVVubW91bnQ6IGZ1bmN0aW9uIGJlZm9yZVVubW91bnQoKSB7CiAgICB0aGlzLnVuYmluZENvbHVtblJlc2l6ZUV2ZW50cygpOwogICAgdGhpcy5kZXN0cm95U3R5bGVFbGVtZW50KCk7CiAgICB0aGlzLmRlc3Ryb3lSZXNwb25zaXZlU3R5bGUoKTsKICB9LAogIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQoKSB7CiAgICBpZiAodGhpcy5pc1N0YXRlZnVsKCkpIHsKICAgICAgdGhpcy5zYXZlU3RhdGUoKTsKICAgIH0KCiAgICBpZiAodGhpcy5lZGl0TW9kZSA9PT0gJ3JvdycgJiYgdGhpcy5kYXRhS2V5ICYmICF0aGlzLmRfZWRpdGluZ1Jvd0tleXMpIHsKICAgICAgdGhpcy51cGRhdGVFZGl0aW5nUm93S2V5cyh0aGlzLmVkaXRpbmdSb3dzKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNvbHVtblByb3A6IGZ1bmN0aW9uIGNvbHVtblByb3AoY29sLCBwcm9wKSB7CiAgICAgIHJldHVybiBPYmplY3RVdGlscy5nZXRWTm9kZVByb3AoY29sLCBwcm9wKTsKICAgIH0sCiAgICBvblBhZ2U6IGZ1bmN0aW9uIG9uUGFnZShldmVudCkgewogICAgICB0aGlzLmNsZWFyRWRpdGluZ01ldGFEYXRhKCk7CiAgICAgIHRoaXMuZF9maXJzdCA9IGV2ZW50LmZpcnN0OwogICAgICB0aGlzLmRfcm93cyA9IGV2ZW50LnJvd3M7CiAgICAgIHZhciBwYWdlRXZlbnQgPSB0aGlzLmNyZWF0ZUxhenlMb2FkRXZlbnQoZXZlbnQpOwogICAgICBwYWdlRXZlbnQucGFnZUNvdW50ID0gZXZlbnQucGFnZUNvdW50OwogICAgICBwYWdlRXZlbnQucGFnZSA9IGV2ZW50LnBhZ2U7CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpmaXJzdCcsIHRoaXMuZF9maXJzdCk7CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpyb3dzJywgdGhpcy5kX3Jvd3MpOwogICAgICB0aGlzLiRlbWl0KCdwYWdlJywgcGFnZUV2ZW50KTsKICAgICAgdGhpcy4kZW1pdCgndmFsdWUtY2hhbmdlJywgdGhpcy5wcm9jZXNzZWREYXRhKTsKICAgIH0sCiAgICBvbkNvbHVtbkhlYWRlckNsaWNrOiBmdW5jdGlvbiBvbkNvbHVtbkhlYWRlckNsaWNrKGUpIHsKICAgICAgdmFyIGV2ZW50ID0gZS5vcmlnaW5hbEV2ZW50OwogICAgICB2YXIgY29sdW1uID0gZS5jb2x1bW47CgogICAgICBpZiAodGhpcy5jb2x1bW5Qcm9wKGNvbHVtbiwgJ3NvcnRhYmxlJykpIHsKICAgICAgICB2YXIgdGFyZ2V0Tm9kZSA9IGV2ZW50LnRhcmdldDsKICAgICAgICB2YXIgY29sdW1uRmllbGQgPSB0aGlzLmNvbHVtblByb3AoY29sdW1uLCAnc29ydEZpZWxkJykgfHwgdGhpcy5jb2x1bW5Qcm9wKGNvbHVtbiwgJ2ZpZWxkJyk7CgogICAgICAgIGlmIChEb21IYW5kbGVyLmhhc0NsYXNzKHRhcmdldE5vZGUsICdwLXNvcnRhYmxlLWNvbHVtbicpIHx8IERvbUhhbmRsZXIuaGFzQ2xhc3ModGFyZ2V0Tm9kZSwgJ3AtY29sdW1uLXRpdGxlJykgfHwgRG9tSGFuZGxlci5oYXNDbGFzcyh0YXJnZXROb2RlLCAncC1jb2x1bW4taGVhZGVyLWNvbnRlbnQnKSB8fCBEb21IYW5kbGVyLmhhc0NsYXNzKHRhcmdldE5vZGUsICdwLXNvcnRhYmxlLWNvbHVtbi1pY29uJykgfHwgRG9tSGFuZGxlci5oYXNDbGFzcyh0YXJnZXROb2RlLnBhcmVudEVsZW1lbnQsICdwLXNvcnRhYmxlLWNvbHVtbi1pY29uJykpIHsKICAgICAgICAgIERvbUhhbmRsZXIuY2xlYXJTZWxlY3Rpb24oKTsKCiAgICAgICAgICBpZiAodGhpcy5zb3J0TW9kZSA9PT0gJ3NpbmdsZScpIHsKICAgICAgICAgICAgaWYgKHRoaXMuZF9zb3J0RmllbGQgPT09IGNvbHVtbkZpZWxkKSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMucmVtb3ZhYmxlU29ydCAmJiB0aGlzLmRfc29ydE9yZGVyICogLTEgPT09IHRoaXMuZGVmYXVsdFNvcnRPcmRlcikgewogICAgICAgICAgICAgICAgdGhpcy5kX3NvcnRPcmRlciA9IG51bGw7CiAgICAgICAgICAgICAgICB0aGlzLmRfc29ydEZpZWxkID0gbnVsbDsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5kX3NvcnRPcmRlciA9IHRoaXMuZF9zb3J0T3JkZXIgKiAtMTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5kX3NvcnRPcmRlciA9IHRoaXMuZGVmYXVsdFNvcnRPcmRlcjsKICAgICAgICAgICAgICB0aGlzLmRfc29ydEZpZWxkID0gY29sdW1uRmllbGQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpzb3J0RmllbGQnLCB0aGlzLmRfc29ydEZpZWxkKTsKICAgICAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnNvcnRPcmRlcicsIHRoaXMuZF9zb3J0T3JkZXIpOwogICAgICAgICAgICB0aGlzLnJlc2V0UGFnZSgpOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNvcnRNb2RlID09PSAnbXVsdGlwbGUnKSB7CiAgICAgICAgICAgIHZhciBtZXRhS2V5ID0gZXZlbnQubWV0YUtleSB8fCBldmVudC5jdHJsS2V5OwoKICAgICAgICAgICAgaWYgKCFtZXRhS2V5KSB7CiAgICAgICAgICAgICAgdGhpcy5kX211bHRpU29ydE1ldGEgPSB0aGlzLmRfbXVsdGlTb3J0TWV0YS5maWx0ZXIoZnVuY3Rpb24gKG1ldGEpIHsKICAgICAgICAgICAgICAgIHJldHVybiBtZXRhLmZpZWxkID09PSBjb2x1bW5GaWVsZDsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy5hZGRNdWx0aVNvcnRGaWVsZChjb2x1bW5GaWVsZCk7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTptdWx0aVNvcnRNZXRhJywgdGhpcy5kX211bHRpU29ydE1ldGEpOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuJGVtaXQoJ3NvcnQnLCB0aGlzLmNyZWF0ZUxhenlMb2FkRXZlbnQoZXZlbnQpKTsKICAgICAgICAgIHRoaXMuJGVtaXQoJ3ZhbHVlLWNoYW5nZScsIHRoaXMucHJvY2Vzc2VkRGF0YSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc29ydFNpbmdsZTogZnVuY3Rpb24gc29ydFNpbmdsZSh2YWx1ZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5jbGVhckVkaXRpbmdNZXRhRGF0YSgpOwoKICAgICAgaWYgKHRoaXMuZ3JvdXBSb3dzQnkgJiYgdGhpcy5ncm91cFJvd3NCeSA9PT0gdGhpcy5zb3J0RmllbGQpIHsKICAgICAgICB0aGlzLmRfbXVsdGlTb3J0TWV0YSA9IFt7CiAgICAgICAgICBmaWVsZDogdGhpcy5zb3J0RmllbGQsCiAgICAgICAgICBvcmRlcjogdGhpcy5zb3J0T3JkZXIgfHwgdGhpcy5kZWZhdWx0U29ydE9yZGVyCiAgICAgICAgfSwgewogICAgICAgICAgZmllbGQ6IHRoaXMuZF9zb3J0RmllbGQsCiAgICAgICAgICBvcmRlcjogdGhpcy5kX3NvcnRPcmRlcgogICAgICAgIH1dOwogICAgICAgIHJldHVybiB0aGlzLnNvcnRNdWx0aXBsZSh2YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBkYXRhID0gX3RvQ29uc3VtYWJsZUFycmF5KHZhbHVlKTsKCiAgICAgIGRhdGEuc29ydChmdW5jdGlvbiAoZGF0YTEsIGRhdGEyKSB7CiAgICAgICAgdmFyIHZhbHVlMSA9IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEoZGF0YTEsIF90aGlzLmRfc29ydEZpZWxkKTsKICAgICAgICB2YXIgdmFsdWUyID0gT2JqZWN0VXRpbHMucmVzb2x2ZUZpZWxkRGF0YShkYXRhMiwgX3RoaXMuZF9zb3J0RmllbGQpOwogICAgICAgIHZhciByZXN1bHQgPSBudWxsOwogICAgICAgIGlmICh2YWx1ZTEgPT0gbnVsbCAmJiB2YWx1ZTIgIT0gbnVsbCkgcmVzdWx0ID0gLTE7ZWxzZSBpZiAodmFsdWUxICE9IG51bGwgJiYgdmFsdWUyID09IG51bGwpIHJlc3VsdCA9IDE7ZWxzZSBpZiAodmFsdWUxID09IG51bGwgJiYgdmFsdWUyID09IG51bGwpIHJlc3VsdCA9IDA7ZWxzZSBpZiAodHlwZW9mIHZhbHVlMSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHZhbHVlMiA9PT0gJ3N0cmluZycpIHJlc3VsdCA9IHZhbHVlMS5sb2NhbGVDb21wYXJlKHZhbHVlMiwgdW5kZWZpbmVkLCB7CiAgICAgICAgICBudW1lcmljOiB0cnVlCiAgICAgICAgfSk7ZWxzZSByZXN1bHQgPSB2YWx1ZTEgPCB2YWx1ZTIgPyAtMSA6IHZhbHVlMSA+IHZhbHVlMiA/IDEgOiAwOwogICAgICAgIHJldHVybiBfdGhpcy5kX3NvcnRPcmRlciAqIHJlc3VsdDsKICAgICAgfSk7CiAgICAgIHJldHVybiBkYXRhOwogICAgfSwKICAgIHNvcnRNdWx0aXBsZTogZnVuY3Rpb24gc29ydE11bHRpcGxlKHZhbHVlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5jbGVhckVkaXRpbmdNZXRhRGF0YSgpOwoKICAgICAgaWYgKHRoaXMuZ3JvdXBSb3dzQnkgJiYgKHRoaXMuZF9ncm91cFJvd3NTb3J0TWV0YSB8fCB0aGlzLmRfbXVsdGlTb3J0TWV0YS5sZW5ndGggJiYgdGhpcy5ncm91cFJvd3NCeSA9PT0gdGhpcy5kX211bHRpU29ydE1ldGFbMF0uZmllbGQpKSB7CiAgICAgICAgdmFyIGZpcnN0U29ydE1ldGEgPSB0aGlzLmRfbXVsdGlTb3J0TWV0YVswXTsKICAgICAgICAhdGhpcy5kX2dyb3VwUm93c1NvcnRNZXRhICYmICh0aGlzLmRfZ3JvdXBSb3dzU29ydE1ldGEgPSBmaXJzdFNvcnRNZXRhKTsKCiAgICAgICAgaWYgKGZpcnN0U29ydE1ldGEuZmllbGQgIT09IHRoaXMuZF9ncm91cFJvd3NTb3J0TWV0YS5maWVsZCkgewogICAgICAgICAgdGhpcy5kX211bHRpU29ydE1ldGEgPSBbdGhpcy5kX2dyb3VwUm93c1NvcnRNZXRhXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuZF9tdWx0aVNvcnRNZXRhKSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgZGF0YSA9IF90b0NvbnN1bWFibGVBcnJheSh2YWx1ZSk7CgogICAgICBkYXRhLnNvcnQoZnVuY3Rpb24gKGRhdGExLCBkYXRhMikgewogICAgICAgIHJldHVybiBfdGhpczIubXVsdGlzb3J0RmllbGQoZGF0YTEsIGRhdGEyLCAwKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBkYXRhOwogICAgfSwKICAgIG11bHRpc29ydEZpZWxkOiBmdW5jdGlvbiBtdWx0aXNvcnRGaWVsZChkYXRhMSwgZGF0YTIsIGluZGV4KSB7CiAgICAgIHZhciB2YWx1ZTEgPSBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKGRhdGExLCB0aGlzLmRfbXVsdGlTb3J0TWV0YVtpbmRleF0uZmllbGQpOwogICAgICB2YXIgdmFsdWUyID0gT2JqZWN0VXRpbHMucmVzb2x2ZUZpZWxkRGF0YShkYXRhMiwgdGhpcy5kX211bHRpU29ydE1ldGFbaW5kZXhdLmZpZWxkKTsKICAgICAgdmFyIHJlc3VsdCA9IG51bGw7CgogICAgICBpZiAodHlwZW9mIHZhbHVlMSA9PT0gJ3N0cmluZycgfHwgdmFsdWUxIGluc3RhbmNlb2YgU3RyaW5nKSB7CiAgICAgICAgaWYgKHZhbHVlMS5sb2NhbGVDb21wYXJlICYmIHZhbHVlMSAhPT0gdmFsdWUyKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5kX211bHRpU29ydE1ldGFbaW5kZXhdLm9yZGVyICogdmFsdWUxLmxvY2FsZUNvbXBhcmUodmFsdWUyLCB1bmRlZmluZWQsIHsKICAgICAgICAgICAgbnVtZXJpYzogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJlc3VsdCA9IHZhbHVlMSA8IHZhbHVlMiA/IC0xIDogMTsKICAgICAgfQoKICAgICAgaWYgKHZhbHVlMSA9PT0gdmFsdWUyKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZF9tdWx0aVNvcnRNZXRhLmxlbmd0aCAtIDEgPiBpbmRleCA/IHRoaXMubXVsdGlzb3J0RmllbGQoZGF0YTEsIGRhdGEyLCBpbmRleCArIDEpIDogMDsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuZF9tdWx0aVNvcnRNZXRhW2luZGV4XS5vcmRlciAqIHJlc3VsdDsKICAgIH0sCiAgICBhZGRNdWx0aVNvcnRGaWVsZDogZnVuY3Rpb24gYWRkTXVsdGlTb3J0RmllbGQoZmllbGQpIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5kX211bHRpU29ydE1ldGEuZmluZEluZGV4KGZ1bmN0aW9uIChtZXRhKSB7CiAgICAgICAgcmV0dXJuIG1ldGEuZmllbGQgPT09IGZpZWxkOwogICAgICB9KTsKCiAgICAgIGlmIChpbmRleCA+PSAwKSB7CiAgICAgICAgaWYgKHRoaXMucmVtb3ZhYmxlU29ydCAmJiB0aGlzLmRfbXVsdGlTb3J0TWV0YVtpbmRleF0ub3JkZXIgKiAtMSA9PT0gdGhpcy5kZWZhdWx0U29ydE9yZGVyKSB0aGlzLmRfbXVsdGlTb3J0TWV0YS5zcGxpY2UoaW5kZXgsIDEpO2Vsc2UgdGhpcy5kX211bHRpU29ydE1ldGFbaW5kZXhdID0gewogICAgICAgICAgZmllbGQ6IGZpZWxkLAogICAgICAgICAgb3JkZXI6IHRoaXMuZF9tdWx0aVNvcnRNZXRhW2luZGV4XS5vcmRlciAqIC0xCiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRfbXVsdGlTb3J0TWV0YS5wdXNoKHsKICAgICAgICAgIGZpZWxkOiBmaWVsZCwKICAgICAgICAgIG9yZGVyOiB0aGlzLmRlZmF1bHRTb3J0T3JkZXIKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5kX211bHRpU29ydE1ldGEgPSBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5kX211bHRpU29ydE1ldGEpOwogICAgfSwKICAgIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyKGRhdGEpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAoIWRhdGEpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuY2xlYXJFZGl0aW5nTWV0YURhdGEoKTsKICAgICAgdmFyIGdsb2JhbEZpbHRlckZpZWxkc0FycmF5OwoKICAgICAgaWYgKHRoaXMuZmlsdGVyc1snZ2xvYmFsJ10pIHsKICAgICAgICBnbG9iYWxGaWx0ZXJGaWVsZHNBcnJheSA9IHRoaXMuZ2xvYmFsRmlsdGVyRmllbGRzIHx8IHRoaXMuY29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMy5jb2x1bW5Qcm9wKGNvbCwgJ2ZpbHRlckZpZWxkJykgfHwgX3RoaXMzLmNvbHVtblByb3AoY29sLCAnZmllbGQnKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdmFyIGZpbHRlcmVkVmFsdWUgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBsb2NhbE1hdGNoID0gdHJ1ZTsKICAgICAgICB2YXIgZ2xvYmFsTWF0Y2ggPSBmYWxzZTsKICAgICAgICB2YXIgbG9jYWxGaWx0ZXJlZCA9IGZhbHNlOwoKICAgICAgICBmb3IgKHZhciBwcm9wIGluIHRoaXMuZmlsdGVycykgewogICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmZpbHRlcnMsIHByb3ApICYmIHByb3AgIT09ICdnbG9iYWwnKSB7CiAgICAgICAgICAgIGxvY2FsRmlsdGVyZWQgPSB0cnVlOwogICAgICAgICAgICB2YXIgZmlsdGVyRmllbGQgPSBwcm9wOwogICAgICAgICAgICB2YXIgZmlsdGVyTWV0YSA9IHRoaXMuZmlsdGVyc1tmaWx0ZXJGaWVsZF07CgogICAgICAgICAgICBpZiAoZmlsdGVyTWV0YS5vcGVyYXRvcikgewogICAgICAgICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihmaWx0ZXJNZXRhLmNvbnN0cmFpbnRzKSwKICAgICAgICAgICAgICAgICAgX3N0ZXA7CgogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICB2YXIgZmlsdGVyQ29uc3RyYWludCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICAgICAgICBsb2NhbE1hdGNoID0gdGhpcy5leGVjdXRlTG9jYWxGaWx0ZXIoZmlsdGVyRmllbGQsIGRhdGFbaV0sIGZpbHRlckNvbnN0cmFpbnQpOwoKICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlck1ldGEub3BlcmF0b3IgPT09IEZpbHRlck9wZXJhdG9yLk9SICYmIGxvY2FsTWF0Y2ggfHwgZmlsdGVyTWV0YS5vcGVyYXRvciA9PT0gRmlsdGVyT3BlcmF0b3IuQU5EICYmICFsb2NhbE1hdGNoKSB7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGxvY2FsTWF0Y2ggPSB0aGlzLmV4ZWN1dGVMb2NhbEZpbHRlcihmaWx0ZXJGaWVsZCwgZGF0YVtpXSwgZmlsdGVyTWV0YSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghbG9jYWxNYXRjaCkgewogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5maWx0ZXJzWydnbG9iYWwnXSAmJiAhZ2xvYmFsTWF0Y2ggJiYgZ2xvYmFsRmlsdGVyRmllbGRzQXJyYXkpIHsKICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ2xvYmFsRmlsdGVyRmllbGRzQXJyYXkubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgdmFyIGdsb2JhbEZpbHRlckZpZWxkID0gZ2xvYmFsRmlsdGVyRmllbGRzQXJyYXlbal07CiAgICAgICAgICAgIGdsb2JhbE1hdGNoID0gRmlsdGVyU2VydmljZS5maWx0ZXJzW3RoaXMuZmlsdGVyc1snZ2xvYmFsJ10ubWF0Y2hNb2RlIHx8IEZpbHRlck1hdGNoTW9kZS5DT05UQUlOU10oT2JqZWN0VXRpbHMucmVzb2x2ZUZpZWxkRGF0YShkYXRhW2ldLCBnbG9iYWxGaWx0ZXJGaWVsZCksIHRoaXMuZmlsdGVyc1snZ2xvYmFsJ10udmFsdWUsIHRoaXMuZmlsdGVyTG9jYWxlKTsKCiAgICAgICAgICAgIGlmIChnbG9iYWxNYXRjaCkgewogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgbWF0Y2hlcyA9IHZvaWQgMDsKCiAgICAgICAgaWYgKHRoaXMuZmlsdGVyc1snZ2xvYmFsJ10pIHsKICAgICAgICAgIG1hdGNoZXMgPSBsb2NhbEZpbHRlcmVkID8gbG9jYWxGaWx0ZXJlZCAmJiBsb2NhbE1hdGNoICYmIGdsb2JhbE1hdGNoIDogZ2xvYmFsTWF0Y2g7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1hdGNoZXMgPSBsb2NhbEZpbHRlcmVkICYmIGxvY2FsTWF0Y2g7CiAgICAgICAgfQoKICAgICAgICBpZiAobWF0Y2hlcykgewogICAgICAgICAgZmlsdGVyZWRWYWx1ZS5wdXNoKGRhdGFbaV0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGZpbHRlcmVkVmFsdWUubGVuZ3RoID09PSB0aGlzLnZhbHVlLmxlbmd0aCkgewogICAgICAgIGZpbHRlcmVkVmFsdWUgPSBkYXRhOwogICAgICB9CgogICAgICB2YXIgZmlsdGVyRXZlbnQgPSB0aGlzLmNyZWF0ZUxhenlMb2FkRXZlbnQoKTsKICAgICAgZmlsdGVyRXZlbnQuZmlsdGVyZWRWYWx1ZSA9IGZpbHRlcmVkVmFsdWU7CiAgICAgIHRoaXMuJGVtaXQoJ2ZpbHRlcicsIGZpbHRlckV2ZW50KTsKICAgICAgdGhpcy4kZW1pdCgndmFsdWUtY2hhbmdlJywgZmlsdGVyZWRWYWx1ZSk7CiAgICAgIHJldHVybiBmaWx0ZXJlZFZhbHVlOwogICAgfSwKICAgIGV4ZWN1dGVMb2NhbEZpbHRlcjogZnVuY3Rpb24gZXhlY3V0ZUxvY2FsRmlsdGVyKGZpZWxkLCByb3dEYXRhLCBmaWx0ZXJNZXRhKSB7CiAgICAgIHZhciBmaWx0ZXJWYWx1ZSA9IGZpbHRlck1ldGEudmFsdWU7CiAgICAgIHZhciBmaWx0ZXJNYXRjaE1vZGUgPSBmaWx0ZXJNZXRhLm1hdGNoTW9kZSB8fCBGaWx0ZXJNYXRjaE1vZGUuU1RBUlRTX1dJVEg7CiAgICAgIHZhciBkYXRhRmllbGRWYWx1ZSA9IE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEocm93RGF0YSwgZmllbGQpOwogICAgICB2YXIgZmlsdGVyQ29uc3RyYWludCA9IEZpbHRlclNlcnZpY2UuZmlsdGVyc1tmaWx0ZXJNYXRjaE1vZGVdOwogICAgICByZXR1cm4gZmlsdGVyQ29uc3RyYWludChkYXRhRmllbGRWYWx1ZSwgZmlsdGVyVmFsdWUsIHRoaXMuZmlsdGVyTG9jYWxlKTsKICAgIH0sCiAgICBvblJvd0NsaWNrOiBmdW5jdGlvbiBvblJvd0NsaWNrKGUpIHsKICAgICAgdmFyIGV2ZW50ID0gZS5vcmlnaW5hbEV2ZW50OwoKICAgICAgaWYgKERvbUhhbmRsZXIuaXNDbGlja2FibGUoZXZlbnQudGFyZ2V0KSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy4kZW1pdCgncm93LWNsaWNrJywgZSk7CgogICAgICBpZiAodGhpcy5zZWxlY3Rpb25Nb2RlKSB7CiAgICAgICAgdmFyIHJvd0RhdGEgPSBlLmRhdGE7CiAgICAgICAgdmFyIHJvd0luZGV4ID0gZS5pbmRleDsKCiAgICAgICAgaWYgKHRoaXMuaXNNdWx0aXBsZVNlbGVjdGlvbk1vZGUoKSAmJiBldmVudC5zaGlmdEtleSAmJiB0aGlzLmFuY2hvclJvd0luZGV4ICE9IG51bGwpIHsKICAgICAgICAgIERvbUhhbmRsZXIuY2xlYXJTZWxlY3Rpb24oKTsKICAgICAgICAgIHRoaXMucmFuZ2VSb3dJbmRleCA9IHJvd0luZGV4OwogICAgICAgICAgdGhpcy5zZWxlY3RSYW5nZShldmVudCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMuaXNTZWxlY3RlZChyb3dEYXRhKTsKICAgICAgICAgIHZhciBtZXRhU2VsZWN0aW9uID0gdGhpcy5yb3dUb3VjaGVkID8gZmFsc2UgOiB0aGlzLm1ldGFLZXlTZWxlY3Rpb247CiAgICAgICAgICB0aGlzLmFuY2hvclJvd0luZGV4ID0gcm93SW5kZXg7CiAgICAgICAgICB0aGlzLnJhbmdlUm93SW5kZXggPSByb3dJbmRleDsKCiAgICAgICAgICBpZiAobWV0YVNlbGVjdGlvbikgewogICAgICAgICAgICB2YXIgbWV0YUtleSA9IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleTsKCiAgICAgICAgICAgIGlmIChzZWxlY3RlZCAmJiBtZXRhS2V5KSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTaW5nbGVTZWxlY3Rpb25Nb2RlKCkpIHsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpzZWxlY3Rpb24nLCBudWxsKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdmFyIHNlbGVjdGlvbkluZGV4ID0gdGhpcy5maW5kSW5kZXhJblNlbGVjdGlvbihyb3dEYXRhKTsKCiAgICAgICAgICAgICAgICB2YXIgX3NlbGVjdGlvbiA9IHRoaXMuc2VsZWN0aW9uLmZpbHRlcihmdW5jdGlvbiAodmFsLCBpKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpICE9IHNlbGVjdGlvbkluZGV4OwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnNlbGVjdGlvbicsIF9zZWxlY3Rpb24pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgncm93LXVuc2VsZWN0JywgewogICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsCiAgICAgICAgICAgICAgICBkYXRhOiByb3dEYXRhLAogICAgICAgICAgICAgICAgaW5kZXg6IGV2ZW50LmluZGV4LAogICAgICAgICAgICAgICAgdHlwZTogJ3JvdycKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAodGhpcy5pc1NpbmdsZVNlbGVjdGlvbk1vZGUoKSkgewogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnNlbGVjdGlvbicsIHJvd0RhdGEpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc011bHRpcGxlU2VsZWN0aW9uTW9kZSgpKSB7CiAgICAgICAgICAgICAgICB2YXIgX3NlbGVjdGlvbjIgPSBtZXRhS2V5ID8gdGhpcy5zZWxlY3Rpb24gfHwgW10gOiBbXTsKCiAgICAgICAgICAgICAgICBfc2VsZWN0aW9uMiA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoX3NlbGVjdGlvbjIpLCBbcm93RGF0YV0pOwogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnNlbGVjdGlvbicsIF9zZWxlY3Rpb24yKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3Jvdy1zZWxlY3QnLCB7CiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCwKICAgICAgICAgICAgICAgIGRhdGE6IHJvd0RhdGEsCiAgICAgICAgICAgICAgICBpbmRleDogZXZlbnQuaW5kZXgsCiAgICAgICAgICAgICAgICB0eXBlOiAncm93JwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb25Nb2RlID09PSAnc2luZ2xlJykgewogICAgICAgICAgICAgIGlmIChzZWxlY3RlZCkgewogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnNlbGVjdGlvbicsIG51bGwpOwogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgncm93LXVuc2VsZWN0JywgewogICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCwKICAgICAgICAgICAgICAgICAgZGF0YTogcm93RGF0YSwKICAgICAgICAgICAgICAgICAgaW5kZXg6IGV2ZW50LmluZGV4LAogICAgICAgICAgICAgICAgICB0eXBlOiAncm93JwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpzZWxlY3Rpb24nLCByb3dEYXRhKTsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3Jvdy1zZWxlY3QnLCB7CiAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LAogICAgICAgICAgICAgICAgICBkYXRhOiByb3dEYXRhLAogICAgICAgICAgICAgICAgICBpbmRleDogZXZlbnQuaW5kZXgsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdyb3cnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3Rpb25Nb2RlID09PSAnbXVsdGlwbGUnKSB7CiAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkKSB7CiAgICAgICAgICAgICAgICB2YXIgX3NlbGVjdGlvbkluZGV4ID0gdGhpcy5maW5kSW5kZXhJblNlbGVjdGlvbihyb3dEYXRhKTsKCiAgICAgICAgICAgICAgICB2YXIgX3NlbGVjdGlvbjMgPSB0aGlzLnNlbGVjdGlvbi5maWx0ZXIoZnVuY3Rpb24gKHZhbCwgaSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaSAhPSBfc2VsZWN0aW9uSW5kZXg7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6c2VsZWN0aW9uJywgX3NlbGVjdGlvbjMpOwogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgncm93LXVuc2VsZWN0JywgewogICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCwKICAgICAgICAgICAgICAgICAgZGF0YTogcm93RGF0YSwKICAgICAgICAgICAgICAgICAgaW5kZXg6IGV2ZW50LmluZGV4LAogICAgICAgICAgICAgICAgICB0eXBlOiAncm93JwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZhciBfc2VsZWN0aW9uNCA9IHRoaXMuc2VsZWN0aW9uID8gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0aGlzLnNlbGVjdGlvbiksIFtyb3dEYXRhXSkgOiBbcm93RGF0YV07CgogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnNlbGVjdGlvbicsIF9zZWxlY3Rpb240KTsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3Jvdy1zZWxlY3QnLCB7CiAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LAogICAgICAgICAgICAgICAgICBkYXRhOiByb3dEYXRhLAogICAgICAgICAgICAgICAgICBpbmRleDogZXZlbnQuaW5kZXgsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdyb3cnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMucm93VG91Y2hlZCA9IGZhbHNlOwogICAgfSwKICAgIG9uUm93RGJsQ2xpY2s6IGZ1bmN0aW9uIG9uUm93RGJsQ2xpY2soZSkgewogICAgICB2YXIgZXZlbnQgPSBlLm9yaWdpbmFsRXZlbnQ7CgogICAgICBpZiAoRG9tSGFuZGxlci5pc0NsaWNrYWJsZShldmVudC50YXJnZXQpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLiRlbWl0KCdyb3ctZGJsY2xpY2snLCBlKTsKICAgIH0sCiAgICBvblJvd1JpZ2h0Q2xpY2s6IGZ1bmN0aW9uIG9uUm93UmlnaHRDbGljayhldmVudCkgewogICAgICBEb21IYW5kbGVyLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQudGFyZ2V0LmZvY3VzKCk7CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpjb250ZXh0TWVudVNlbGVjdGlvbicsIGV2ZW50LmRhdGEpOwogICAgICB0aGlzLiRlbWl0KCdyb3ctY29udGV4dG1lbnUnLCBldmVudCk7CiAgICB9LAogICAgb25Sb3dUb3VjaEVuZDogZnVuY3Rpb24gb25Sb3dUb3VjaEVuZCgpIHsKICAgICAgdGhpcy5yb3dUb3VjaGVkID0gdHJ1ZTsKICAgIH0sCiAgICBvblJvd0tleURvd246IGZ1bmN0aW9uIG9uUm93S2V5RG93bihlKSB7CiAgICAgIHZhciBldmVudCA9IGUub3JpZ2luYWxFdmVudDsKICAgICAgdmFyIHJvd0RhdGEgPSBlLmRhdGE7CiAgICAgIHZhciByb3dJbmRleCA9IGUuaW5kZXg7CgogICAgICBpZiAodGhpcy5zZWxlY3Rpb25Nb2RlKSB7CiAgICAgICAgdmFyIHJvdyA9IGV2ZW50LnRhcmdldDsKCiAgICAgICAgc3dpdGNoIChldmVudC53aGljaCkgewogICAgICAgICAgLy9kb3duIGFycm93CiAgICAgICAgICBjYXNlIDQwOgogICAgICAgICAgICB2YXIgbmV4dFJvdyA9IHRoaXMuZmluZE5leHRTZWxlY3RhYmxlUm93KHJvdyk7CgogICAgICAgICAgICBpZiAobmV4dFJvdykgewogICAgICAgICAgICAgIG5leHRSb3cuZm9jdXMoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAvL3VwIGFycm93CgogICAgICAgICAgY2FzZSAzODoKICAgICAgICAgICAgdmFyIHByZXZSb3cgPSB0aGlzLmZpbmRQcmV2U2VsZWN0YWJsZVJvdyhyb3cpOwoKICAgICAgICAgICAgaWYgKHByZXZSb3cpIHsKICAgICAgICAgICAgICBwcmV2Um93LmZvY3VzKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgLy9lbnRlcgoKICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIHRoaXMub25Sb3dDbGljayh7CiAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsCiAgICAgICAgICAgICAgZGF0YTogcm93RGF0YSwKICAgICAgICAgICAgICBpbmRleDogcm93SW5kZXgKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIC8vbm8gb3AKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZmluZE5leHRTZWxlY3RhYmxlUm93OiBmdW5jdGlvbiBmaW5kTmV4dFNlbGVjdGFibGVSb3cocm93KSB7CiAgICAgIHZhciBuZXh0Um93ID0gcm93Lm5leHRFbGVtZW50U2libGluZzsKCiAgICAgIGlmIChuZXh0Um93KSB7CiAgICAgICAgaWYgKERvbUhhbmRsZXIuaGFzQ2xhc3MobmV4dFJvdywgJ3Atc2VsZWN0YWJsZS1yb3cnKSkgcmV0dXJuIG5leHRSb3c7ZWxzZSByZXR1cm4gdGhpcy5maW5kTmV4dFNlbGVjdGFibGVSb3cobmV4dFJvdyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBmaW5kUHJldlNlbGVjdGFibGVSb3c6IGZ1bmN0aW9uIGZpbmRQcmV2U2VsZWN0YWJsZVJvdyhyb3cpIHsKICAgICAgdmFyIHByZXZSb3cgPSByb3cucHJldmlvdXNFbGVtZW50U2libGluZzsKCiAgICAgIGlmIChwcmV2Um93KSB7CiAgICAgICAgaWYgKERvbUhhbmRsZXIuaGFzQ2xhc3MocHJldlJvdywgJ3Atc2VsZWN0YWJsZS1yb3cnKSkgcmV0dXJuIHByZXZSb3c7ZWxzZSByZXR1cm4gdGhpcy5maW5kUHJldlNlbGVjdGFibGVSb3cocHJldlJvdyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCiAgICB0b2dnbGVSb3dXaXRoUmFkaW86IGZ1bmN0aW9uIHRvZ2dsZVJvd1dpdGhSYWRpbyhldmVudCkgewogICAgICB2YXIgcm93RGF0YSA9IGV2ZW50LmRhdGE7CgogICAgICBpZiAodGhpcy5pc1NlbGVjdGVkKHJvd0RhdGEpKSB7CiAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnNlbGVjdGlvbicsIG51bGwpOwogICAgICAgIHRoaXMuJGVtaXQoJ3Jvdy11bnNlbGVjdCcsIHsKICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LAogICAgICAgICAgZGF0YTogcm93RGF0YSwKICAgICAgICAgIHR5cGU6ICdyYWRpb2J1dHRvbicKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6c2VsZWN0aW9uJywgcm93RGF0YSk7CiAgICAgICAgdGhpcy4kZW1pdCgncm93LXNlbGVjdCcsIHsKICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LAogICAgICAgICAgZGF0YTogcm93RGF0YSwKICAgICAgICAgIHR5cGU6ICdyYWRpb2J1dHRvbicKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHRvZ2dsZVJvd1dpdGhDaGVja2JveDogZnVuY3Rpb24gdG9nZ2xlUm93V2l0aENoZWNrYm94KGV2ZW50KSB7CiAgICAgIHZhciByb3dEYXRhID0gZXZlbnQuZGF0YTsKCiAgICAgIGlmICh0aGlzLmlzU2VsZWN0ZWQocm93RGF0YSkpIHsKICAgICAgICB2YXIgc2VsZWN0aW9uSW5kZXggPSB0aGlzLmZpbmRJbmRleEluU2VsZWN0aW9uKHJvd0RhdGEpOwoKICAgICAgICB2YXIgX3NlbGVjdGlvbiA9IHRoaXMuc2VsZWN0aW9uLmZpbHRlcihmdW5jdGlvbiAodmFsLCBpKSB7CiAgICAgICAgICByZXR1cm4gaSAhPSBzZWxlY3Rpb25JbmRleDsKICAgICAgICB9KTsKCiAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnNlbGVjdGlvbicsIF9zZWxlY3Rpb24pOwogICAgICAgIHRoaXMuJGVtaXQoJ3Jvdy11bnNlbGVjdCcsIHsKICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LAogICAgICAgICAgZGF0YTogcm93RGF0YSwKICAgICAgICAgIHR5cGU6ICdjaGVja2JveCcKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgX3NlbGVjdGlvbjUgPSB0aGlzLnNlbGVjdGlvbiA/IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLnNlbGVjdGlvbikgOiBbXTsKCiAgICAgICAgX3NlbGVjdGlvbjUgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KF9zZWxlY3Rpb241KSwgW3Jvd0RhdGFdKTsKICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6c2VsZWN0aW9uJywgX3NlbGVjdGlvbjUpOwogICAgICAgIHRoaXMuJGVtaXQoJ3Jvdy1zZWxlY3QnLCB7CiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCwKICAgICAgICAgIGRhdGE6IHJvd0RhdGEsCiAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICB0b2dnbGVSb3dzV2l0aENoZWNrYm94OiBmdW5jdGlvbiB0b2dnbGVSb3dzV2l0aENoZWNrYm94KGV2ZW50KSB7CiAgICAgIHZhciBwcm9jZXNzZWREYXRhID0gdGhpcy5wcm9jZXNzZWREYXRhOwogICAgICB2YXIgY2hlY2tlZCA9IHRoaXMuYWxsUm93c1NlbGVjdGVkOwoKICAgICAgdmFyIF9zZWxlY3Rpb24gPSBjaGVja2VkID8gW10gOiB0aGlzLmZyb3plblZhbHVlID8gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0aGlzLmZyb3plblZhbHVlKSwgX3RvQ29uc3VtYWJsZUFycmF5KHByb2Nlc3NlZERhdGEpKSA6IHByb2Nlc3NlZERhdGE7CgogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6c2VsZWN0aW9uJywgX3NlbGVjdGlvbik7CiAgICAgIGlmIChjaGVja2VkKSB0aGlzLiRlbWl0KCdyb3ctdW5zZWxlY3QtYWxsJywgewogICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50CiAgICAgIH0pO2Vsc2UgdGhpcy4kZW1pdCgncm93LXNlbGVjdC1hbGwnLCB7CiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsCiAgICAgICAgZGF0YTogX3NlbGVjdGlvbgogICAgICB9KTsKICAgIH0sCiAgICBpc1NpbmdsZVNlbGVjdGlvbk1vZGU6IGZ1bmN0aW9uIGlzU2luZ2xlU2VsZWN0aW9uTW9kZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uTW9kZSA9PT0gJ3NpbmdsZSc7CiAgICB9LAogICAgaXNNdWx0aXBsZVNlbGVjdGlvbk1vZGU6IGZ1bmN0aW9uIGlzTXVsdGlwbGVTZWxlY3Rpb25Nb2RlKCkgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb25Nb2RlID09PSAnbXVsdGlwbGUnOwogICAgfSwKICAgIGlzU2VsZWN0ZWQ6IGZ1bmN0aW9uIGlzU2VsZWN0ZWQocm93RGF0YSkgewogICAgICBpZiAocm93RGF0YSAmJiB0aGlzLnNlbGVjdGlvbikgewogICAgICAgIGlmICh0aGlzLmRhdGFLZXkpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmRfc2VsZWN0aW9uS2V5cyA/IHRoaXMuZF9zZWxlY3Rpb25LZXlzW09iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEocm93RGF0YSwgdGhpcy5kYXRhS2V5KV0gIT09IHVuZGVmaW5lZCA6IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb24gaW5zdGFuY2VvZiBBcnJheSkgcmV0dXJuIHRoaXMuZmluZEluZGV4SW5TZWxlY3Rpb24ocm93RGF0YSkgPiAtMTtlbHNlIHJldHVybiB0aGlzLmVxdWFscyhyb3dEYXRhLCB0aGlzLnNlbGVjdGlvbik7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgZmluZEluZGV4SW5TZWxlY3Rpb246IGZ1bmN0aW9uIGZpbmRJbmRleEluU2VsZWN0aW9uKHJvd0RhdGEpIHsKICAgICAgcmV0dXJuIHRoaXMuZmluZEluZGV4KHJvd0RhdGEsIHRoaXMuc2VsZWN0aW9uKTsKICAgIH0sCiAgICBmaW5kSW5kZXg6IGZ1bmN0aW9uIGZpbmRJbmRleChyb3dEYXRhLCBjb2xsZWN0aW9uKSB7CiAgICAgIHZhciBpbmRleCA9IC0xOwoKICAgICAgaWYgKGNvbGxlY3Rpb24gJiYgY29sbGVjdGlvbi5sZW5ndGgpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbGxlY3Rpb24ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmICh0aGlzLmVxdWFscyhyb3dEYXRhLCBjb2xsZWN0aW9uW2ldKSkgewogICAgICAgICAgICBpbmRleCA9IGk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGluZGV4OwogICAgfSwKICAgIHVwZGF0ZVNlbGVjdGlvbktleXM6IGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGlvbktleXMoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMuZF9zZWxlY3Rpb25LZXlzID0ge307CgogICAgICBpZiAoQXJyYXkuaXNBcnJheShzZWxlY3Rpb24pKSB7CiAgICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihzZWxlY3Rpb24pLAogICAgICAgICAgICBfc3RlcDI7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgZGF0YSA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgICAgdGhpcy5kX3NlbGVjdGlvbktleXNbU3RyaW5nKE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEoZGF0YSwgdGhpcy5kYXRhS2V5KSldID0gMTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kX3NlbGVjdGlvbktleXNbU3RyaW5nKE9iamVjdFV0aWxzLnJlc29sdmVGaWVsZERhdGEoc2VsZWN0aW9uLCB0aGlzLmRhdGFLZXkpKV0gPSAxOwogICAgICB9CiAgICB9LAogICAgdXBkYXRlRXhwYW5kZWRSb3dLZXlzOiBmdW5jdGlvbiB1cGRhdGVFeHBhbmRlZFJvd0tleXMoZXhwYW5kZWRSb3dzKSB7CiAgICAgIGlmIChleHBhbmRlZFJvd3MgJiYgZXhwYW5kZWRSb3dzLmxlbmd0aCkgewogICAgICAgIHRoaXMuZF9leHBhbmRlZFJvd0tleXMgPSB7fTsKCiAgICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihleHBhbmRlZFJvd3MpLAogICAgICAgICAgICBfc3RlcDM7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgZGF0YSA9IF9zdGVwMy52YWx1ZTsKICAgICAgICAgICAgdGhpcy5kX2V4cGFuZGVkUm93S2V5c1tTdHJpbmcoT2JqZWN0VXRpbHMucmVzb2x2ZUZpZWxkRGF0YShkYXRhLCB0aGlzLmRhdGFLZXkpKV0gPSAxOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvcjMuZigpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRfZXhwYW5kZWRSb3dLZXlzID0gbnVsbDsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZUVkaXRpbmdSb3dLZXlzOiBmdW5jdGlvbiB1cGRhdGVFZGl0aW5nUm93S2V5cyhlZGl0aW5nUm93cykgewogICAgICBpZiAoZWRpdGluZ1Jvd3MgJiYgZWRpdGluZ1Jvd3MubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5kX2VkaXRpbmdSb3dLZXlzID0ge307CgogICAgICAgIHZhciBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZWRpdGluZ1Jvd3MpLAogICAgICAgICAgICBfc3RlcDQ7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgZGF0YSA9IF9zdGVwNC52YWx1ZTsKICAgICAgICAgICAgdGhpcy5kX2VkaXRpbmdSb3dLZXlzW1N0cmluZyhPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKGRhdGEsIHRoaXMuZGF0YUtleSkpXSA9IDE7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3I0LmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yNC5mKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZF9lZGl0aW5nUm93S2V5cyA9IG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBlcXVhbHM6IGZ1bmN0aW9uIGVxdWFscyhkYXRhMSwgZGF0YTIpIHsKICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZVNlbGVjdGlvbkJ5ID09PSAnZXF1YWxzJyA/IGRhdGExID09PSBkYXRhMiA6IE9iamVjdFV0aWxzLmVxdWFscyhkYXRhMSwgZGF0YTIsIHRoaXMuZGF0YUtleSk7CiAgICB9LAogICAgc2VsZWN0UmFuZ2U6IGZ1bmN0aW9uIHNlbGVjdFJhbmdlKGV2ZW50KSB7CiAgICAgIHZhciByYW5nZVN0YXJ0LCByYW5nZUVuZDsKCiAgICAgIGlmICh0aGlzLnJhbmdlUm93SW5kZXggPiB0aGlzLmFuY2hvclJvd0luZGV4KSB7CiAgICAgICAgcmFuZ2VTdGFydCA9IHRoaXMuYW5jaG9yUm93SW5kZXg7CiAgICAgICAgcmFuZ2VFbmQgPSB0aGlzLnJhbmdlUm93SW5kZXg7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5yYW5nZVJvd0luZGV4IDwgdGhpcy5hbmNob3JSb3dJbmRleCkgewogICAgICAgIHJhbmdlU3RhcnQgPSB0aGlzLnJhbmdlUm93SW5kZXg7CiAgICAgICAgcmFuZ2VFbmQgPSB0aGlzLmFuY2hvclJvd0luZGV4OwogICAgICB9IGVsc2UgewogICAgICAgIHJhbmdlU3RhcnQgPSB0aGlzLnJhbmdlUm93SW5kZXg7CiAgICAgICAgcmFuZ2VFbmQgPSB0aGlzLnJhbmdlUm93SW5kZXg7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmxhenkgJiYgdGhpcy5wYWdpbmF0b3IpIHsKICAgICAgICByYW5nZVN0YXJ0IC09IHRoaXMuZmlyc3Q7CiAgICAgICAgcmFuZ2VFbmQgLT0gdGhpcy5maXJzdDsKICAgICAgfQoKICAgICAgdmFyIHZhbHVlID0gdGhpcy5wcm9jZXNzZWREYXRhOwogICAgICB2YXIgX3NlbGVjdGlvbiA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IHJhbmdlU3RhcnQ7IGkgPD0gcmFuZ2VFbmQ7IGkrKykgewogICAgICAgIHZhciByYW5nZVJvd0RhdGEgPSB2YWx1ZVtpXTsKCiAgICAgICAgX3NlbGVjdGlvbi5wdXNoKHJhbmdlUm93RGF0YSk7CgogICAgICAgIHRoaXMuJGVtaXQoJ3Jvdy1zZWxlY3QnLCB7CiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCwKICAgICAgICAgIGRhdGE6IHJhbmdlUm93RGF0YSwKICAgICAgICAgIHR5cGU6ICdyb3cnCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpzZWxlY3Rpb24nLCBfc2VsZWN0aW9uKTsKICAgIH0sCiAgICBleHBvcnRDU1Y6IGZ1bmN0aW9uIGV4cG9ydENTVihvcHRpb25zKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSB0aGlzLnByb2Nlc3NlZERhdGE7CiAgICAgIHZhciBjc3YgPSAiXHVGRUZGIjsKICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5zZWxlY3Rpb25Pbmx5KSBkYXRhID0gdGhpcy5zZWxlY3Rpb24gfHwgW107ZWxzZSBpZiAodGhpcy5mcm96ZW5WYWx1ZSkgZGF0YSA9IGRhdGEgPyBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuZnJvemVuVmFsdWUpLCBfdG9Db25zdW1hYmxlQXJyYXkoZGF0YSkpIDogdGhpcy5mcm96ZW5WYWx1ZTsgLy9oZWFkZXJzCgogICAgICB2YXIgaGVhZGVySW5pdGlhdGVkID0gZmFsc2U7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29sdW1ucy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLmNvbHVtbnNbaV07CgogICAgICAgIGlmICh0aGlzLmNvbHVtblByb3AoY29sdW1uLCAnZXhwb3J0YWJsZScpICE9PSBmYWxzZSAmJiB0aGlzLmNvbHVtblByb3AoY29sdW1uLCAnZmllbGQnKSkgewogICAgICAgICAgaWYgKGhlYWRlckluaXRpYXRlZCkgY3N2ICs9IHRoaXMuY3N2U2VwYXJhdG9yO2Vsc2UgaGVhZGVySW5pdGlhdGVkID0gdHJ1ZTsKICAgICAgICAgIGNzdiArPSAnIicgKyAodGhpcy5jb2x1bW5Qcm9wKGNvbHVtbiwgJ2hlYWRlcicpIHx8IHRoaXMuY29sdW1uUHJvcChjb2x1bW4sICdmaWVsZCcpKSArICciJzsKICAgICAgICB9CiAgICAgIH0gLy9ib2R5CgoKICAgICAgaWYgKGRhdGEpIHsKICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHJlY29yZCkgewogICAgICAgICAgY3N2ICs9ICdcbic7CiAgICAgICAgICB2YXIgcm93SW5pdGlhdGVkID0gZmFsc2U7CgogICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IF90aGlzNC5jb2x1bW5zLmxlbmd0aDsgX2krKykgewogICAgICAgICAgICB2YXIgX2NvbHVtbiA9IF90aGlzNC5jb2x1bW5zW19pXTsKCiAgICAgICAgICAgIGlmIChfdGhpczQuY29sdW1uUHJvcChfY29sdW1uLCAnZXhwb3J0YWJsZScpICE9PSBmYWxzZSAmJiBfdGhpczQuY29sdW1uUHJvcChfY29sdW1uLCAnZmllbGQnKSkgewogICAgICAgICAgICAgIGlmIChyb3dJbml0aWF0ZWQpIGNzdiArPSBfdGhpczQuY3N2U2VwYXJhdG9yO2Vsc2Ugcm93SW5pdGlhdGVkID0gdHJ1ZTsKICAgICAgICAgICAgICB2YXIgY2VsbERhdGEgPSBPYmplY3RVdGlscy5yZXNvbHZlRmllbGREYXRhKHJlY29yZCwgX3RoaXM0LmNvbHVtblByb3AoX2NvbHVtbiwgJ2ZpZWxkJykpOwoKICAgICAgICAgICAgICBpZiAoY2VsbERhdGEgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgaWYgKF90aGlzNC5leHBvcnRGdW5jdGlvbikgewogICAgICAgICAgICAgICAgICBjZWxsRGF0YSA9IF90aGlzNC5leHBvcnRGdW5jdGlvbih7CiAgICAgICAgICAgICAgICAgICAgZGF0YTogY2VsbERhdGEsCiAgICAgICAgICAgICAgICAgICAgZmllbGQ6IF90aGlzNC5jb2x1bW5Qcm9wKF9jb2x1bW4sICdmaWVsZCcpCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGNlbGxEYXRhID0gU3RyaW5nKGNlbGxEYXRhKS5yZXBsYWNlKC8iL2csICciIicpOwogICAgICAgICAgICAgIH0gZWxzZSBjZWxsRGF0YSA9ICcnOwoKICAgICAgICAgICAgICBjc3YgKz0gJyInICsgY2VsbERhdGEgKyAnIic7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbY3N2XSwgewogICAgICAgIHR5cGU6ICd0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04OycKICAgICAgfSk7CgogICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKSB7CiAgICAgICAgbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IoYmxvYiwgdGhpcy5leHBvcnRGaWxlbmFtZSArICcuY3N2Jyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgbGluay5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CgogICAgICAgIGlmIChsaW5rLmRvd25sb2FkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSk7CiAgICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCB0aGlzLmV4cG9ydEZpbGVuYW1lICsgJy5jc3YnKTsKICAgICAgICAgIGxpbmsuY2xpY2soKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY3N2ID0gJ2RhdGE6dGV4dC9jc3Y7Y2hhcnNldD11dGYtOCwnICsgY3N2OwogICAgICAgICAgd2luZG93Lm9wZW4oZW5jb2RlVVJJKGNzdikpOwogICAgICAgIH0KCiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTsKICAgICAgfQogICAgfSwKICAgIHJlc2V0UGFnZTogZnVuY3Rpb24gcmVzZXRQYWdlKCkgewogICAgICB0aGlzLmRfZmlyc3QgPSAwOwogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6Zmlyc3QnLCB0aGlzLmRfZmlyc3QpOwogICAgfSwKICAgIG9uQ29sdW1uUmVzaXplU3RhcnQ6IGZ1bmN0aW9uIG9uQ29sdW1uUmVzaXplU3RhcnQoZXZlbnQpIHsKICAgICAgdmFyIGNvbnRhaW5lckxlZnQgPSBEb21IYW5kbGVyLmdldE9mZnNldCh0aGlzLiRlbCkubGVmdDsKICAgICAgdGhpcy5yZXNpemVDb2x1bW5FbGVtZW50ID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQ7CiAgICAgIHRoaXMuY29sdW1uUmVzaXppbmcgPSB0cnVlOwogICAgICB0aGlzLmxhc3RSZXNpemVIZWxwZXJYID0gZXZlbnQucGFnZVggLSBjb250YWluZXJMZWZ0ICsgdGhpcy4kZWwuc2Nyb2xsTGVmdDsKICAgICAgdGhpcy5iaW5kQ29sdW1uUmVzaXplRXZlbnRzKCk7CiAgICB9LAogICAgb25Db2x1bW5SZXNpemU6IGZ1bmN0aW9uIG9uQ29sdW1uUmVzaXplKGV2ZW50KSB7CiAgICAgIHZhciBjb250YWluZXJMZWZ0ID0gRG9tSGFuZGxlci5nZXRPZmZzZXQodGhpcy4kZWwpLmxlZnQ7CiAgICAgIERvbUhhbmRsZXIuYWRkQ2xhc3ModGhpcy4kZWwsICdwLXVuc2VsZWN0YWJsZS10ZXh0Jyk7CiAgICAgIHRoaXMuJHJlZnMucmVzaXplSGVscGVyLnN0eWxlLmhlaWdodCA9IHRoaXMuJGVsLm9mZnNldEhlaWdodCArICdweCc7CiAgICAgIHRoaXMuJHJlZnMucmVzaXplSGVscGVyLnN0eWxlLnRvcCA9IDAgKyAncHgnOwogICAgICB0aGlzLiRyZWZzLnJlc2l6ZUhlbHBlci5zdHlsZS5sZWZ0ID0gZXZlbnQucGFnZVggLSBjb250YWluZXJMZWZ0ICsgdGhpcy4kZWwuc2Nyb2xsTGVmdCArICdweCc7CiAgICAgIHRoaXMuJHJlZnMucmVzaXplSGVscGVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgfSwKICAgIG9uQ29sdW1uUmVzaXplRW5kOiBmdW5jdGlvbiBvbkNvbHVtblJlc2l6ZUVuZCgpIHsKICAgICAgdmFyIGRlbHRhID0gdGhpcy4kcmVmcy5yZXNpemVIZWxwZXIub2Zmc2V0TGVmdCAtIHRoaXMubGFzdFJlc2l6ZUhlbHBlclg7CiAgICAgIHZhciBjb2x1bW5XaWR0aCA9IHRoaXMucmVzaXplQ29sdW1uRWxlbWVudC5vZmZzZXRXaWR0aDsKICAgICAgdmFyIG5ld0NvbHVtbldpZHRoID0gY29sdW1uV2lkdGggKyBkZWx0YTsKICAgICAgdmFyIG1pbldpZHRoID0gdGhpcy5yZXNpemVDb2x1bW5FbGVtZW50LnN0eWxlLm1pbldpZHRoIHx8IDE1OwoKICAgICAgaWYgKGNvbHVtbldpZHRoICsgZGVsdGEgPiBwYXJzZUludChtaW5XaWR0aCwgMTApKSB7CiAgICAgICAgaWYgKHRoaXMuY29sdW1uUmVzaXplTW9kZSA9PT0gJ2ZpdCcpIHsKICAgICAgICAgIHZhciBuZXh0Q29sdW1uID0gdGhpcy5yZXNpemVDb2x1bW5FbGVtZW50Lm5leHRFbGVtZW50U2libGluZzsKICAgICAgICAgIHZhciBuZXh0Q29sdW1uV2lkdGggPSBuZXh0Q29sdW1uLm9mZnNldFdpZHRoIC0gZGVsdGE7CgogICAgICAgICAgaWYgKG5ld0NvbHVtbldpZHRoID4gMTUgJiYgbmV4dENvbHVtbldpZHRoID4gMTUpIHsKICAgICAgICAgICAgaWYgKCF0aGlzLnNjcm9sbGFibGUpIHsKICAgICAgICAgICAgICB0aGlzLnJlc2l6ZUNvbHVtbkVsZW1lbnQuc3R5bGUud2lkdGggPSBuZXdDb2x1bW5XaWR0aCArICdweCc7CgogICAgICAgICAgICAgIGlmIChuZXh0Q29sdW1uKSB7CiAgICAgICAgICAgICAgICBuZXh0Q29sdW1uLnN0eWxlLndpZHRoID0gbmV4dENvbHVtbldpZHRoICsgJ3B4JzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5yZXNpemVUYWJsZUNlbGxzKG5ld0NvbHVtbldpZHRoLCBuZXh0Q29sdW1uV2lkdGgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvbHVtblJlc2l6ZU1vZGUgPT09ICdleHBhbmQnKSB7CiAgICAgICAgICB2YXIgdGFibGVXaWR0aCA9IHRoaXMuJHJlZnMudGFibGUub2Zmc2V0V2lkdGggKyBkZWx0YSArICdweCc7CiAgICAgICAgICB0aGlzLiRyZWZzLnRhYmxlLnN0eWxlLndpZHRoID0gdGFibGVXaWR0aDsKICAgICAgICAgIHRoaXMuJHJlZnMudGFibGUuc3R5bGUubWluV2lkdGggPSB0YWJsZVdpZHRoOwogICAgICAgICAgaWYgKCF0aGlzLnNjcm9sbGFibGUpIHRoaXMucmVzaXplQ29sdW1uRWxlbWVudC5zdHlsZS53aWR0aCA9IG5ld0NvbHVtbldpZHRoICsgJ3B4JztlbHNlIHRoaXMucmVzaXplVGFibGVDZWxscyhuZXdDb2x1bW5XaWR0aCk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLiRlbWl0KCdjb2x1bW4tcmVzaXplLWVuZCcsIHsKICAgICAgICAgIGVsZW1lbnQ6IHRoaXMucmVzaXplQ29sdW1uRWxlbWVudCwKICAgICAgICAgIGRlbHRhOiBkZWx0YQogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLiRyZWZzLnJlc2l6ZUhlbHBlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICB0aGlzLnJlc2l6ZUNvbHVtbiA9IG51bGw7CiAgICAgIERvbUhhbmRsZXIucmVtb3ZlQ2xhc3ModGhpcy4kZWwsICdwLXVuc2VsZWN0YWJsZS10ZXh0Jyk7CiAgICAgIHRoaXMudW5iaW5kQ29sdW1uUmVzaXplRXZlbnRzKCk7CgogICAgICBpZiAodGhpcy5pc1N0YXRlZnVsKCkpIHsKICAgICAgICB0aGlzLnNhdmVTdGF0ZSgpOwogICAgICB9CiAgICB9LAogICAgcmVzaXplVGFibGVDZWxsczogZnVuY3Rpb24gcmVzaXplVGFibGVDZWxscyhuZXdDb2x1bW5XaWR0aCwgbmV4dENvbHVtbldpZHRoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIGNvbEluZGV4ID0gRG9tSGFuZGxlci5pbmRleCh0aGlzLnJlc2l6ZUNvbHVtbkVsZW1lbnQpOwogICAgICB2YXIgd2lkdGhzID0gW107CiAgICAgIHZhciBoZWFkZXJzID0gRG9tSGFuZGxlci5maW5kKHRoaXMuJHJlZnMudGFibGUsICcucC1kYXRhdGFibGUtdGhlYWQgPiB0ciA+IHRoJyk7CiAgICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGVhZGVyKSB7CiAgICAgICAgcmV0dXJuIHdpZHRocy5wdXNoKERvbUhhbmRsZXIuZ2V0T3V0ZXJXaWR0aChoZWFkZXIpKTsKICAgICAgfSk7CiAgICAgIHRoaXMuZGVzdHJveVN0eWxlRWxlbWVudCgpOwogICAgICB0aGlzLmNyZWF0ZVN0eWxlRWxlbWVudCgpOwogICAgICB2YXIgaW5uZXJIVE1MID0gJyc7CiAgICAgIHdpZHRocy5mb3JFYWNoKGZ1bmN0aW9uICh3aWR0aCwgaW5kZXgpIHsKICAgICAgICB2YXIgY29sV2lkdGggPSBpbmRleCA9PT0gY29sSW5kZXggPyBuZXdDb2x1bW5XaWR0aCA6IG5leHRDb2x1bW5XaWR0aCAmJiBpbmRleCA9PT0gY29sSW5kZXggKyAxID8gbmV4dENvbHVtbldpZHRoIDogd2lkdGg7CiAgICAgICAgaW5uZXJIVE1MICs9ICJcbiAgICAgICAgICAgICAgICAgICAgLnAtZGF0YXRhYmxlWyIuY29uY2F0KF90aGlzNS5hdHRyaWJ1dGVTZWxlY3RvciwgIl0gLnAtZGF0YXRhYmxlLXRoZWFkID4gdHIgPiB0aDpudGgtY2hpbGQoIikuY29uY2F0KGluZGV4ICsgMSwgIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogMCAwICIpLmNvbmNhdChjb2xXaWR0aCwgInB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAucC1kYXRhdGFibGVbIikuY29uY2F0KF90aGlzNS5hdHRyaWJ1dGVTZWxlY3RvciwgIl0gLnAtZGF0YXRhYmxlLXRib2R5ID4gdHIgPiB0ZDpudGgtY2hpbGQoIikuY29uY2F0KGluZGV4ICsgMSwgIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogMCAwICIpLmNvbmNhdChjb2xXaWR0aCwgInB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAiKTsKICAgICAgfSk7CiAgICAgIHRoaXMuc3R5bGVFbGVtZW50LmlubmVySFRNTCA9IGlubmVySFRNTDsKICAgIH0sCiAgICBiaW5kQ29sdW1uUmVzaXplRXZlbnRzOiBmdW5jdGlvbiBiaW5kQ29sdW1uUmVzaXplRXZlbnRzKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5kb2N1bWVudENvbHVtblJlc2l6ZUxpc3RlbmVyKSB7CiAgICAgICAgdGhpcy5kb2N1bWVudENvbHVtblJlc2l6ZUxpc3RlbmVyID0gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKF90aGlzNi5jb2x1bW5SZXNpemluZykgewogICAgICAgICAgICBfdGhpczYub25Db2x1bW5SZXNpemUoZXZlbnQpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAoIXRoaXMuZG9jdW1lbnRDb2x1bW5SZXNpemVFbmRMaXN0ZW5lcikgewogICAgICAgIHRoaXMuZG9jdW1lbnRDb2x1bW5SZXNpemVFbmRMaXN0ZW5lciA9IGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoX3RoaXM2LmNvbHVtblJlc2l6aW5nKSB7CiAgICAgICAgICAgIF90aGlzNi5jb2x1bW5SZXNpemluZyA9IGZhbHNlOwoKICAgICAgICAgICAgX3RoaXM2Lm9uQ29sdW1uUmVzaXplRW5kKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICB1bmJpbmRDb2x1bW5SZXNpemVFdmVudHM6IGZ1bmN0aW9uIHVuYmluZENvbHVtblJlc2l6ZUV2ZW50cygpIHsKICAgICAgaWYgKHRoaXMuZG9jdW1lbnRDb2x1bW5SZXNpemVMaXN0ZW5lcikgewogICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RvY3VtZW50JywgdGhpcy5kb2N1bWVudENvbHVtblJlc2l6ZUxpc3RlbmVyKTsKICAgICAgICB0aGlzLmRvY3VtZW50Q29sdW1uUmVzaXplTGlzdGVuZXIgPSBudWxsOwogICAgICB9CgogICAgICBpZiAodGhpcy5kb2N1bWVudENvbHVtblJlc2l6ZUVuZExpc3RlbmVyKSB7CiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZG9jdW1lbnQnLCB0aGlzLmRvY3VtZW50Q29sdW1uUmVzaXplRW5kTGlzdGVuZXIpOwogICAgICAgIHRoaXMuZG9jdW1lbnRDb2x1bW5SZXNpemVFbmRMaXN0ZW5lciA9IG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBvbkNvbHVtbkhlYWRlck1vdXNlRG93bjogZnVuY3Rpb24gb25Db2x1bW5IZWFkZXJNb3VzZURvd24oZSkgewogICAgICB2YXIgZXZlbnQgPSBlLm9yaWdpbmFsRXZlbnQ7CiAgICAgIHZhciBjb2x1bW4gPSBlLmNvbHVtbjsKCiAgICAgIGlmICh0aGlzLnJlb3JkZXJhYmxlQ29sdW1ucyAmJiB0aGlzLmNvbHVtblByb3AoY29sdW1uLCAncmVvcmRlcmFibGVDb2x1bW4nKSAhPT0gZmFsc2UpIHsKICAgICAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSAnSU5QVVQnIHx8IGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PT0gJ1RFWFRBUkVBJyB8fCBEb21IYW5kbGVyLmhhc0NsYXNzKGV2ZW50LnRhcmdldCwgJ3AtY29sdW1uLXJlc2l6ZXInKSkgZXZlbnQuY3VycmVudFRhcmdldC5kcmFnZ2FibGUgPSBmYWxzZTtlbHNlIGV2ZW50LmN1cnJlbnRUYXJnZXQuZHJhZ2dhYmxlID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIG9uQ29sdW1uSGVhZGVyRHJhZ1N0YXJ0OiBmdW5jdGlvbiBvbkNvbHVtbkhlYWRlckRyYWdTdGFydChldmVudCkgewogICAgICBpZiAodGhpcy5jb2x1bW5SZXNpemluZykgewogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmNvbFJlb3JkZXJJY29uV2lkdGggPSBEb21IYW5kbGVyLmdldEhpZGRlbkVsZW1lbnRPdXRlcldpZHRoKHRoaXMuJHJlZnMucmVvcmRlckluZGljYXRvclVwKTsKICAgICAgdGhpcy5jb2xSZW9yZGVySWNvbkhlaWdodCA9IERvbUhhbmRsZXIuZ2V0SGlkZGVuRWxlbWVudE91dGVySGVpZ2h0KHRoaXMuJHJlZnMucmVvcmRlckluZGljYXRvclVwKTsKICAgICAgdGhpcy5kcmFnZ2VkQ29sdW1uID0gdGhpcy5maW5kUGFyZW50SGVhZGVyKGV2ZW50LnRhcmdldCk7CiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0JywgJ2InKTsgLy8gRmlyZWZveCByZXF1aXJlcyB0aGlzIHRvIG1ha2UgZHJhZ2dpbmcgcG9zc2libGUKICAgIH0sCiAgICBvbkNvbHVtbkhlYWRlckRyYWdPdmVyOiBmdW5jdGlvbiBvbkNvbHVtbkhlYWRlckRyYWdPdmVyKGV2ZW50KSB7CiAgICAgIHZhciBkcm9wSGVhZGVyID0gdGhpcy5maW5kUGFyZW50SGVhZGVyKGV2ZW50LnRhcmdldCk7CgogICAgICBpZiAodGhpcy5yZW9yZGVyYWJsZUNvbHVtbnMgJiYgdGhpcy5kcmFnZ2VkQ29sdW1uICYmIGRyb3BIZWFkZXIpIHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHZhciBjb250YWluZXJPZmZzZXQgPSBEb21IYW5kbGVyLmdldE9mZnNldCh0aGlzLiRlbCk7CiAgICAgICAgdmFyIGRyb3BIZWFkZXJPZmZzZXQgPSBEb21IYW5kbGVyLmdldE9mZnNldChkcm9wSGVhZGVyKTsKCiAgICAgICAgaWYgKHRoaXMuZHJhZ2dlZENvbHVtbiAhPT0gZHJvcEhlYWRlcikgewogICAgICAgICAgdmFyIHRhcmdldExlZnQgPSBkcm9wSGVhZGVyT2Zmc2V0LmxlZnQgLSBjb250YWluZXJPZmZzZXQubGVmdDsKICAgICAgICAgIHZhciBjb2x1bW5DZW50ZXIgPSBkcm9wSGVhZGVyT2Zmc2V0LmxlZnQgKyBkcm9wSGVhZGVyLm9mZnNldFdpZHRoIC8gMjsKICAgICAgICAgIHRoaXMuJHJlZnMucmVvcmRlckluZGljYXRvclVwLnN0eWxlLnRvcCA9IGRyb3BIZWFkZXJPZmZzZXQudG9wIC0gY29udGFpbmVyT2Zmc2V0LnRvcCAtICh0aGlzLmNvbFJlb3JkZXJJY29uSGVpZ2h0IC0gMSkgKyAncHgnOwogICAgICAgICAgdGhpcy4kcmVmcy5yZW9yZGVySW5kaWNhdG9yRG93bi5zdHlsZS50b3AgPSBkcm9wSGVhZGVyT2Zmc2V0LnRvcCAtIGNvbnRhaW5lck9mZnNldC50b3AgKyBkcm9wSGVhZGVyLm9mZnNldEhlaWdodCArICdweCc7CgogICAgICAgICAgaWYgKGV2ZW50LnBhZ2VYID4gY29sdW1uQ2VudGVyKSB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMucmVvcmRlckluZGljYXRvclVwLnN0eWxlLmxlZnQgPSB0YXJnZXRMZWZ0ICsgZHJvcEhlYWRlci5vZmZzZXRXaWR0aCAtIE1hdGguY2VpbCh0aGlzLmNvbFJlb3JkZXJJY29uV2lkdGggLyAyKSArICdweCc7CiAgICAgICAgICAgIHRoaXMuJHJlZnMucmVvcmRlckluZGljYXRvckRvd24uc3R5bGUubGVmdCA9IHRhcmdldExlZnQgKyBkcm9wSGVhZGVyLm9mZnNldFdpZHRoIC0gTWF0aC5jZWlsKHRoaXMuY29sUmVvcmRlckljb25XaWR0aCAvIDIpICsgJ3B4JzsKICAgICAgICAgICAgdGhpcy5kcm9wUG9zaXRpb24gPSAxOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kcmVmcy5yZW9yZGVySW5kaWNhdG9yVXAuc3R5bGUubGVmdCA9IHRhcmdldExlZnQgLSBNYXRoLmNlaWwodGhpcy5jb2xSZW9yZGVySWNvbldpZHRoIC8gMikgKyAncHgnOwogICAgICAgICAgICB0aGlzLiRyZWZzLnJlb3JkZXJJbmRpY2F0b3JEb3duLnN0eWxlLmxlZnQgPSB0YXJnZXRMZWZ0IC0gTWF0aC5jZWlsKHRoaXMuY29sUmVvcmRlckljb25XaWR0aCAvIDIpICsgJ3B4JzsKICAgICAgICAgICAgdGhpcy5kcm9wUG9zaXRpb24gPSAtMTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLiRyZWZzLnJlb3JkZXJJbmRpY2F0b3JVcC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgIHRoaXMuJHJlZnMucmVvcmRlckluZGljYXRvckRvd24uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgb25Db2x1bW5IZWFkZXJEcmFnTGVhdmU6IGZ1bmN0aW9uIG9uQ29sdW1uSGVhZGVyRHJhZ0xlYXZlKGV2ZW50KSB7CiAgICAgIGlmICh0aGlzLnJlb3JkZXJhYmxlQ29sdW1ucyAmJiB0aGlzLmRyYWdnZWRDb2x1bW4pIHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHRoaXMuJHJlZnMucmVvcmRlckluZGljYXRvclVwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgdGhpcy4kcmVmcy5yZW9yZGVySW5kaWNhdG9yRG93bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICB9CiAgICB9LAogICAgb25Db2x1bW5IZWFkZXJEcm9wOiBmdW5jdGlvbiBvbkNvbHVtbkhlYWRlckRyb3AoZXZlbnQpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCiAgICAgIGlmICh0aGlzLmRyYWdnZWRDb2x1bW4pIHsKICAgICAgICB2YXIgZHJhZ0luZGV4ID0gRG9tSGFuZGxlci5pbmRleCh0aGlzLmRyYWdnZWRDb2x1bW4pOwogICAgICAgIHZhciBkcm9wSW5kZXggPSBEb21IYW5kbGVyLmluZGV4KHRoaXMuZmluZFBhcmVudEhlYWRlcihldmVudC50YXJnZXQpKTsKICAgICAgICB2YXIgYWxsb3dEcm9wID0gZHJhZ0luZGV4ICE9PSBkcm9wSW5kZXg7CgogICAgICAgIGlmIChhbGxvd0Ryb3AgJiYgKGRyb3BJbmRleCAtIGRyYWdJbmRleCA9PT0gMSAmJiB0aGlzLmRyb3BQb3NpdGlvbiA9PT0gLTEgfHwgZHJhZ0luZGV4IC0gZHJvcEluZGV4ID09PSAxICYmIHRoaXMuZHJvcFBvc2l0aW9uID09PSAxKSkgewogICAgICAgICAgYWxsb3dEcm9wID0gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBpZiAoYWxsb3dEcm9wKSB7CiAgICAgICAgICBPYmplY3RVdGlscy5yZW9yZGVyQXJyYXkodGhpcy5jb2x1bW5zLCBkcmFnSW5kZXgsIGRyb3BJbmRleCk7CiAgICAgICAgICB0aGlzLnVwZGF0ZVJlb3JkZXJhYmxlQ29sdW1ucygpOwogICAgICAgICAgdGhpcy4kZW1pdCgnY29sdW1uLXJlb3JkZXInLCB7CiAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LAogICAgICAgICAgICBkcmFnSW5kZXg6IGRyYWdJbmRleCwKICAgICAgICAgICAgZHJvcEluZGV4OiBkcm9wSW5kZXgKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgdGhpcy4kcmVmcy5yZW9yZGVySW5kaWNhdG9yVXAuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICB0aGlzLiRyZWZzLnJlb3JkZXJJbmRpY2F0b3JEb3duLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgdGhpcy5kcmFnZ2VkQ29sdW1uLmRyYWdnYWJsZSA9IGZhbHNlOwogICAgICAgIHRoaXMuZHJhZ2dlZENvbHVtbiA9IG51bGw7CiAgICAgICAgdGhpcy5kcm9wUG9zaXRpb24gPSBudWxsOwogICAgICB9CiAgICB9LAogICAgZmluZFBhcmVudEhlYWRlcjogZnVuY3Rpb24gZmluZFBhcmVudEhlYWRlcihlbGVtZW50KSB7CiAgICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnVEgnKSB7CiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudDsKCiAgICAgICAgd2hpbGUgKHBhcmVudC5ub2RlTmFtZSAhPT0gJ1RIJykgewogICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudEVsZW1lbnQ7CiAgICAgICAgICBpZiAoIXBhcmVudCkgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcGFyZW50OwogICAgICB9CiAgICB9LAogICAgZmluZENvbHVtbkJ5S2V5OiBmdW5jdGlvbiBmaW5kQ29sdW1uQnlLZXkoY29sdW1ucywga2V5KSB7CiAgICAgIGlmIChjb2x1bW5zICYmIGNvbHVtbnMubGVuZ3RoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2x1bW5zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgY29sdW1uID0gY29sdW1uc1tpXTsKCiAgICAgICAgICBpZiAodGhpcy5jb2x1bW5Qcm9wKGNvbHVtbiwgJ2NvbHVtbktleScpID09PSBrZXkgfHwgdGhpcy5jb2x1bW5Qcm9wKGNvbHVtbiwgJ2ZpZWxkJykgPT09IGtleSkgewogICAgICAgICAgICByZXR1cm4gY29sdW1uOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAogICAgb25Sb3dNb3VzZURvd246IGZ1bmN0aW9uIG9uUm93TW91c2VEb3duKGV2ZW50KSB7CiAgICAgIGlmIChEb21IYW5kbGVyLmhhc0NsYXNzKGV2ZW50LnRhcmdldCwgJ3AtZGF0YXRhYmxlLXJlb3JkZXJhYmxlcm93LWhhbmRsZScpKSBldmVudC5jdXJyZW50VGFyZ2V0LmRyYWdnYWJsZSA9IHRydWU7ZWxzZSBldmVudC5jdXJyZW50VGFyZ2V0LmRyYWdnYWJsZSA9IGZhbHNlOwogICAgfSwKICAgIG9uUm93RHJhZ1N0YXJ0OiBmdW5jdGlvbiBvblJvd0RyYWdTdGFydChlKSB7CiAgICAgIHZhciBldmVudCA9IGUub3JpZ2luYWxFdmVudDsKICAgICAgdmFyIGluZGV4ID0gZS5pbmRleDsKICAgICAgdGhpcy5yb3dEcmFnZ2luZyA9IHRydWU7CiAgICAgIHRoaXMuZHJhZ2dlZFJvd0luZGV4ID0gaW5kZXg7CiAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0JywgJ2InKTsgLy8gRm9yIGZpcmVmb3gKICAgIH0sCiAgICBvblJvd0RyYWdPdmVyOiBmdW5jdGlvbiBvblJvd0RyYWdPdmVyKGUpIHsKICAgICAgdmFyIGV2ZW50ID0gZS5vcmlnaW5hbEV2ZW50OwogICAgICB2YXIgaW5kZXggPSBlLmluZGV4OwoKICAgICAgaWYgKHRoaXMucm93RHJhZ2dpbmcgJiYgdGhpcy5kcmFnZ2VkUm93SW5kZXggIT09IGluZGV4KSB7CiAgICAgICAgdmFyIHJvd0VsZW1lbnQgPSBldmVudC5jdXJyZW50VGFyZ2V0OwogICAgICAgIHZhciByb3dZID0gRG9tSGFuZGxlci5nZXRPZmZzZXQocm93RWxlbWVudCkudG9wICsgRG9tSGFuZGxlci5nZXRXaW5kb3dTY3JvbGxUb3AoKTsKICAgICAgICB2YXIgcGFnZVkgPSBldmVudC5wYWdlWTsKICAgICAgICB2YXIgcm93TWlkWSA9IHJvd1kgKyBEb21IYW5kbGVyLmdldE91dGVySGVpZ2h0KHJvd0VsZW1lbnQpIC8gMjsKICAgICAgICB2YXIgcHJldlJvd0VsZW1lbnQgPSByb3dFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7CgogICAgICAgIGlmIChwYWdlWSA8IHJvd01pZFkpIHsKICAgICAgICAgIERvbUhhbmRsZXIucmVtb3ZlQ2xhc3Mocm93RWxlbWVudCwgJ3AtZGF0YXRhYmxlLWRyYWdwb2ludC1ib3R0b20nKTsKICAgICAgICAgIHRoaXMuZHJvcHBlZFJvd0luZGV4ID0gaW5kZXg7CiAgICAgICAgICBpZiAocHJldlJvd0VsZW1lbnQpIERvbUhhbmRsZXIuYWRkQ2xhc3MocHJldlJvd0VsZW1lbnQsICdwLWRhdGF0YWJsZS1kcmFncG9pbnQtYm90dG9tJyk7ZWxzZSBEb21IYW5kbGVyLmFkZENsYXNzKHJvd0VsZW1lbnQsICdwLWRhdGF0YWJsZS1kcmFncG9pbnQtdG9wJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChwcmV2Um93RWxlbWVudCkgRG9tSGFuZGxlci5yZW1vdmVDbGFzcyhwcmV2Um93RWxlbWVudCwgJ3AtZGF0YXRhYmxlLWRyYWdwb2ludC1ib3R0b20nKTtlbHNlIERvbUhhbmRsZXIuYWRkQ2xhc3Mocm93RWxlbWVudCwgJ3AtZGF0YXRhYmxlLWRyYWdwb2ludC10b3AnKTsKICAgICAgICAgIHRoaXMuZHJvcHBlZFJvd0luZGV4ID0gaW5kZXggKyAxOwogICAgICAgICAgRG9tSGFuZGxlci5hZGRDbGFzcyhyb3dFbGVtZW50LCAncC1kYXRhdGFibGUtZHJhZ3BvaW50LWJvdHRvbScpOwogICAgICAgIH0KCiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgfQogICAgfSwKICAgIG9uUm93RHJhZ0xlYXZlOiBmdW5jdGlvbiBvblJvd0RyYWdMZWF2ZShldmVudCkgewogICAgICB2YXIgcm93RWxlbWVudCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7CiAgICAgIHZhciBwcmV2Um93RWxlbWVudCA9IHJvd0VsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZzsKCiAgICAgIGlmIChwcmV2Um93RWxlbWVudCkgewogICAgICAgIERvbUhhbmRsZXIucmVtb3ZlQ2xhc3MocHJldlJvd0VsZW1lbnQsICdwLWRhdGF0YWJsZS1kcmFncG9pbnQtYm90dG9tJyk7CiAgICAgIH0KCiAgICAgIERvbUhhbmRsZXIucmVtb3ZlQ2xhc3Mocm93RWxlbWVudCwgJ3AtZGF0YXRhYmxlLWRyYWdwb2ludC1ib3R0b20nKTsKICAgICAgRG9tSGFuZGxlci5yZW1vdmVDbGFzcyhyb3dFbGVtZW50LCAncC1kYXRhdGFibGUtZHJhZ3BvaW50LXRvcCcpOwogICAgfSwKICAgIG9uUm93RHJhZ0VuZDogZnVuY3Rpb24gb25Sb3dEcmFnRW5kKGV2ZW50KSB7CiAgICAgIHRoaXMucm93RHJhZ2dpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5kcmFnZ2VkUm93SW5kZXggPSBudWxsOwogICAgICB0aGlzLmRyb3BwZWRSb3dJbmRleCA9IG51bGw7CiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuZHJhZ2dhYmxlID0gZmFsc2U7CiAgICB9LAogICAgb25Sb3dEcm9wOiBmdW5jdGlvbiBvblJvd0Ryb3AoZXZlbnQpIHsKICAgICAgaWYgKHRoaXMuZHJvcHBlZFJvd0luZGV4ICE9IG51bGwpIHsKICAgICAgICB2YXIgZHJvcEluZGV4ID0gdGhpcy5kcmFnZ2VkUm93SW5kZXggPiB0aGlzLmRyb3BwZWRSb3dJbmRleCA/IHRoaXMuZHJvcHBlZFJvd0luZGV4IDogdGhpcy5kcm9wcGVkUm93SW5kZXggPT09IDAgPyAwIDogdGhpcy5kcm9wcGVkUm93SW5kZXggLSAxOwoKICAgICAgICB2YXIgcHJvY2Vzc2VkRGF0YSA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLnByb2Nlc3NlZERhdGEpOwoKICAgICAgICBPYmplY3RVdGlscy5yZW9yZGVyQXJyYXkocHJvY2Vzc2VkRGF0YSwgdGhpcy5kcmFnZ2VkUm93SW5kZXgsIGRyb3BJbmRleCk7CiAgICAgICAgdGhpcy4kZW1pdCgncm93LXJlb3JkZXInLCB7CiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCwKICAgICAgICAgIGRyYWdJbmRleDogdGhpcy5kcmFnZ2VkUm93SW5kZXgsCiAgICAgICAgICBkcm9wSW5kZXg6IGRyb3BJbmRleCwKICAgICAgICAgIHZhbHVlOiBwcm9jZXNzZWREYXRhCiAgICAgICAgfSk7CiAgICAgIH0gLy9jbGVhbnVwCgoKICAgICAgdGhpcy5vblJvd0RyYWdMZWF2ZShldmVudCk7CiAgICAgIHRoaXMub25Sb3dEcmFnRW5kKGV2ZW50KTsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgIH0sCiAgICB0b2dnbGVSb3c6IGZ1bmN0aW9uIHRvZ2dsZVJvdyhldmVudCkgewogICAgICB2YXIgcm93RGF0YSA9IGV2ZW50LmRhdGE7CiAgICAgIHZhciBleHBhbmRlZDsKICAgICAgdmFyIGV4cGFuZGVkUm93SW5kZXg7CgogICAgICB2YXIgX2V4cGFuZGVkUm93cyA9IHRoaXMuZXhwYW5kZWRSb3dzID8gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuZXhwYW5kZWRSb3dzKSA6IFtdOwoKICAgICAgaWYgKHRoaXMuZGF0YUtleSkgewogICAgICAgIGV4cGFuZGVkID0gdGhpcy5kX2V4cGFuZGVkUm93S2V5cyA/IHRoaXMuZF9leHBhbmRlZFJvd0tleXNbT2JqZWN0VXRpbHMucmVzb2x2ZUZpZWxkRGF0YShyb3dEYXRhLCB0aGlzLmRhdGFLZXkpXSAhPT0gdW5kZWZpbmVkIDogZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZXhwYW5kZWRSb3dJbmRleCA9IHRoaXMuZmluZEluZGV4KHJvd0RhdGEsIHRoaXMuZXhwYW5kZWRSb3dzKTsKICAgICAgICBleHBhbmRlZCA9IGV4cGFuZGVkUm93SW5kZXggPiAtMTsKICAgICAgfQoKICAgICAgaWYgKGV4cGFuZGVkKSB7CiAgICAgICAgaWYgKGV4cGFuZGVkUm93SW5kZXggPT0gbnVsbCkgewogICAgICAgICAgZXhwYW5kZWRSb3dJbmRleCA9IHRoaXMuZmluZEluZGV4KHJvd0RhdGEsIHRoaXMuZXhwYW5kZWRSb3dzKTsKICAgICAgICB9CgogICAgICAgIF9leHBhbmRlZFJvd3Muc3BsaWNlKGV4cGFuZGVkUm93SW5kZXgsIDEpOwoKICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6ZXhwYW5kZWRSb3dzJywgX2V4cGFuZGVkUm93cyk7CiAgICAgICAgdGhpcy4kZW1pdCgncm93LWNvbGxhcHNlJywgZXZlbnQpOwogICAgICB9IGVsc2UgewogICAgICAgIF9leHBhbmRlZFJvd3MucHVzaChyb3dEYXRhKTsKCiAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmV4cGFuZGVkUm93cycsIF9leHBhbmRlZFJvd3MpOwogICAgICAgIHRoaXMuJGVtaXQoJ3Jvdy1leHBhbmQnLCBldmVudCk7CiAgICAgIH0KICAgIH0sCiAgICB0b2dnbGVSb3dHcm91cDogZnVuY3Rpb24gdG9nZ2xlUm93R3JvdXAoZSkgewogICAgICB2YXIgZXZlbnQgPSBlLm9yaWdpbmFsRXZlbnQ7CiAgICAgIHZhciBkYXRhID0gZS5kYXRhOwogICAgICB2YXIgZ3JvdXBGaWVsZFZhbHVlID0gT2JqZWN0VXRpbHMucmVzb2x2ZUZpZWxkRGF0YShkYXRhLCB0aGlzLmdyb3VwUm93c0J5KTsKCiAgICAgIHZhciBfZXhwYW5kZWRSb3dHcm91cHMgPSB0aGlzLmV4cGFuZGVkUm93R3JvdXBzID8gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuZXhwYW5kZWRSb3dHcm91cHMpIDogW107CgogICAgICBpZiAodGhpcy5pc1Jvd0dyb3VwRXhwYW5kZWQoZGF0YSkpIHsKICAgICAgICBfZXhwYW5kZWRSb3dHcm91cHMgPSBfZXhwYW5kZWRSb3dHcm91cHMuZmlsdGVyKGZ1bmN0aW9uIChncm91cCkgewogICAgICAgICAgcmV0dXJuIGdyb3VwICE9PSBncm91cEZpZWxkVmFsdWU7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmV4cGFuZGVkUm93R3JvdXBzJywgX2V4cGFuZGVkUm93R3JvdXBzKTsKICAgICAgICB0aGlzLiRlbWl0KCdyb3dncm91cC1jb2xsYXBzZScsIHsKICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LAogICAgICAgICAgZGF0YTogZ3JvdXBGaWVsZFZhbHVlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX2V4cGFuZGVkUm93R3JvdXBzLnB1c2goZ3JvdXBGaWVsZFZhbHVlKTsKCiAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmV4cGFuZGVkUm93R3JvdXBzJywgX2V4cGFuZGVkUm93R3JvdXBzKTsKICAgICAgICB0aGlzLiRlbWl0KCdyb3dncm91cC1leHBhbmQnLCB7CiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCwKICAgICAgICAgIGRhdGE6IGdyb3VwRmllbGRWYWx1ZQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgaXNSb3dHcm91cEV4cGFuZGVkOiBmdW5jdGlvbiBpc1Jvd0dyb3VwRXhwYW5kZWQocm93RGF0YSkgewogICAgICBpZiAodGhpcy5leHBhbmRhYmxlUm93R3JvdXBzICYmIHRoaXMuZXhwYW5kZWRSb3dHcm91cHMpIHsKICAgICAgICB2YXIgZ3JvdXBGaWVsZFZhbHVlID0gT2JqZWN0VXRpbHMucmVzb2x2ZUZpZWxkRGF0YShyb3dEYXRhLCB0aGlzLmdyb3VwUm93c0J5KTsKICAgICAgICByZXR1cm4gdGhpcy5leHBhbmRlZFJvd0dyb3Vwcy5pbmRleE9mKGdyb3VwRmllbGRWYWx1ZSkgPiAtMTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIGlzU3RhdGVmdWw6IGZ1bmN0aW9uIGlzU3RhdGVmdWwoKSB7CiAgICAgIHJldHVybiB0aGlzLnN0YXRlS2V5ICE9IG51bGw7CiAgICB9LAogICAgZ2V0U3RvcmFnZTogZnVuY3Rpb24gZ2V0U3RvcmFnZSgpIHsKICAgICAgc3dpdGNoICh0aGlzLnN0YXRlU3RvcmFnZSkgewogICAgICAgIGNhc2UgJ2xvY2FsJzoKICAgICAgICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlOwoKICAgICAgICBjYXNlICdzZXNzaW9uJzoKICAgICAgICAgIHJldHVybiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2U7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodGhpcy5zdGF0ZVN0b3JhZ2UgKyAnIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciB0aGUgc3RhdGUgc3RvcmFnZSwgc3VwcG9ydGVkIHZhbHVlcyBhcmUgImxvY2FsIiBhbmQgInNlc3Npb24iLicpOwogICAgICB9CiAgICB9LAogICAgc2F2ZVN0YXRlOiBmdW5jdGlvbiBzYXZlU3RhdGUoKSB7CiAgICAgIHZhciBzdG9yYWdlID0gdGhpcy5nZXRTdG9yYWdlKCk7CiAgICAgIHZhciBzdGF0ZSA9IHt9OwoKICAgICAgaWYgKHRoaXMucGFnaW5hdG9yKSB7CiAgICAgICAgc3RhdGUuZmlyc3QgPSB0aGlzLmRfZmlyc3Q7CiAgICAgICAgc3RhdGUucm93cyA9IHRoaXMuZF9yb3dzOwogICAgICB9CgogICAgICBpZiAodGhpcy5kX3NvcnRGaWVsZCkgewogICAgICAgIHN0YXRlLnNvcnRGaWVsZCA9IHRoaXMuZF9zb3J0RmllbGQ7CiAgICAgICAgc3RhdGUuc29ydE9yZGVyID0gdGhpcy5kX3NvcnRPcmRlcjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuZF9tdWx0aVNvcnRNZXRhKSB7CiAgICAgICAgc3RhdGUubXVsdGlTb3J0TWV0YSA9IHRoaXMuZF9tdWx0aVNvcnRNZXRhOwogICAgICB9CgogICAgICBpZiAodGhpcy5oYXNGaWx0ZXJzKSB7CiAgICAgICAgc3RhdGUuZmlsdGVycyA9IHRoaXMuZmlsdGVyczsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucmVzaXphYmxlQ29sdW1ucykgewogICAgICAgIHRoaXMuc2F2ZUNvbHVtbldpZHRocyhzdGF0ZSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnJlb3JkZXJhYmxlQ29sdW1ucykgewogICAgICAgIHN0YXRlLmNvbHVtbk9yZGVyID0gdGhpcy5kX2NvbHVtbk9yZGVyOwogICAgICB9CgogICAgICBpZiAodGhpcy5leHBhbmRlZFJvd3MpIHsKICAgICAgICBzdGF0ZS5leHBhbmRlZFJvd3MgPSB0aGlzLmV4cGFuZGVkUm93czsKICAgICAgICBzdGF0ZS5leHBhbmRlZFJvd0tleXMgPSB0aGlzLmRfZXhwYW5kZWRSb3dLZXlzOwogICAgICB9CgogICAgICBpZiAodGhpcy5leHBhbmRlZFJvd0dyb3VwcykgewogICAgICAgIHN0YXRlLmV4cGFuZGVkUm93R3JvdXBzID0gdGhpcy5leHBhbmRlZFJvd0dyb3VwczsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uKSB7CiAgICAgICAgc3RhdGUuc2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb247CiAgICAgICAgc3RhdGUuc2VsZWN0aW9uS2V5cyA9IHRoaXMuZF9zZWxlY3Rpb25LZXlzOwogICAgICB9CgogICAgICBpZiAoT2JqZWN0LmtleXMoc3RhdGUpLmxlbmd0aCkgewogICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0YXRlS2V5LCBKU09OLnN0cmluZ2lmeShzdGF0ZSkpOwogICAgICB9CgogICAgICB0aGlzLiRlbWl0KCdzdGF0ZS1zYXZlJywgc3RhdGUpOwogICAgfSwKICAgIHJlc3RvcmVTdGF0ZTogZnVuY3Rpb24gcmVzdG9yZVN0YXRlKCkgewogICAgICB2YXIgc3RvcmFnZSA9IHRoaXMuZ2V0U3RvcmFnZSgpOwogICAgICB2YXIgc3RhdGVTdHJpbmcgPSBzdG9yYWdlLmdldEl0ZW0odGhpcy5zdGF0ZUtleSk7CiAgICAgIHZhciBkYXRlRm9ybWF0ID0gL1xkezR9LVxkezJ9LVxkezJ9VFxkezJ9OlxkezJ9OlxkezJ9LlxkezN9Wi87CgogICAgICB2YXIgcmV2aXZlciA9IGZ1bmN0aW9uIHJldml2ZXIoa2V5LCB2YWx1ZSkgewogICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICJzdHJpbmciICYmIGRhdGVGb3JtYXQudGVzdCh2YWx1ZSkpIHsKICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgIH07CgogICAgICBpZiAoc3RhdGVTdHJpbmcpIHsKICAgICAgICB2YXIgcmVzdG9yZWRTdGF0ZSA9IEpTT04ucGFyc2Uoc3RhdGVTdHJpbmcsIHJldml2ZXIpOwoKICAgICAgICBpZiAodGhpcy5wYWdpbmF0b3IpIHsKICAgICAgICAgIHRoaXMuZF9maXJzdCA9IHJlc3RvcmVkU3RhdGUuZmlyc3Q7CiAgICAgICAgICB0aGlzLmRfcm93cyA9IHJlc3RvcmVkU3RhdGUucm93czsKICAgICAgICB9CgogICAgICAgIGlmIChyZXN0b3JlZFN0YXRlLnNvcnRGaWVsZCkgewogICAgICAgICAgdGhpcy5kX3NvcnRGaWVsZCA9IHJlc3RvcmVkU3RhdGUuc29ydEZpZWxkOwogICAgICAgICAgdGhpcy5kX3NvcnRPcmRlciA9IHJlc3RvcmVkU3RhdGUuc29ydE9yZGVyOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJlc3RvcmVkU3RhdGUubXVsdGlTb3J0TWV0YSkgewogICAgICAgICAgdGhpcy5kX211bHRpU29ydE1ldGEgPSByZXN0b3JlZFN0YXRlLm11bHRpU29ydE1ldGE7CiAgICAgICAgfQoKICAgICAgICBpZiAocmVzdG9yZWRTdGF0ZS5maWx0ZXJzKSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6ZmlsdGVycycsIHJlc3RvcmVkU3RhdGUuZmlsdGVycyk7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5yZXNpemFibGVDb2x1bW5zKSB7CiAgICAgICAgICB0aGlzLmNvbHVtbldpZHRoc1N0YXRlID0gcmVzdG9yZWRTdGF0ZS5jb2x1bW5XaWR0aHM7CiAgICAgICAgICB0aGlzLnRhYmxlV2lkdGhTdGF0ZSA9IHJlc3RvcmVkU3RhdGUudGFibGVXaWR0aDsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLnJlb3JkZXJhYmxlQ29sdW1ucykgewogICAgICAgICAgdGhpcy5kX2NvbHVtbk9yZGVyID0gcmVzdG9yZWRTdGF0ZS5jb2x1bW5PcmRlcjsKICAgICAgICB9CgogICAgICAgIGlmIChyZXN0b3JlZFN0YXRlLmV4cGFuZGVkUm93cykgewogICAgICAgICAgdGhpcy5kX2V4cGFuZGVkUm93S2V5cyA9IHJlc3RvcmVkU3RhdGUuZXhwYW5kZWRSb3dLZXlzOwogICAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmV4cGFuZGVkUm93cycsIHJlc3RvcmVkU3RhdGUuZXhwYW5kZWRSb3dzKTsKICAgICAgICB9CgogICAgICAgIGlmIChyZXN0b3JlZFN0YXRlLmV4cGFuZGVkUm93R3JvdXBzKSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6ZXhwYW5kZWRSb3dHcm91cHMnLCByZXN0b3JlZFN0YXRlLmV4cGFuZGVkUm93R3JvdXBzKTsKICAgICAgICB9CgogICAgICAgIGlmIChyZXN0b3JlZFN0YXRlLnNlbGVjdGlvbikgewogICAgICAgICAgdGhpcy5kX3NlbGVjdGlvbktleXMgPSByZXN0b3JlZFN0YXRlLmRfc2VsZWN0aW9uS2V5czsKICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpzZWxlY3Rpb24nLCByZXN0b3JlZFN0YXRlLnNlbGVjdGlvbik7CiAgICAgICAgfQoKICAgICAgICB0aGlzLiRlbWl0KCdzdGF0ZS1yZXN0b3JlJywgcmVzdG9yZWRTdGF0ZSk7CiAgICAgIH0KICAgIH0sCiAgICBzYXZlQ29sdW1uV2lkdGhzOiBmdW5jdGlvbiBzYXZlQ29sdW1uV2lkdGhzKHN0YXRlKSB7CiAgICAgIHZhciB3aWR0aHMgPSBbXTsKICAgICAgdmFyIGhlYWRlcnMgPSBEb21IYW5kbGVyLmZpbmQodGhpcy4kZWwsICcucC1kYXRhdGFibGUtdGhlYWQgPiB0ciA+IHRoJyk7CiAgICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGVhZGVyKSB7CiAgICAgICAgcmV0dXJuIHdpZHRocy5wdXNoKERvbUhhbmRsZXIuZ2V0T3V0ZXJXaWR0aChoZWFkZXIpKTsKICAgICAgfSk7CiAgICAgIHN0YXRlLmNvbHVtbldpZHRocyA9IHdpZHRocy5qb2luKCcsJyk7CgogICAgICBpZiAodGhpcy5jb2x1bW5SZXNpemVNb2RlID09PSAnZXhwYW5kJykgewogICAgICAgIHN0YXRlLnRhYmxlV2lkdGggPSBEb21IYW5kbGVyLmdldE91dGVyV2lkdGgodGhpcy4kcmVmcy50YWJsZSkgKyAncHgnOwogICAgICB9CiAgICB9LAogICAgcmVzdG9yZUNvbHVtbldpZHRoczogZnVuY3Rpb24gcmVzdG9yZUNvbHVtbldpZHRocygpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5jb2x1bW5XaWR0aHNTdGF0ZSkgewogICAgICAgIHZhciB3aWR0aHMgPSB0aGlzLmNvbHVtbldpZHRoc1N0YXRlLnNwbGl0KCcsJyk7CgogICAgICAgIGlmICh0aGlzLmNvbHVtblJlc2l6ZU1vZGUgPT09ICdleHBhbmQnICYmIHRoaXMudGFibGVXaWR0aFN0YXRlKSB7CiAgICAgICAgICB0aGlzLiRyZWZzLnRhYmxlLnN0eWxlLndpZHRoID0gdGhpcy50YWJsZVdpZHRoU3RhdGU7CiAgICAgICAgICB0aGlzLiRyZWZzLnRhYmxlLnN0eWxlLm1pbldpZHRoID0gdGhpcy50YWJsZVdpZHRoU3RhdGU7CiAgICAgICAgICB0aGlzLiRlbC5zdHlsZS53aWR0aCA9IHRoaXMudGFibGVXaWR0aFN0YXRlOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5jcmVhdGVTdHlsZUVsZW1lbnQoKTsKCiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsYWJsZSAmJiB3aWR0aHMgJiYgd2lkdGhzLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHZhciBpbm5lckhUTUwgPSAnJzsKICAgICAgICAgIHdpZHRocy5mb3JFYWNoKGZ1bmN0aW9uICh3aWR0aCwgaW5kZXgpIHsKICAgICAgICAgICAgaW5uZXJIVE1MICs9ICJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucC1kYXRhdGFibGVbIi5jb25jYXQoX3RoaXM3LmF0dHJpYnV0ZVNlbGVjdG9yLCAiXSAucC1kYXRhdGFibGUtdGhlYWQgPiB0ciA+IHRoOm50aC1jaGlsZCgiKS5jb25jYXQoaW5kZXggKyAxLCAiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDAgMCAiKS5jb25jYXQod2lkdGgsICJweDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucC1kYXRhdGFibGVbIikuY29uY2F0KF90aGlzNy5hdHRyaWJ1dGVTZWxlY3RvciwgIl0gLnAtZGF0YXRhYmxlLXRib2R5ID4gdHIgPiB0ZDpudGgtY2hpbGQoIikuY29uY2F0KGluZGV4ICsgMSwgIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAwIDAgIikuY29uY2F0KHdpZHRoLCAicHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgIik7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuc3R5bGVFbGVtZW50LmlubmVySFRNTCA9IGlubmVySFRNTDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgRG9tSGFuZGxlci5maW5kKHRoaXMuJHJlZnMudGFibGUsICcucC1kYXRhdGFibGUtdGhlYWQgPiB0ciA+IHRoJykuZm9yRWFjaChmdW5jdGlvbiAoaGVhZGVyLCBpbmRleCkgewogICAgICAgICAgICByZXR1cm4gaGVhZGVyLnN0eWxlLndpZHRoID0gd2lkdGhzW2luZGV4XSArICdweCc7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBvbkNlbGxFZGl0SW5pdDogZnVuY3Rpb24gb25DZWxsRWRpdEluaXQoZXZlbnQpIHsKICAgICAgdGhpcy4kZW1pdCgnY2VsbC1lZGl0LWluaXQnLCBldmVudCk7CiAgICB9LAogICAgb25DZWxsRWRpdENvbXBsZXRlOiBmdW5jdGlvbiBvbkNlbGxFZGl0Q29tcGxldGUoZXZlbnQpIHsKICAgICAgdGhpcy4kZW1pdCgnY2VsbC1lZGl0LWNvbXBsZXRlJywgZXZlbnQpOwogICAgfSwKICAgIG9uQ2VsbEVkaXRDYW5jZWw6IGZ1bmN0aW9uIG9uQ2VsbEVkaXRDYW5jZWwoZXZlbnQpIHsKICAgICAgdGhpcy4kZW1pdCgnY2VsbC1lZGl0LWNhbmNlbCcsIGV2ZW50KTsKICAgIH0sCiAgICBvblJvd0VkaXRJbml0OiBmdW5jdGlvbiBvblJvd0VkaXRJbml0KGV2ZW50KSB7CiAgICAgIHZhciBfZWRpdGluZ1Jvd3MgPSB0aGlzLmVkaXRpbmdSb3dzID8gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuZWRpdGluZ1Jvd3MpIDogW107CgogICAgICBfZWRpdGluZ1Jvd3MucHVzaChldmVudC5kYXRhKTsKCiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTplZGl0aW5nUm93cycsIF9lZGl0aW5nUm93cyk7CiAgICAgIHRoaXMuJGVtaXQoJ3Jvdy1lZGl0LWluaXQnLCBldmVudCk7CiAgICB9LAogICAgb25Sb3dFZGl0U2F2ZTogZnVuY3Rpb24gb25Sb3dFZGl0U2F2ZShldmVudCkgewogICAgICB2YXIgX2VkaXRpbmdSb3dzID0gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuZWRpdGluZ1Jvd3MpOwoKICAgICAgX2VkaXRpbmdSb3dzLnNwbGljZSh0aGlzLmZpbmRJbmRleChldmVudC5kYXRhLCBfZWRpdGluZ1Jvd3MpLCAxKTsKCiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTplZGl0aW5nUm93cycsIF9lZGl0aW5nUm93cyk7CiAgICAgIHRoaXMuJGVtaXQoJ3Jvdy1lZGl0LXNhdmUnLCBldmVudCk7CiAgICB9LAogICAgb25Sb3dFZGl0Q2FuY2VsOiBmdW5jdGlvbiBvblJvd0VkaXRDYW5jZWwoZXZlbnQpIHsKICAgICAgdmFyIF9lZGl0aW5nUm93cyA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLmVkaXRpbmdSb3dzKTsKCiAgICAgIF9lZGl0aW5nUm93cy5zcGxpY2UodGhpcy5maW5kSW5kZXgoZXZlbnQuZGF0YSwgX2VkaXRpbmdSb3dzKSwgMSk7CgogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6ZWRpdGluZ1Jvd3MnLCBfZWRpdGluZ1Jvd3MpOwogICAgICB0aGlzLiRlbWl0KCdyb3ctZWRpdC1jYW5jZWwnLCBldmVudCk7CiAgICB9LAogICAgb25FZGl0aW5nTWV0YUNoYW5nZTogZnVuY3Rpb24gb25FZGl0aW5nTWV0YUNoYW5nZShldmVudCkgewogICAgICB2YXIgZGF0YSA9IGV2ZW50LmRhdGEsCiAgICAgICAgICBmaWVsZCA9IGV2ZW50LmZpZWxkLAogICAgICAgICAgaW5kZXggPSBldmVudC5pbmRleCwKICAgICAgICAgIGVkaXRpbmcgPSBldmVudC5lZGl0aW5nOwogICAgICB2YXIgbWV0YSA9IHRoaXMuZF9lZGl0aW5nTWV0YVtpbmRleF07CgogICAgICBpZiAoZWRpdGluZykgewogICAgICAgICFtZXRhICYmIChtZXRhID0gdGhpcy5kX2VkaXRpbmdNZXRhW2luZGV4XSA9IHsKICAgICAgICAgIGRhdGE6IF9vYmplY3RTcHJlYWQoe30sIGRhdGEpLAogICAgICAgICAgZmllbGRzOiBbXQogICAgICAgIH0pOwogICAgICAgIG1ldGFbJ2ZpZWxkcyddLnB1c2goZmllbGQpOwogICAgICB9IGVsc2UgaWYgKG1ldGEpIHsKICAgICAgICB2YXIgZmllbGRzID0gbWV0YVsnZmllbGRzJ10uZmlsdGVyKGZ1bmN0aW9uIChmKSB7CiAgICAgICAgICByZXR1cm4gZiAhPT0gZmllbGQ7CiAgICAgICAgfSk7CiAgICAgICAgIWZpZWxkcy5sZW5ndGggPyBkZWxldGUgdGhpcy5kX2VkaXRpbmdNZXRhW2luZGV4XSA6IG1ldGFbJ2ZpZWxkcyddID0gZmllbGRzOwogICAgICB9CiAgICB9LAogICAgY2xlYXJFZGl0aW5nTWV0YURhdGE6IGZ1bmN0aW9uIGNsZWFyRWRpdGluZ01ldGFEYXRhKCkgewogICAgICBpZiAodGhpcy5lZGl0TW9kZSkgewogICAgICAgIHRoaXMuZF9lZGl0aW5nTWV0YSA9IHt9OwogICAgICB9CiAgICB9LAogICAgY3JlYXRlTGF6eUxvYWRFdmVudDogZnVuY3Rpb24gY3JlYXRlTGF6eUxvYWRFdmVudChldmVudCkgewogICAgICByZXR1cm4gewogICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LAogICAgICAgIGZpcnN0OiB0aGlzLmRfZmlyc3QsCiAgICAgICAgcm93czogdGhpcy5kX3Jvd3MsCiAgICAgICAgc29ydEZpZWxkOiB0aGlzLmRfc29ydEZpZWxkLAogICAgICAgIHNvcnRPcmRlcjogdGhpcy5kX3NvcnRPcmRlciwKICAgICAgICBtdWx0aVNvcnRNZXRhOiB0aGlzLmRfbXVsdGlTb3J0TWV0YSwKICAgICAgICBmaWx0ZXJzOiB0aGlzLmRfZmlsdGVycwogICAgICB9OwogICAgfSwKICAgIGhhc0dsb2JhbEZpbHRlcjogZnVuY3Rpb24gaGFzR2xvYmFsRmlsdGVyKCkgewogICAgICByZXR1cm4gdGhpcy5maWx0ZXJzICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmZpbHRlcnMsICdnbG9iYWwnKTsKICAgIH0sCiAgICBnZXRDaGlsZHJlbjogZnVuY3Rpb24gZ2V0Q2hpbGRyZW4oKSB7CiAgICAgIHJldHVybiB0aGlzLiRzbG90cy5kZWZhdWx0ID8gdGhpcy4kc2xvdHMuZGVmYXVsdCgpIDogbnVsbDsKICAgIH0sCiAgICBvbkZpbHRlckNoYW5nZTogZnVuY3Rpb24gb25GaWx0ZXJDaGFuZ2UoZmlsdGVycykgewogICAgICB0aGlzLmRfZmlsdGVycyA9IGZpbHRlcnM7CiAgICB9LAogICAgb25GaWx0ZXJBcHBseTogZnVuY3Rpb24gb25GaWx0ZXJBcHBseSgpIHsKICAgICAgdGhpcy5kX2ZpcnN0ID0gMDsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmZpcnN0JywgdGhpcy5kX2ZpcnN0KTsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmZpbHRlcnMnLCB0aGlzLmRfZmlsdGVycyk7CgogICAgICBpZiAodGhpcy5sYXp5KSB7CiAgICAgICAgdGhpcy4kZW1pdCgnZmlsdGVyJywgdGhpcy5jcmVhdGVMYXp5TG9hZEV2ZW50KCkpOwogICAgICB9CiAgICB9LAogICAgY2xvbmVGaWx0ZXJzOiBmdW5jdGlvbiBjbG9uZUZpbHRlcnMoKSB7CiAgICAgIHZhciBjbG9uZWQgPSB7fTsKCiAgICAgIGlmICh0aGlzLmZpbHRlcnMpIHsKICAgICAgICBPYmplY3QuZW50cmllcyh0aGlzLmZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLAogICAgICAgICAgICAgIHByb3AgPSBfcmVmMlswXSwKICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWYyWzFdOwoKICAgICAgICAgIGNsb25lZFtwcm9wXSA9IHZhbHVlLm9wZXJhdG9yID8gewogICAgICAgICAgICBvcGVyYXRvcjogdmFsdWUub3BlcmF0b3IsCiAgICAgICAgICAgIGNvbnN0cmFpbnRzOiB2YWx1ZS5jb25zdHJhaW50cy5tYXAoZnVuY3Rpb24gKGNvbnN0cmFpbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgY29uc3RyYWludCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9IDogX29iamVjdFNwcmVhZCh7fSwgdmFsdWUpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gY2xvbmVkOwogICAgfSwKICAgIHVwZGF0ZVJlb3JkZXJhYmxlQ29sdW1uczogZnVuY3Rpb24gdXBkYXRlUmVvcmRlcmFibGVDb2x1bW5zKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHZhciBjb2x1bW5PcmRlciA9IFtdOwogICAgICB0aGlzLmNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sKSB7CiAgICAgICAgcmV0dXJuIGNvbHVtbk9yZGVyLnB1c2goX3RoaXM4LmNvbHVtblByb3AoY29sLCAnY29sdW1uS2V5JykgfHwgX3RoaXM4LmNvbHVtblByb3AoY29sLCAnZmllbGQnKSk7CiAgICAgIH0pOwogICAgICB0aGlzLmRfY29sdW1uT3JkZXIgPSBjb2x1bW5PcmRlcjsKICAgIH0sCiAgICBjcmVhdGVTdHlsZUVsZW1lbnQ6IGZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCgpIHsKICAgICAgdGhpcy5zdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgICB0aGlzLnN0eWxlRWxlbWVudC50eXBlID0gJ3RleHQvY3NzJzsKICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh0aGlzLnN0eWxlRWxlbWVudCk7CiAgICB9LAogICAgY3JlYXRlUmVzcG9uc2l2ZVN0eWxlOiBmdW5jdGlvbiBjcmVhdGVSZXNwb25zaXZlU3R5bGUoKSB7CiAgICAgIGlmICghdGhpcy5yZXNwb25zaXZlU3R5bGVFbGVtZW50KSB7CiAgICAgICAgdGhpcy5yZXNwb25zaXZlU3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgICB0aGlzLnJlc3BvbnNpdmVTdHlsZUVsZW1lbnQudHlwZSA9ICd0ZXh0L2Nzcyc7CiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh0aGlzLnJlc3BvbnNpdmVTdHlsZUVsZW1lbnQpOwogICAgICAgIHZhciBpbm5lckhUTUwgPSAiXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiAiLmNvbmNhdCh0aGlzLmJyZWFrcG9pbnQsICIpIHtcbiAgICAucC1kYXRhdGFibGVbIikuY29uY2F0KHRoaXMuYXR0cmlidXRlU2VsZWN0b3IsICJdIC5wLWRhdGF0YWJsZS10aGVhZCA+IHRyID4gdGgsXG4gICAgLnAtZGF0YXRhYmxlWyIpLmNvbmNhdCh0aGlzLmF0dHJpYnV0ZVNlbGVjdG9yLCAiXSAucC1kYXRhdGFibGUtdGZvb3QgPiB0ciA+IHRkIHtcbiAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICAgIH1cblxuICAgIC5wLWRhdGF0YWJsZVsiKS5jb25jYXQodGhpcy5hdHRyaWJ1dGVTZWxlY3RvciwgIl0gLnAtZGF0YXRhYmxlLXRib2R5ID4gdHIgPiB0ZCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICB9XG5cbiAgICAucC1kYXRhdGFibGVbIikuY29uY2F0KHRoaXMuYXR0cmlidXRlU2VsZWN0b3IsICJdIC5wLWRhdGF0YWJsZS10Ym9keSA+IHRyID4gdGQ6bm90KDpsYXN0LWNoaWxkKSB7XG4gICAgICAgIGJvcmRlcjogMCBub25lO1xuICAgIH1cblxuICAgIC5wLWRhdGF0YWJsZVsiKS5jb25jYXQodGhpcy5hdHRyaWJ1dGVTZWxlY3RvciwgIl0ucC1kYXRhdGFibGUtZ3JpZGxpbmVzIC5wLWRhdGF0YWJsZS10Ym9keSA+IHRyID4gdGQ6bGFzdC1jaGlsZCB7XG4gICAgICAgIGJvcmRlci10b3A6IDA7XG4gICAgICAgIGJvcmRlci1yaWdodDogMDtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDA7XG4gICAgfVxuXG4gICAgLnAtZGF0YXRhYmxlWyIpLmNvbmNhdCh0aGlzLmF0dHJpYnV0ZVNlbGVjdG9yLCAiXSAucC1kYXRhdGFibGUtdGJvZHkgPiB0ciA+IHRkID4gLnAtY29sdW1uLXRpdGxlIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgfVxufVxuIik7CiAgICAgICAgdGhpcy5yZXNwb25zaXZlU3R5bGVFbGVtZW50LmlubmVySFRNTCA9IGlubmVySFRNTDsKICAgICAgfQogICAgfSwKICAgIGRlc3Ryb3lSZXNwb25zaXZlU3R5bGU6IGZ1bmN0aW9uIGRlc3Ryb3lSZXNwb25zaXZlU3R5bGUoKSB7CiAgICAgIGlmICh0aGlzLnJlc3BvbnNpdmVTdHlsZUVsZW1lbnQpIHsKICAgICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKHRoaXMucmVzcG9uc2l2ZVN0eWxlRWxlbWVudCk7CiAgICAgICAgdGhpcy5yZXNwb25zaXZlU3R5bGVFbGVtZW50ID0gbnVsbDsKICAgICAgfQogICAgfSwKICAgIGRlc3Ryb3lTdHlsZUVsZW1lbnQ6IGZ1bmN0aW9uIGRlc3Ryb3lTdHlsZUVsZW1lbnQoKSB7CiAgICAgIGlmICh0aGlzLnN0eWxlRWxlbWVudCkgewogICAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQodGhpcy5zdHlsZUVsZW1lbnQpOwogICAgICAgIHRoaXMuc3R5bGVFbGVtZW50ID0gbnVsbDsKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNvbnRhaW5lckNsYXNzOiBmdW5jdGlvbiBjb250YWluZXJDbGFzcygpIHsKICAgICAgcmV0dXJuIFsncC1kYXRhdGFibGUgcC1jb21wb25lbnQnLCB7CiAgICAgICAgJ3AtZGF0YXRhYmxlLWhvdmVyYWJsZS1yb3dzJzogdGhpcy5yb3dIb3ZlciB8fCB0aGlzLnNlbGVjdGlvbk1vZGUsCiAgICAgICAgJ3AtZGF0YXRhYmxlLWF1dG8tbGF5b3V0JzogdGhpcy5hdXRvTGF5b3V0LAogICAgICAgICdwLWRhdGF0YWJsZS1yZXNpemFibGUnOiB0aGlzLnJlc2l6YWJsZUNvbHVtbnMsCiAgICAgICAgJ3AtZGF0YXRhYmxlLXJlc2l6YWJsZS1maXQnOiB0aGlzLnJlc2l6YWJsZUNvbHVtbnMgJiYgdGhpcy5jb2x1bW5SZXNpemVNb2RlID09PSAnZml0JywKICAgICAgICAncC1kYXRhdGFibGUtc2Nyb2xsYWJsZSc6IHRoaXMuc2Nyb2xsYWJsZSwKICAgICAgICAncC1kYXRhdGFibGUtc2Nyb2xsYWJsZS12ZXJ0aWNhbCc6IHRoaXMuc2Nyb2xsYWJsZSAmJiB0aGlzLnNjcm9sbERpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJywKICAgICAgICAncC1kYXRhdGFibGUtc2Nyb2xsYWJsZS1ob3Jpem9udGFsJzogdGhpcy5zY3JvbGxhYmxlICYmIHRoaXMuc2Nyb2xsRGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcsCiAgICAgICAgJ3AtZGF0YXRhYmxlLXNjcm9sbGFibGUtYm90aCc6IHRoaXMuc2Nyb2xsYWJsZSAmJiB0aGlzLnNjcm9sbERpcmVjdGlvbiA9PT0gJ2JvdGgnLAogICAgICAgICdwLWRhdGF0YWJsZS1mbGV4LXNjcm9sbGFibGUnOiB0aGlzLnNjcm9sbGFibGUgJiYgdGhpcy5zY3JvbGxIZWlnaHQgPT09ICdmbGV4JywKICAgICAgICAncC1kYXRhdGFibGUtcmVzcG9uc2l2ZS1zdGFjayc6IHRoaXMucmVzcG9uc2l2ZUxheW91dCA9PT0gJ3N0YWNrJywKICAgICAgICAncC1kYXRhdGFibGUtcmVzcG9uc2l2ZS1zY3JvbGwnOiB0aGlzLnJlc3BvbnNpdmVMYXlvdXQgPT09ICdzY3JvbGwnLAogICAgICAgICdwLWRhdGF0YWJsZS1zdHJpcGVkJzogdGhpcy5zdHJpcGVkUm93cywKICAgICAgICAncC1kYXRhdGFibGUtZ3JpZGxpbmVzJzogdGhpcy5zaG93R3JpZGxpbmVzLAogICAgICAgICdwLWRhdGF0YWJsZS1ncm91cGVkLWhlYWRlcic6IHRoaXMuaGVhZGVyQ29sdW1uR3JvdXAgIT0gbnVsbCwKICAgICAgICAncC1kYXRhdGFibGUtZ3JvdXBlZC1mb290ZXInOiB0aGlzLmZvb3RlckNvbHVtbkdyb3VwICE9IG51bGwKICAgICAgfV07CiAgICB9LAogICAgY29sdW1uczogZnVuY3Rpb24gY29sdW1ucygpIHsKICAgICAgdmFyIGNvbHMgPSBbXTsKICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5nZXRDaGlsZHJlbigpOwoKICAgICAgaWYgKCFjaGlsZHJlbikgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHsKICAgICAgICBpZiAoY2hpbGQuY2hpbGRyZW4gJiYgY2hpbGQuY2hpbGRyZW4gaW5zdGFuY2VvZiBBcnJheSkgY29scyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoY29scyksIF90b0NvbnN1bWFibGVBcnJheShjaGlsZC5jaGlsZHJlbikpO2Vsc2UgaWYgKGNoaWxkLnR5cGUubmFtZSA9PT0gJ0NvbHVtbicpIGNvbHMucHVzaChjaGlsZCk7CiAgICAgIH0pOwoKICAgICAgaWYgKHRoaXMucmVvcmRlcmFibGVDb2x1bW5zICYmIHRoaXMuZF9jb2x1bW5PcmRlcikgewogICAgICAgIHZhciBvcmRlcmVkQ29sdW1ucyA9IFtdOwoKICAgICAgICB2YXIgX2l0ZXJhdG9yNSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuZF9jb2x1bW5PcmRlciksCiAgICAgICAgICAgIF9zdGVwNTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNS5zKCk7ICEoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBjb2x1bW5LZXkgPSBfc3RlcDUudmFsdWU7CiAgICAgICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLmZpbmRDb2x1bW5CeUtleShjb2xzLCBjb2x1bW5LZXkpOwoKICAgICAgICAgICAgaWYgKGNvbHVtbikgewogICAgICAgICAgICAgIG9yZGVyZWRDb2x1bW5zLnB1c2goY29sdW1uKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yNS5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvcjUuZigpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIFtdLmNvbmNhdChvcmRlcmVkQ29sdW1ucywgX3RvQ29uc3VtYWJsZUFycmF5KGNvbHMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gb3JkZXJlZENvbHVtbnMuaW5kZXhPZihpdGVtKSA8IDA7CiAgICAgICAgfSkpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNvbHM7CiAgICB9LAogICAgaGVhZGVyQ29sdW1uR3JvdXA6IGZ1bmN0aW9uIGhlYWRlckNvbHVtbkdyb3VwKCkgewogICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLmdldENoaWxkcmVuKCk7CgogICAgICBpZiAoY2hpbGRyZW4pIHsKICAgICAgICB2YXIgX2l0ZXJhdG9yNiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGNoaWxkcmVuKSwKICAgICAgICAgICAgX3N0ZXA2OwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3I2LnMoKTsgIShfc3RlcDYgPSBfaXRlcmF0b3I2Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIGNoaWxkID0gX3N0ZXA2LnZhbHVlOwoKICAgICAgICAgICAgaWYgKGNoaWxkLnR5cGUubmFtZSA9PT0gJ0NvbHVtbkdyb3VwJyAmJiB0aGlzLmNvbHVtblByb3AoY2hpbGQsICd0eXBlJykgPT09ICdoZWFkZXInKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3I2LmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yNi5mKCk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCiAgICBmb290ZXJDb2x1bW5Hcm91cDogZnVuY3Rpb24gZm9vdGVyQ29sdW1uR3JvdXAoKSB7CiAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuZ2V0Q2hpbGRyZW4oKTsKCiAgICAgIGlmIChjaGlsZHJlbikgewogICAgICAgIHZhciBfaXRlcmF0b3I3ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoY2hpbGRyZW4pLAogICAgICAgICAgICBfc3RlcDc7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjcucygpOyAhKF9zdGVwNyA9IF9pdGVyYXRvcjcubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgY2hpbGQgPSBfc3RlcDcudmFsdWU7CgogICAgICAgICAgICBpZiAoY2hpbGQudHlwZS5uYW1lID09PSAnQ29sdW1uR3JvdXAnICYmIHRoaXMuY29sdW1uUHJvcChjaGlsZCwgJ3R5cGUnKSA9PT0gJ2Zvb3RlcicpIHsKICAgICAgICAgICAgICByZXR1cm4gY2hpbGQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjcuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3I3LmYoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfSwKICAgIGhhc0ZpbHRlcnM6IGZ1bmN0aW9uIGhhc0ZpbHRlcnMoKSB7CiAgICAgIHJldHVybiB0aGlzLmZpbHRlcnMgJiYgT2JqZWN0LmtleXModGhpcy5maWx0ZXJzKS5sZW5ndGggPiAwICYmIHRoaXMuZmlsdGVycy5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0OwogICAgfSwKICAgIHByb2Nlc3NlZERhdGE6IGZ1bmN0aW9uIHByb2Nlc3NlZERhdGEoKSB7CiAgICAgIHZhciBkYXRhID0gdGhpcy52YWx1ZSB8fCBbXTsKCiAgICAgIGlmICghdGhpcy5sYXp5KSB7CiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGgpIHsKICAgICAgICAgIGlmICh0aGlzLmhhc0ZpbHRlcnMpIHsKICAgICAgICAgICAgZGF0YSA9IHRoaXMuZmlsdGVyKGRhdGEpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0aGlzLnNvcnRlZCkgewogICAgICAgICAgICBpZiAodGhpcy5zb3J0TW9kZSA9PT0gJ3NpbmdsZScpIGRhdGEgPSB0aGlzLnNvcnRTaW5nbGUoZGF0YSk7ZWxzZSBpZiAodGhpcy5zb3J0TW9kZSA9PT0gJ211bHRpcGxlJykgZGF0YSA9IHRoaXMuc29ydE11bHRpcGxlKGRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGRhdGE7CiAgICB9LAogICAgZGF0YVRvUmVuZGVyOiBmdW5jdGlvbiBkYXRhVG9SZW5kZXIoKSB7CiAgICAgIHZhciBkYXRhID0gdGhpcy5wcm9jZXNzZWREYXRhOwoKICAgICAgaWYgKGRhdGEgJiYgdGhpcy5wYWdpbmF0b3IpIHsKICAgICAgICB2YXIgZmlyc3QgPSB0aGlzLmxhenkgPyAwIDogdGhpcy5kX2ZpcnN0OwogICAgICAgIHJldHVybiBkYXRhLnNsaWNlKGZpcnN0LCBmaXJzdCArIHRoaXMuZF9yb3dzKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgfQogICAgfSwKICAgIHRvdGFsUmVjb3Jkc0xlbmd0aDogZnVuY3Rpb24gdG90YWxSZWNvcmRzTGVuZ3RoKCkgewogICAgICBpZiAodGhpcy5sYXp5KSB7CiAgICAgICAgcmV0dXJuIHRoaXMudG90YWxSZWNvcmRzOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBkYXRhID0gdGhpcy5wcm9jZXNzZWREYXRhOwogICAgICAgIHJldHVybiBkYXRhID8gZGF0YS5sZW5ndGggOiAwOwogICAgICB9CiAgICB9LAogICAgZW1wdHk6IGZ1bmN0aW9uIGVtcHR5KCkgewogICAgICB2YXIgZGF0YSA9IHRoaXMucHJvY2Vzc2VkRGF0YTsKICAgICAgcmV0dXJuICFkYXRhIHx8IGRhdGEubGVuZ3RoID09PSAwOwogICAgfSwKICAgIHBhZ2luYXRvclRvcDogZnVuY3Rpb24gcGFnaW5hdG9yVG9wKCkgewogICAgICByZXR1cm4gdGhpcy5wYWdpbmF0b3IgJiYgKHRoaXMucGFnaW5hdG9yUG9zaXRpb24gIT09ICdib3R0b20nIHx8IHRoaXMucGFnaW5hdG9yUG9zaXRpb24gPT09ICdib3RoJyk7CiAgICB9LAogICAgcGFnaW5hdG9yQm90dG9tOiBmdW5jdGlvbiBwYWdpbmF0b3JCb3R0b20oKSB7CiAgICAgIHJldHVybiB0aGlzLnBhZ2luYXRvciAmJiAodGhpcy5wYWdpbmF0b3JQb3NpdGlvbiAhPT0gJ3RvcCcgfHwgdGhpcy5wYWdpbmF0b3JQb3NpdGlvbiA9PT0gJ2JvdGgnKTsKICAgIH0sCiAgICBzb3J0ZWQ6IGZ1bmN0aW9uIHNvcnRlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZF9zb3J0RmllbGQgfHwgdGhpcy5kX211bHRpU29ydE1ldGEgJiYgdGhpcy5kX211bHRpU29ydE1ldGEubGVuZ3RoID4gMDsKICAgIH0sCiAgICBsb2FkaW5nSWNvbkNsYXNzOiBmdW5jdGlvbiBsb2FkaW5nSWNvbkNsYXNzKCkgewogICAgICByZXR1cm4gWydwLWRhdGF0YWJsZS1sb2FkaW5nLWljb24gcGktc3BpbicsIHRoaXMubG9hZGluZ0ljb25dOwogICAgfSwKICAgIGFsbFJvd3NTZWxlY3RlZDogZnVuY3Rpb24gYWxsUm93c1NlbGVjdGVkKCkgewogICAgICB2YXIgdmFsID0gdGhpcy5mcm96ZW5WYWx1ZSA/IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5mcm96ZW5WYWx1ZSksIF90b0NvbnN1bWFibGVBcnJheSh0aGlzLnByb2Nlc3NlZERhdGEpKSA6IHRoaXMucHJvY2Vzc2VkRGF0YTsKICAgICAgdmFyIGxlbmd0aCA9IHRoaXMubGF6eSA/IHRoaXMudG90YWxSZWNvcmRzIDogdmFsID8gdmFsLmxlbmd0aCA6IDA7CiAgICAgIHJldHVybiB2YWwgJiYgbGVuZ3RoID4gMCAmJiB0aGlzLnNlbGVjdGlvbiAmJiB0aGlzLnNlbGVjdGlvbi5sZW5ndGggPiAwICYmIHRoaXMuc2VsZWN0aW9uLmxlbmd0aCA9PT0gbGVuZ3RoOwogICAgfSwKICAgIGF0dHJpYnV0ZVNlbGVjdG9yOiBmdW5jdGlvbiBhdHRyaWJ1dGVTZWxlY3RvcigpIHsKICAgICAgcmV0dXJuIFVuaXF1ZUNvbXBvbmVudElkKCk7CiAgICB9LAogICAgZ3JvdXBSb3dTb3J0RmllbGQ6IGZ1bmN0aW9uIGdyb3VwUm93U29ydEZpZWxkKCkgewogICAgICByZXR1cm4gdGhpcy5zb3J0TW9kZSA9PT0gJ3NpbmdsZScgPyB0aGlzLnNvcnRGaWVsZCA6IHRoaXMuZF9ncm91cFJvd3NTb3J0TWV0YSA/IHRoaXMuZF9ncm91cFJvd3NTb3J0TWV0YS5maWVsZCA6IG51bGw7CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICAnRFRQYWdpbmF0b3InOiBQYWdpbmF0b3IsCiAgICAnRFRUYWJsZUhlYWRlcic6IFRhYmxlSGVhZGVyLAogICAgJ0RUVGFibGVCb2R5JzogVGFibGVCb2R5LAogICAgJ0RUVGFibGVGb290ZXInOiBUYWJsZUZvb3RlcgogIH0KfTs="},{"version":3,"sources":["/Users/crocslut/Desktop/Git/main-cleanaway-pwa/src/components/datatable/DataTable.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div :class=\"containerClass\" data-scrollselectors=\".p-datatable-wrapper\">\n        <slot></slot>\n        <div class=\"p-datatable-loading-overlay p-component-overlay\" v-if=\"loading\">\n            <i :class=\"loadingIconClass\"></i>\n        </div>\n        <div class=\"p-datatable-header\" v-if=\"$slots.header\">\n            <slot name=\"header\"></slot>\n        </div>\n        <DTPaginator v-if=\"paginatorTop\" :rows=\"d_rows\" :first=\"d_first\" :totalRecords=\"totalRecordsLength\" :pageLinkSize=\"pageLinkSize\" :template=\"paginatorTemplate\" :rowsPerPageOptions=\"rowsPerPageOptions\"\n                :currentPageReportTemplate=\"currentPageReportTemplate\" class=\"p-paginator-top\" @page=\"onPage($event)\" :alwaysShow=\"alwaysShowPaginator\">\n            <template #left v-if=\"$slots.paginatorLeft\">\n                <slot name=\"paginatorLeft\"></slot>\n            </template>\n            <template #right v-if=\"$slots.paginatorRight\">\n                <slot name=\"paginatorRight\"></slot>\n            </template>\n        </DTPaginator>\n        <div class=\"p-datatable-wrapper\" :style=\"{maxHeight: scrollHeight}\">\n            <table ref=\"table\" role=\"table\" class=\"p-datatable-table\">\n                <DTTableHeader :columnGroup=\"headerColumnGroup\" :columns=\"columns\" :rowGroupMode=\"rowGroupMode\"\n                        :groupRowsBy=\"groupRowsBy\" :groupRowSortField=\"groupRowSortField\" :resizableColumns=\"resizableColumns\" :allRowsSelected=\"allRowsSelected\" :empty=\"empty\"\n                        :sortMode=\"sortMode\" :sortField=\"d_sortField\" :sortOrder=\"d_sortOrder\" :multiSortMeta=\"d_multiSortMeta\" :filters=\"d_filters\" :filtersStore=\"filters\" :filterDisplay=\"filterDisplay\"\n                        @column-click=\"onColumnHeaderClick($event)\" @column-mousedown=\"onColumnHeaderMouseDown($event)\" @filter-change=\"onFilterChange\" @filter-apply=\"onFilterApply\"\n                        @column-dragstart=\"onColumnHeaderDragStart($event)\" @column-dragover=\"onColumnHeaderDragOver($event)\" @column-dragleave=\"onColumnHeaderDragLeave($event)\" @column-drop=\"onColumnHeaderDrop($event)\"\n                        @column-resizestart=\"onColumnResizeStart($event)\" @checkbox-change=\"toggleRowsWithCheckbox($event)\" />\n                <DTTableBody v-if=\"frozenValue\" :value=\"frozenValue\" :frozenRow=\"true\" class=\"p-datatable-frozen-tbody\" :columns=\"columns\" :dataKey=\"dataKey\" :selection=\"selection\" :selectionKeys=\"d_selectionKeys\" :selectionMode=\"selectionMode\" :contextMenu=\"contextMenu\" :contextMenuSelection=\"contextMenuSelection\"\n                    :rowGroupMode=\"rowGroupMode\" :groupRowsBy=\"groupRowsBy\" :expandableRowGroups=\"expandableRowGroups\" :rowClass=\"rowClass\" :editMode=\"editMode\" :compareSelectionBy=\"compareSelectionBy\" :scrollable=\"scrollable\"\n                    :expandedRowIcon=\"expandedRowIcon\" :collapsedRowIcon=\"collapsedRowIcon\" :expandedRows=\"expandedRows\" :expandedRowKeys=\"d_expandedRowKeys\" :expandedRowGroups=\"expandedRowGroups\"\n                    :editingRows=\"editingRows\" :editingRowKeys=\"d_editingRowKeys\" :templates=\"$slots\" :loading=\"loading\" :responsiveLayout=\"responsiveLayout\"\n                    @rowgroup-toggle=\"toggleRowGroup\" @row-click=\"onRowClick($event)\" @row-dblclick=\"onRowDblClick($event)\" @row-rightclick=\"onRowRightClick($event)\" @row-touchend=\"onRowTouchEnd\" @row-keydown=\"onRowKeyDown\"\n                    @row-mousedown=\"onRowMouseDown\" @row-dragstart=\"onRowDragStart($event)\" @row-dragover=\"onRowDragOver($event)\" @row-dragleave=\"onRowDragLeave($event)\" @row-dragend=\"onRowDragEnd($event)\" @row-drop=\"onRowDrop($event)\"\n                    @row-toggle=\"toggleRow($event)\" @radio-change=\"toggleRowWithRadio($event)\" @checkbox-change=\"toggleRowWithCheckbox($event)\"\n                    @cell-edit-init=\"onCellEditInit($event)\" @cell-edit-complete=\"onCellEditComplete($event)\" @cell-edit-cancel=\"onCellEditCancel($event)\"\n                    @row-edit-init=\"onRowEditInit($event)\" @row-edit-save=\"onRowEditSave($event)\" @row-edit-cancel=\"onRowEditCancel($event)\"\n                    :editingMeta=\"d_editingMeta\" @editing-meta-change=\"onEditingMetaChange\" />\n                <DTTableBody :value=\"dataToRender\" :columns=\"columns\" :empty=\"empty\" :dataKey=\"dataKey\" :selection=\"selection\" :selectionKeys=\"d_selectionKeys\" :selectionMode=\"selectionMode\" :contextMenu=\"contextMenu\" :contextMenuSelection=\"contextMenuSelection\"\n                    :rowGroupMode=\"rowGroupMode\" :groupRowsBy=\"groupRowsBy\" :expandableRowGroups=\"expandableRowGroups\" :rowClass=\"rowClass\" :editMode=\"editMode\" :compareSelectionBy=\"compareSelectionBy\" :scrollable=\"scrollable\"\n                    :expandedRowIcon=\"expandedRowIcon\" :collapsedRowIcon=\"collapsedRowIcon\" :expandedRows=\"expandedRows\" :expandedRowKeys=\"d_expandedRowKeys\" :expandedRowGroups=\"expandedRowGroups\"\n                    :editingRows=\"editingRows\" :editingRowKeys=\"d_editingRowKeys\" :templates=\"$slots\" :loading=\"loading\" :responsiveLayout=\"responsiveLayout\"\n                    @rowgroup-toggle=\"toggleRowGroup\" @row-click=\"onRowClick($event)\" @row-dblclick=\"onRowDblClick($event)\" @row-rightclick=\"onRowRightClick($event)\" @row-touchend=\"onRowTouchEnd\" @row-keydown=\"onRowKeyDown\"\n                    @row-mousedown=\"onRowMouseDown\" @row-dragstart=\"onRowDragStart($event)\" @row-dragover=\"onRowDragOver($event)\" @row-dragleave=\"onRowDragLeave($event)\" @row-dragend=\"onRowDragEnd($event)\" @row-drop=\"onRowDrop($event)\"\n                    @row-toggle=\"toggleRow($event)\" @radio-change=\"toggleRowWithRadio($event)\" @checkbox-change=\"toggleRowWithCheckbox($event)\"\n                    @cell-edit-init=\"onCellEditInit($event)\" @cell-edit-complete=\"onCellEditComplete($event)\" @cell-edit-cancel=\"onCellEditCancel($event)\"\n                    @row-edit-init=\"onRowEditInit($event)\" @row-edit-save=\"onRowEditSave($event)\" @row-edit-cancel=\"onRowEditCancel($event)\"\n                    :editingMeta=\"d_editingMeta\" @editing-meta-change=\"onEditingMetaChange\" />\n                <DTTableFooter :columnGroup=\"footerColumnGroup\" :columns=\"columns\" />\n            </table>\n        </div>\n        <DTPaginator v-if=\"paginatorBottom\" :rows=\"d_rows\" :first=\"d_first\" :totalRecords=\"totalRecordsLength\" :pageLinkSize=\"pageLinkSize\" :template=\"paginatorTemplate\" :rowsPerPageOptions=\"rowsPerPageOptions\"\n                :currentPageReportTemplate=\"currentPageReportTemplate\" class=\"p-paginator-bottom\" @page=\"onPage($event)\" :alwaysShow=\"alwaysShowPaginator\">\n            <template #left v-if=\"$slots.paginatorLeft\">\n                <slot name=\"paginatorLeft\"></slot>\n            </template>\n            <template #right v-if=\"$slots.paginatorRight\">\n                <slot name=\"paginatorRight\"></slot>\n            </template>\n        </DTPaginator>\n        <div class=\"p-datatable-footer\" v-if=\"$slots.footer\">\n            <slot name=\"footer\"></slot>\n        </div>\n        <div ref=\"resizeHelper\" class=\"p-column-resizer-helper\" style=\"display: none\"></div>\n        <span ref=\"reorderIndicatorUp\" class=\"pi pi-arrow-down p-datatable-reorder-indicator-up\" style=\"position: absolute; display: none\" v-if=\"reorderableColumns\" />\n        <span ref=\"reorderIndicatorDown\" class=\"pi pi-arrow-up p-datatable-reorder-indicator-down\" style=\"position: absolute; display: none\" v-if=\"reorderableColumns\" />\n    </div>\n</template>\n\n<script>\nimport {ObjectUtils,DomHandler,UniqueComponentId} from 'primevue/utils';\nimport {FilterMatchMode,FilterOperator,FilterService} from 'primevue/api';\nimport Paginator from 'primevue/paginator';\nimport TableHeader from './TableHeader.vue';\nimport TableBody from './TableBody.vue';\nimport TableFooter from './TableFooter.vue';\n\nexport default {\n    name: 'DataTable',\n    emits: ['value-change', 'update:first', 'update:rows', 'page', 'update:sortField', 'update:sortOrder', 'update:multiSortMeta', 'sort', 'filter', 'row-click', 'row-dblclick',\n        'update:selection', 'row-select', 'row-unselect', 'update:contextMenuSelection', 'row-contextmenu', 'row-unselect-all', 'row-select-all',\n        'column-resize-end', 'column-reorder', 'row-reorder', 'update:expandedRows', 'row-collapse', 'row-expand',\n        'update:expandedRowGroups', 'rowgroup-collapse', 'rowgroup-expand', 'update:filters', 'state-restore', 'state-save',\n        'cell-edit-init', 'cell-edit-complete', 'cell-edit-cancel', 'update:editingRows', 'row-edit-init', 'row-edit-save', 'row-edit-cancel'],\n    props: {\n        value: {\n            type: Array,\n            default: null\n        },\n        dataKey: {\n            type: String,\n            default: null\n        },\n        rows: {\n            type: Number,\n            default: 0\n        },\n        first: {\n            type: Number,\n            default: 0\n        },\n        totalRecords: {\n            type: Number,\n            default: 0\n        },\n        paginator: {\n            type: Boolean,\n            default: false\n        },\n        paginatorPosition: {\n            type: String,\n            default: 'bottom'\n        },\n        alwaysShowPaginator: {\n            type: Boolean,\n            default: true\n        },\n        paginatorTemplate: {\n            type: String,\n            default: 'FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown'\n        },\n        pageLinkSize: {\n            type: Number,\n            default: 5\n        },\n        rowsPerPageOptions: {\n            type: Array,\n            default: null\n        },\n        currentPageReportTemplate: {\n            type: String,\n            default: '({currentPage} of {totalPages})'\n        },\n        lazy: {\n            type: Boolean,\n            default: false\n        },\n        loading: {\n            type: Boolean,\n            default: false\n        },\n        loadingIcon: {\n            type: String,\n            default: 'pi pi-spinner'\n        },\n        sortField: {\n            type: [String, Function],\n            default: null\n        },\n        sortOrder: {\n            type: Number,\n            default: null\n        },\n        defaultSortOrder: {\n            type: Number,\n            default: 1\n        },\n        multiSortMeta: {\n            type: Array,\n            default: null\n        },\n        sortMode: {\n            type: String,\n            default: 'single'\n        },\n        removableSort: {\n            type: Boolean,\n            default: false\n        },\n        filters: {\n            type: Object,\n            default: null\n        },\n        filterDisplay: {\n            type: String,\n            default: null\n        },\n        globalFilterFields: {\n            type: Array,\n            default: null\n        },\n        filterLocale: {\n            type: String,\n            default: undefined\n        },\n        selection: {\n            type: [Array,Object],\n            default: null\n        },\n        selectionMode: {\n            type: String,\n            default: null\n        },\n        compareSelectionBy: {\n            type: String,\n            default: 'deepEquals'\n        },\n        metaKeySelection: {\n            type: Boolean,\n            default: true\n        },\n        contextMenu: {\n            type: Boolean,\n            default: false\n        },\n        contextMenuSelection: {\n            type: Object,\n            default: null\n        },\n        rowHover: {\n            type: Boolean,\n            default: false\n        },\n        csvSeparator: {\n            type: String,\n            default: ','\n        },\n        exportFilename: {\n            type: String,\n            default: 'download'\n        },\n        exportFunction: {\n            type: Function,\n            default: null\n        },\n        autoLayout: {\n            type: Boolean,\n            default: false\n        },\n        resizableColumns: {\n            type: Boolean,\n            default: false\n        },\n        columnResizeMode: {\n            type: String,\n            default: 'fit'\n        },\n        reorderableColumns: {\n            type: Boolean,\n            default: false\n        },\n        expandedRows: {\n            type: Array,\n            default: null\n        },\n        expandedRowIcon: {\n            type: String,\n            default: 'pi-chevron-down'\n        },\n        collapsedRowIcon: {\n            type: String,\n            default: 'pi-chevron-right'\n        },\n        rowGroupMode: {\n            type: String,\n            default: null\n        },\n        groupRowsBy: {\n            type: [Array,String],\n            default: null\n        },\n        expandableRowGroups: {\n            type: Boolean,\n            default: false\n        },\n        expandedRowGroups: {\n            type: Array,\n            default: null\n        },\n        stateStorage: {\n            type: String,\n            default: 'session'\n        },\n        stateKey: {\n            type: String,\n            default: null\n        },\n        editMode: {\n            type: String,\n            default: null\n        },\n        editingRows: {\n            type: Array,\n            default: null\n        },\n        rowClass: {\n            type: null,\n            default: null\n        },\n        scrollable: {\n            type: Boolean,\n            default: false\n        },\n        scrollDirection: {\n            type: String,\n            default: \"vertical\"\n        },\n        scrollHeight: {\n            type: String,\n            default: null\n        },\n        frozenValue: {\n            type: Array,\n            default: null\n        },\n        responsiveLayout: {\n            type: String,\n            default: 'stack'\n        },\n        breakpoint: {\n            type: String,\n            default: '960px'\n        },\n        showGridlines: {\n            type: Boolean,\n            default: false\n        },\n        stripedRows: {\n            type: Boolean,\n            default: false\n        }\n    },\n    data() {\n        return {\n            d_first: this.first,\n            d_rows: this.rows,\n            d_sortField: this.sortField,\n            d_sortOrder: this.sortOrder,\n            d_multiSortMeta: this.multiSortMeta ? [...this.multiSortMeta] : [],\n            d_groupRowsSortMeta: null,\n            d_selectionKeys: null,\n            d_expandedRowKeys: null,\n            d_columnOrder: null,\n            d_editingRowKeys: null,\n            d_editingMeta: {},\n            d_filters: this.cloneFilters(this.filters)\n        };\n    },\n    rowTouched: false,\n    anchorRowIndex: null,\n    rangeRowIndex: null,\n    documentColumnResizeListener: null,\n    documentColumnResizeEndListener: null,\n    lastResizeHelperX: null,\n    resizeColumnElement: null,\n    columnResizing: false,\n    colReorderIconWidth: null,\n    colReorderIconHeight: null,\n    draggedColumn: null,\n    draggedRowIndex: null,\n    droppedRowIndex: null,\n    rowDragging: null,\n    columnWidthsState: null,\n    tableWidthState: null,\n    columnWidthsRestored: false,\n    watch: {\n        first(newValue) {\n            this.d_first = newValue;\n        },\n        rows(newValue) {\n            this.d_rows = newValue;\n        },\n        sortField(newValue) {\n            this.d_sortField = newValue;\n        },\n        sortOrder(newValue) {\n            this.d_sortOrder = newValue;\n        },\n        multiSortMeta(newValue) {\n            this.d_multiSortMeta = newValue;\n        },\n        selection: {\n            immediate: true,\n            handler(newValue) {\n                if (this.dataKey) {\n                    this.updateSelectionKeys(newValue);\n                }\n            }\n        },\n        expandedRows(newValue) {\n            if (this.dataKey) {\n                this.updateExpandedRowKeys(newValue);\n            }\n        },\n        editingRows(newValue) {\n            if (this.dataKey) {\n                this.updateEditingRowKeys(newValue);\n            }\n        },\n        filters: {\n            deep: true,\n            handler: function(newValue) {\n                this.d_filters = this.cloneFilters(newValue);\n            }\n        }\n    },\n    beforeMount() {\n        if (this.isStateful()) {\n            this.restoreState();\n        }\n    },\n    mounted() {\n        this.$el.setAttribute(this.attributeSelector, '');\n\n        if (this.responsiveLayout === 'stack' && !this.scrollable) {\n            this.createResponsiveStyle();\n        }\n\n        if (this.isStateful() && this.resizableColumns) {\n            this.restoreColumnWidths();\n        }\n\n        if (this.editMode === 'row' && this.dataKey && !this.d_editingRowKeys) {\n            this.updateEditingRowKeys(this.editingRows);\n        }\n    },\n    beforeUnmount() {\n        this.unbindColumnResizeEvents();\n        this.destroyStyleElement();\n        this.destroyResponsiveStyle();\n    },\n    updated() {\n        if (this.isStateful()) {\n            this.saveState();\n        }\n\n        if (this.editMode === 'row' && this.dataKey && !this.d_editingRowKeys) {\n            this.updateEditingRowKeys(this.editingRows);\n        }\n    },\n    methods: {\n        columnProp(col, prop) {\n            return ObjectUtils.getVNodeProp(col, prop);\n        },\n        onPage(event) {\n            this.clearEditingMetaData();\n\n            this.d_first = event.first;\n            this.d_rows = event.rows;\n\n            let pageEvent = this.createLazyLoadEvent(event);\n            pageEvent.pageCount = event.pageCount;\n            pageEvent.page = event.page;\n\n            this.$emit('update:first', this.d_first);\n            this.$emit('update:rows', this.d_rows);\n            this.$emit('page', pageEvent);\n            this.$emit('value-change', this.processedData);\n        },\n        onColumnHeaderClick(e) {\n            const event = e.originalEvent;\n            const column = e.column;\n\n            if (this.columnProp(column, 'sortable')) {\n                const targetNode = event.target;\n                const columnField = this.columnProp(column, 'sortField') || this.columnProp(column, 'field');\n\n                if (DomHandler.hasClass(targetNode, 'p-sortable-column') || DomHandler.hasClass(targetNode, 'p-column-title') || DomHandler.hasClass(targetNode, 'p-column-header-content')\n                    || DomHandler.hasClass(targetNode, 'p-sortable-column-icon') || DomHandler.hasClass(targetNode.parentElement, 'p-sortable-column-icon')) {\n                    DomHandler.clearSelection();\n\n                    if (this.sortMode === 'single') {\n                        if (this.d_sortField === columnField) {\n                            if (this.removableSort && (this.d_sortOrder * -1 === this.defaultSortOrder)) {\n                                this.d_sortOrder = null;\n                                this.d_sortField = null;\n                            }\n                            else {\n                                this.d_sortOrder = this.d_sortOrder * -1;\n                            }\n                        }\n                        else {\n                            this.d_sortOrder = this.defaultSortOrder;\n                            this.d_sortField = columnField;\n                        }\n\n                        this.$emit('update:sortField', this.d_sortField);\n                        this.$emit('update:sortOrder', this.d_sortOrder);\n                        this.resetPage();\n                    }\n                    else if (this.sortMode === 'multiple') {\n                        let metaKey = event.metaKey || event.ctrlKey;\n                        if (!metaKey) {\n                            this.d_multiSortMeta =  this.d_multiSortMeta.filter(meta => meta.field === columnField);\n                        }\n\n                        this.addMultiSortField(columnField);\n                        this.$emit('update:multiSortMeta', this.d_multiSortMeta);\n                    }\n\n                    this.$emit('sort', this.createLazyLoadEvent(event));\n                    this.$emit('value-change', this.processedData);\n                }\n            }\n        },\n        sortSingle(value) {\n            this.clearEditingMetaData();\n\n            if (this.groupRowsBy && this.groupRowsBy === this.sortField) {\n                this.d_multiSortMeta = [\n                    {field: this.sortField, order: this.sortOrder || this.defaultSortOrder},\n                    {field: this.d_sortField, order: this.d_sortOrder}\n                ];\n\n                return this.sortMultiple(value);\n            }\n\n            let data = [...value];\n\n            data.sort((data1, data2) => {\n                let value1 = ObjectUtils.resolveFieldData(data1, this.d_sortField);\n                let value2 = ObjectUtils.resolveFieldData(data2, this.d_sortField);\n\n                let result = null;\n\n                if (value1 == null && value2 != null)\n                    result = -1;\n                else if (value1 != null && value2 == null)\n                    result = 1;\n                else if (value1 == null && value2 == null)\n                    result = 0;\n                else if (typeof value1 === 'string' && typeof value2 === 'string')\n                    result = value1.localeCompare(value2, undefined, { numeric: true });\n                else\n                    result = (value1 < value2) ? -1 : (value1 > value2) ? 1 : 0;\n\n                return (this.d_sortOrder * result);\n            });\n\n            return data;\n        },\n        sortMultiple(value) {\n            this.clearEditingMetaData();\n\n            if (this.groupRowsBy && (this.d_groupRowsSortMeta || (this.d_multiSortMeta.length && this.groupRowsBy === this.d_multiSortMeta[0].field))) {\n                const firstSortMeta = this.d_multiSortMeta[0];\n                !this.d_groupRowsSortMeta && (this.d_groupRowsSortMeta = firstSortMeta);\n\n                if (firstSortMeta.field !== this.d_groupRowsSortMeta.field) {\n                    this.d_multiSortMeta = [this.d_groupRowsSortMeta, ...this.d_multiSortMeta];\n                }\n            }\n\n            let data = [...value];\n\n            data.sort((data1, data2) => {\n                return this.multisortField(data1, data2, 0);\n            });\n\n            return data;\n        },\n        multisortField(data1, data2, index) {\n            const value1 = ObjectUtils.resolveFieldData(data1, this.d_multiSortMeta[index].field);\n            const value2 = ObjectUtils.resolveFieldData(data2, this.d_multiSortMeta[index].field);\n            let result = null;\n\n            if (typeof value1 === 'string' || value1 instanceof String) {\n                if (value1.localeCompare && (value1 !== value2)) {\n                    return (this.d_multiSortMeta[index].order * value1.localeCompare(value2, undefined, { numeric: true }));\n                }\n            }\n            else {\n                result = (value1 < value2) ? -1 : 1;\n            }\n\n            if (value1 === value2)  {\n                return (this.d_multiSortMeta.length - 1) > (index) ? (this.multisortField(data1, data2, index + 1)) : 0;\n            }\n\n            return (this.d_multiSortMeta[index].order * result);\n        },\n        addMultiSortField(field) {\n            let index =  this.d_multiSortMeta.findIndex(meta => meta.field === field);\n\n            if (index >= 0) {\n                if (this.removableSort && (this.d_multiSortMeta[index].order * -1 === this.defaultSortOrder))\n                    this.d_multiSortMeta.splice(index, 1);\n                else\n                    this.d_multiSortMeta[index] = {field: field, order: this.d_multiSortMeta[index].order * -1};\n            }\n            else {\n                this.d_multiSortMeta.push({field: field, order: this.defaultSortOrder});\n            }\n\n            this.d_multiSortMeta = [...this.d_multiSortMeta];\n        },\n        filter(data) {\n            if (!data) {\n                return;\n            }\n\n            this.clearEditingMetaData();\n\n            let globalFilterFieldsArray;\n            if (this.filters['global']) {\n                globalFilterFieldsArray = this.globalFilterFields|| this.columns.map(col => this.columnProp(col, 'filterField') || this.columnProp(col, 'field'));\n            }\n\n            let filteredValue = [];\n\n            for (let i = 0; i < data.length; i++) {\n                let localMatch = true;\n                let globalMatch = false;\n                let localFiltered = false;\n\n                for (let prop in this.filters) {\n                    if (Object.prototype.hasOwnProperty.call(this.filters, prop) && prop !== 'global') {\n                        localFiltered = true;\n                        let filterField = prop;\n                        let filterMeta = this.filters[filterField];\n\n                        if (filterMeta.operator) {\n                            for (let filterConstraint of filterMeta.constraints) {\n                                localMatch = this.executeLocalFilter(filterField, data[i], filterConstraint);\n\n                                if ((filterMeta.operator === FilterOperator.OR && localMatch) || (filterMeta.operator === FilterOperator.AND && !localMatch)) {\n                                    break;\n                                }\n                            }\n                        }\n                        else {\n                            localMatch = this.executeLocalFilter(filterField, data[i], filterMeta);\n                        }\n\n                        if (!localMatch) {\n                            break;\n                        }\n                    }\n                }\n\n                if (this.filters['global'] && !globalMatch && globalFilterFieldsArray) {\n                    for(let j = 0; j < globalFilterFieldsArray.length; j++) {\n                        let globalFilterField = globalFilterFieldsArray[j];\n                        globalMatch = FilterService.filters[this.filters['global'].matchMode || FilterMatchMode.CONTAINS](ObjectUtils.resolveFieldData(data[i], globalFilterField), this.filters['global'].value, this.filterLocale);\n\n                        if (globalMatch) {\n                            break;\n                        }\n                    }\n                }\n\n                let matches;\n                if (this.filters['global']) {\n                    matches = localFiltered ? (localFiltered && localMatch && globalMatch) : globalMatch;\n                }\n                else {\n                    matches = localFiltered && localMatch;\n                }\n\n                if (matches) {\n                    filteredValue.push(data[i]);\n                }\n            }\n\n            if (filteredValue.length === this.value.length) {\n                filteredValue = data;\n            }\n\n            let filterEvent = this.createLazyLoadEvent();\n            filterEvent.filteredValue = filteredValue;\n            this.$emit('filter', filterEvent);\n            this.$emit('value-change', filteredValue);\n\n            return filteredValue;\n        },\n        executeLocalFilter(field, rowData, filterMeta) {\n            let filterValue = filterMeta.value;\n            let filterMatchMode = filterMeta.matchMode || FilterMatchMode.STARTS_WITH;\n            let dataFieldValue = ObjectUtils.resolveFieldData(rowData, field);\n            let filterConstraint = FilterService.filters[filterMatchMode];\n\n            return filterConstraint(dataFieldValue, filterValue, this.filterLocale);\n        },\n        onRowClick(e) {\n            const event = e.originalEvent;\n            if (DomHandler.isClickable(event.target)) {\n                return;\n            }\n\n            this.$emit('row-click', e);\n\n            if (this.selectionMode) {\n                const rowData = e.data;\n                const rowIndex = e.index;\n\n                if (this.isMultipleSelectionMode() && event.shiftKey && this.anchorRowIndex != null) {\n                    DomHandler.clearSelection();\n                    this.rangeRowIndex = rowIndex;\n                    this.selectRange(event);\n                }\n                else {\n                    const selected = this.isSelected(rowData);\n                    const metaSelection = this.rowTouched ? false : this.metaKeySelection;\n                    this.anchorRowIndex = rowIndex;\n                    this.rangeRowIndex = rowIndex;\n\n                    if (metaSelection) {\n                        let metaKey = event.metaKey || event.ctrlKey;\n\n                        if (selected && metaKey) {\n                            if(this.isSingleSelectionMode()) {\n                                this.$emit('update:selection', null);\n                            }\n                            else {\n                                const selectionIndex = this.findIndexInSelection(rowData);\n                                const _selection = this.selection.filter((val,i) => i != selectionIndex);\n                                this.$emit('update:selection', _selection);\n                            }\n\n                            this.$emit('row-unselect', {originalEvent: event, data: rowData, index: event.index, type: 'row'});\n                        }\n                        else {\n                            if(this.isSingleSelectionMode()) {\n                                this.$emit('update:selection', rowData);\n                            }\n                            else if (this.isMultipleSelectionMode()) {\n                                let _selection = metaKey ? (this.selection || []) : [];\n                                _selection = [..._selection, rowData];\n                                this.$emit('update:selection', _selection);\n                            }\n\n                            this.$emit('row-select', {originalEvent: event, data: rowData, index: event.index, type: 'row'});\n                        }\n                    }\n                    else {\n                        if (this.selectionMode === 'single') {\n                            if (selected) {\n                                this.$emit('update:selection', null);\n                                this.$emit('row-unselect', {originalEvent: event, data: rowData, index: event.index, type: 'row'});\n                            }\n                            else {\n                                this.$emit('update:selection', rowData);\n                                this.$emit('row-select', {originalEvent: event, data: rowData, index: event.index, type: 'row'});\n                            }\n                        }\n                        else if (this.selectionMode === 'multiple') {\n                            if (selected) {\n                                const selectionIndex = this.findIndexInSelection(rowData);\n                                const _selection = this.selection.filter((val, i) => i != selectionIndex);\n                                this.$emit('update:selection', _selection);\n                                this.$emit('row-unselect', {originalEvent: event, data: rowData, index: event.index, type: 'row'});\n                            }\n                            else {\n                                const _selection = this.selection ? [...this.selection, rowData] : [rowData];\n                                this.$emit('update:selection', _selection);\n                                this.$emit('row-select', {originalEvent: event, data: rowData, index: event.index, type: 'row'});\n                            }\n                        }\n                    }\n                }\n            }\n\n            this.rowTouched = false;\n        },\n        onRowDblClick(e) {\n            const event = e.originalEvent;\n            if (DomHandler.isClickable(event.target)) {\n                return;\n            }\n\n            this.$emit('row-dblclick', e);\n        },\n        onRowRightClick(event) {\n            DomHandler.clearSelection();\n            event.originalEvent.target.focus();\n\n            this.$emit('update:contextMenuSelection', event.data);\n            this.$emit('row-contextmenu', event);\n        },\n        onRowTouchEnd() {\n            this.rowTouched = true;\n        },\n        onRowKeyDown(e) {\n            const event = e.originalEvent;\n            const rowData = e.data;\n            const rowIndex = e.index;\n\n            if (this.selectionMode) {\n                const row = event.target;\n\n                switch (event.which) {\n                    //down arrow\n                    case 40:\n                        var nextRow = this.findNextSelectableRow(row);\n                        if (nextRow) {\n                            nextRow.focus();\n                        }\n\n                        event.preventDefault();\n                    break;\n\n                    //up arrow\n                    case 38:\n                        var prevRow = this.findPrevSelectableRow(row);\n                        if (prevRow) {\n                            prevRow.focus();\n                        }\n\n                        event.preventDefault();\n                    break;\n\n                    //enter\n                    case 13:\n                        this.onRowClick({originalEvent: event, data: rowData, index: rowIndex});\n                    break;\n\n                    default:\n                        //no op\n                    break;\n                }\n            }\n        },\n        findNextSelectableRow(row) {\n            let nextRow = row.nextElementSibling;\n            if (nextRow) {\n                if (DomHandler.hasClass(nextRow, 'p-selectable-row'))\n                    return nextRow;\n                else\n                    return this.findNextSelectableRow(nextRow);\n            }\n            else {\n                return null;\n            }\n        },\n        findPrevSelectableRow(row) {\n            let prevRow = row.previousElementSibling;\n            if (prevRow) {\n                if (DomHandler.hasClass(prevRow, 'p-selectable-row'))\n                    return prevRow;\n                else\n                    return this.findPrevSelectableRow(prevRow);\n            }\n            else {\n                return null;\n            }\n        },\n        toggleRowWithRadio(event) {\n            const rowData = event.data;\n\n            if (this.isSelected(rowData)) {\n                this.$emit('update:selection', null);\n                this.$emit('row-unselect', {originalEvent: event, data: rowData, type: 'radiobutton'});\n            }\n            else {\n                this.$emit('update:selection', rowData);\n                this.$emit('row-select', {originalEvent: event, data: rowData, type: 'radiobutton'});\n            }\n        },\n        toggleRowWithCheckbox(event) {\n            const rowData = event.data;\n\n            if (this.isSelected(rowData)) {\n                const selectionIndex = this.findIndexInSelection(rowData);\n                const _selection = this.selection.filter((val, i) => i != selectionIndex);\n                this.$emit('update:selection', _selection);\n                this.$emit('row-unselect', {originalEvent: event, data: rowData, type: 'checkbox'});\n            }\n            else {\n                let _selection = this.selection ? [...this.selection] : [];\n                _selection = [..._selection, rowData];\n                this.$emit('update:selection', _selection);\n                this.$emit('row-select', {originalEvent: event, data: rowData, type: 'checkbox'});\n            }\n        },\n        toggleRowsWithCheckbox(event) {\n            const processedData = this.processedData;\n            const checked = this.allRowsSelected;\n            const _selection = checked ? [] : (this.frozenValue ? [...this.frozenValue, ...processedData]: processedData);\n            this.$emit('update:selection', _selection);\n\n            if (checked)\n                this.$emit('row-unselect-all', {originalEvent: event});\n            else\n                this.$emit('row-select-all', {originalEvent: event, data: _selection});\n        },\n        isSingleSelectionMode() {\n            return this.selectionMode === 'single';\n        },\n        isMultipleSelectionMode() {\n            return this.selectionMode === 'multiple';\n        },\n        isSelected(rowData) {\n            if (rowData && this.selection) {\n                if (this.dataKey) {\n                    return this.d_selectionKeys ? this.d_selectionKeys[ObjectUtils.resolveFieldData(rowData, this.dataKey)] !== undefined : false;\n                }\n                else {\n                    if (this.selection instanceof Array)\n                        return this.findIndexInSelection(rowData) > -1;\n                    else\n                        return this.equals(rowData, this.selection);\n                }\n            }\n\n            return false;\n        },\n        findIndexInSelection(rowData) {\n            return this.findIndex(rowData, this.selection);\n        },\n        findIndex(rowData, collection) {\n            let index = -1;\n            if (collection && collection.length) {\n                for (let i = 0; i < collection.length; i++) {\n                    if (this.equals(rowData, collection[i])) {\n                        index = i;\n                        break;\n                    }\n                }\n            }\n\n            return index;\n        },\n        updateSelectionKeys(selection) {\n            this.d_selectionKeys = {};\n            if (Array.isArray(selection)) {\n                for (let data of selection) {\n                    this.d_selectionKeys[String(ObjectUtils.resolveFieldData(data, this.dataKey))] = 1;\n                }\n            }\n            else {\n                this.d_selectionKeys[String(ObjectUtils.resolveFieldData(selection, this.dataKey))] = 1;\n            }\n        },\n        updateExpandedRowKeys(expandedRows) {\n            if (expandedRows && expandedRows.length) {\n                this.d_expandedRowKeys = {};\n                for (let data of expandedRows) {\n                    this.d_expandedRowKeys[String(ObjectUtils.resolveFieldData(data, this.dataKey))] = 1;\n                }\n            }\n            else {\n                this.d_expandedRowKeys = null;\n            }\n        },\n        updateEditingRowKeys(editingRows) {\n            if (editingRows && editingRows.length) {\n                this.d_editingRowKeys = {};\n                for (let data of editingRows) {\n                    this.d_editingRowKeys[String(ObjectUtils.resolveFieldData(data, this.dataKey))] = 1;\n                }\n            }\n            else {\n                this.d_editingRowKeys = null;\n            }\n        },\n        equals(data1, data2) {\n            return this.compareSelectionBy === 'equals' ? (data1 === data2) : ObjectUtils.equals(data1, data2, this.dataKey);\n        },\n        selectRange(event) {\n            let rangeStart, rangeEnd;\n\n            if (this.rangeRowIndex > this.anchorRowIndex) {\n                rangeStart = this.anchorRowIndex;\n                rangeEnd = this.rangeRowIndex;\n            }\n            else if(this.rangeRowIndex < this.anchorRowIndex) {\n                rangeStart = this.rangeRowIndex;\n                rangeEnd = this.anchorRowIndex;\n            }\n            else {\n                rangeStart = this.rangeRowIndex;\n                rangeEnd = this.rangeRowIndex;\n            }\n\n            if (this.lazy && this.paginator) {\n                rangeStart -= this.first;\n                rangeEnd -= this.first;\n            }\n\n            const value = this.processedData;\n            let _selection = [];\n            for(let i = rangeStart; i <= rangeEnd; i++) {\n                let rangeRowData = value[i];\n                _selection.push(rangeRowData);\n                this.$emit('row-select', {originalEvent: event, data: rangeRowData, type: 'row'});\n            }\n\n            this.$emit('update:selection', _selection);\n        },\n        exportCSV(options) {\n            let data = this.processedData;\n            let csv = '\\ufeff';\n\n            if (options && options.selectionOnly)\n                data = this.selection || [];\n            else if (this.frozenValue)\n                data = data ? [...this.frozenValue, ...data] : this.frozenValue;\n\n            //headers\n            let headerInitiated = false;\n            for (let i = 0; i < this.columns.length; i++) {\n                let column = this.columns[i];\n\n                if (this.columnProp(column, 'exportable') !== false && this.columnProp(column, 'field')) {\n                    if (headerInitiated)\n                        csv += this.csvSeparator;\n                    else\n                        headerInitiated = true;\n\n                    csv += '\"' + (this.columnProp(column, 'header') || this.columnProp(column, 'field')) + '\"';\n                }\n            }\n\n            //body\n            if (data) {\n                data.forEach(record => {\n                    csv += '\\n';\n                    let rowInitiated = false;\n                    for (let i = 0; i < this.columns.length; i++) {\n                        let column = this.columns[i];\n                        if (this.columnProp(column, 'exportable') !== false && this.columnProp(column, 'field')) {\n                            if (rowInitiated)\n                                csv += this.csvSeparator;\n                            else\n                                rowInitiated = true;\n\n                            let cellData = ObjectUtils.resolveFieldData(record, this.columnProp(column, 'field'));\n\n                            if (cellData != null) {\n                                if (this.exportFunction) {\n                                    cellData = this.exportFunction({\n                                        data: cellData,\n                                        field: this.columnProp(column, 'field')\n                                    });\n                                }\n                                else\n                                    cellData = String(cellData).replace(/\"/g, '\"\"');\n                            }\n                            else\n                                cellData = '';\n\n                            csv += '\"' + cellData + '\"';\n                        }\n                    }\n                });\n            }\n\n            let blob = new Blob([csv], {\n                type: 'text/csv;charset=utf-8;'\n            });\n\n            if (window.navigator.msSaveOrOpenBlob) {\n                navigator.msSaveOrOpenBlob(blob, this.exportFilename + '.csv');\n            }\n            else {\n                let link = document.createElement(\"a\");\n                link.style.display = 'none';\n                document.body.appendChild(link);\n                if (link.download !== undefined) {\n                    link.setAttribute('href', URL.createObjectURL(blob));\n                    link.setAttribute('download', this.exportFilename + '.csv');\n                    link.click();\n                }\n                else {\n                    csv = 'data:text/csv;charset=utf-8,' + csv;\n                    window.open(encodeURI(csv));\n                }\n                document.body.removeChild(link);\n            }\n        },\n        resetPage() {\n            this.d_first = 0;\n            this.$emit('update:first', this.d_first);\n        },\n        onColumnResizeStart(event) {\n            let containerLeft = DomHandler.getOffset(this.$el).left;\n            this.resizeColumnElement = event.target.parentElement;\n            this.columnResizing = true;\n            this.lastResizeHelperX = (event.pageX - containerLeft + this.$el.scrollLeft);\n\n            this.bindColumnResizeEvents();\n        },\n        onColumnResize(event) {\n            let containerLeft = DomHandler.getOffset(this.$el).left;\n            DomHandler.addClass(this.$el, 'p-unselectable-text');\n            this.$refs.resizeHelper.style.height = this.$el.offsetHeight + 'px';\n            this.$refs.resizeHelper.style.top = 0 + 'px';\n            this.$refs.resizeHelper.style.left = (event.pageX - containerLeft + this.$el.scrollLeft) + 'px';\n\n            this.$refs.resizeHelper.style.display = 'block';\n        },\n        onColumnResizeEnd() {\n            let delta = this.$refs.resizeHelper.offsetLeft - this.lastResizeHelperX;\n            let columnWidth = this.resizeColumnElement.offsetWidth;\n            let newColumnWidth = columnWidth + delta;\n            let minWidth = this.resizeColumnElement.style.minWidth||15;\n\n            if (columnWidth + delta > parseInt(minWidth, 10)) {\n                if (this.columnResizeMode === 'fit') {\n                    let nextColumn = this.resizeColumnElement.nextElementSibling;\n                    let nextColumnWidth = nextColumn.offsetWidth - delta;\n\n                    if (newColumnWidth > 15 && nextColumnWidth > 15) {\n                        if (!this.scrollable) {\n                            this.resizeColumnElement.style.width = newColumnWidth + 'px';\n                            if(nextColumn) {\n                                nextColumn.style.width = nextColumnWidth + 'px';\n                            }\n                        }\n                        else {\n                            this.resizeTableCells(newColumnWidth, nextColumnWidth);\n                        }\n                    }\n                }\n                else if (this.columnResizeMode === 'expand') {\n                    const tableWidth = this.$refs.table.offsetWidth + delta + 'px';\n                    this.$refs.table.style.width = tableWidth;\n                    this.$refs.table.style.minWidth = tableWidth;\n\n                    if (!this.scrollable)\n                        this.resizeColumnElement.style.width = newColumnWidth + 'px';\n                    else\n                        this.resizeTableCells(newColumnWidth);\n                }\n\n                this.$emit('column-resize-end', {\n                    element: this.resizeColumnElement,\n                    delta: delta\n                });\n            }\n\n            this.$refs.resizeHelper.style.display = 'none';\n            this.resizeColumn = null;\n            DomHandler.removeClass(this.$el, 'p-unselectable-text');\n\n            this.unbindColumnResizeEvents();\n\n            if (this.isStateful()) {\n                this.saveState();\n            }\n        },\n        resizeTableCells(newColumnWidth, nextColumnWidth) {\n            let colIndex = DomHandler.index(this.resizeColumnElement);\n            let widths = [];\n            let headers = DomHandler.find(this.$refs.table, '.p-datatable-thead > tr > th');\n            headers.forEach(header => widths.push(DomHandler.getOuterWidth(header)));\n\n            this.destroyStyleElement();\n            this.createStyleElement();\n\n            let innerHTML = '';\n            widths.forEach((width,index) => {\n                let colWidth = index === colIndex ? newColumnWidth : (nextColumnWidth && index === colIndex + 1) ? nextColumnWidth : width;\n                innerHTML += `\n                    .p-datatable[${this.attributeSelector}] .p-datatable-thead > tr > th:nth-child(${index+1}) {\n                        flex: 0 0 ${colWidth}px !important;\n                    }\n\n                    .p-datatable[${this.attributeSelector}] .p-datatable-tbody > tr > td:nth-child(${index+1}) {\n                        flex: 0 0 ${colWidth}px !important;\n                    }\n                `\n            });\n            this.styleElement.innerHTML = innerHTML;\n        },\n        bindColumnResizeEvents() {\n            if (!this.documentColumnResizeListener) {\n                this.documentColumnResizeListener = document.addEventListener('mousemove', () => {\n                    if(this.columnResizing) {\n                        this.onColumnResize(event);\n                    }\n                });\n            }\n\n            if (!this.documentColumnResizeEndListener) {\n                this.documentColumnResizeEndListener = document.addEventListener('mouseup', () => {\n                    if(this.columnResizing) {\n                        this.columnResizing = false;\n                        this.onColumnResizeEnd();\n                    }\n                });\n            }\n\n        },\n        unbindColumnResizeEvents() {\n            if (this.documentColumnResizeListener) {\n                document.removeEventListener('document', this.documentColumnResizeListener);\n                this.documentColumnResizeListener = null;\n            }\n\n            if (this.documentColumnResizeEndListener) {\n                document.removeEventListener('document', this.documentColumnResizeEndListener);\n                 this.documentColumnResizeEndListener = null;\n            }\n        },\n        onColumnHeaderMouseDown(e) {\n            const event = e.originalEvent;\n            const column = e.column;\n\n            if (this.reorderableColumns && this.columnProp(column, 'reorderableColumn') !== false) {\n                if (event.target.nodeName === 'INPUT' || event.target.nodeName === 'TEXTAREA' || DomHandler.hasClass(event.target, 'p-column-resizer'))\n                    event.currentTarget.draggable = false;\n                else\n                    event.currentTarget.draggable = true;\n            }\n        },\n        onColumnHeaderDragStart(event) {\n            if (this.columnResizing) {\n                event.preventDefault();\n                return;\n            }\n\n            this.colReorderIconWidth = DomHandler.getHiddenElementOuterWidth(this.$refs.reorderIndicatorUp);\n            this.colReorderIconHeight = DomHandler.getHiddenElementOuterHeight(this.$refs.reorderIndicatorUp);\n\n            this.draggedColumn = this.findParentHeader(event.target);\n            event.dataTransfer.setData('text', 'b'); // Firefox requires this to make dragging possible\n        },\n        onColumnHeaderDragOver(event) {\n            let dropHeader = this.findParentHeader(event.target);\n            if(this.reorderableColumns && this.draggedColumn && dropHeader) {\n                event.preventDefault();\n                let containerOffset = DomHandler.getOffset(this.$el);\n                let dropHeaderOffset = DomHandler.getOffset(dropHeader);\n\n                if (this.draggedColumn !== dropHeader) {\n                    let targetLeft =  dropHeaderOffset.left - containerOffset.left;\n                    let columnCenter = dropHeaderOffset.left + dropHeader.offsetWidth / 2;\n\n                    this.$refs.reorderIndicatorUp.style.top = dropHeaderOffset.top - containerOffset.top - (this.colReorderIconHeight - 1) + 'px';\n                    this.$refs.reorderIndicatorDown.style.top = dropHeaderOffset.top - containerOffset.top + dropHeader.offsetHeight + 'px';\n\n                    if(event.pageX > columnCenter) {\n                        this.$refs.reorderIndicatorUp.style.left = (targetLeft + dropHeader.offsetWidth - Math.ceil(this.colReorderIconWidth / 2)) + 'px';\n                        this.$refs.reorderIndicatorDown.style.left = (targetLeft + dropHeader.offsetWidth - Math.ceil(this.colReorderIconWidth / 2))+ 'px';\n                        this.dropPosition = 1;\n                    }\n                    else {\n                        this.$refs.reorderIndicatorUp.style.left = (targetLeft - Math.ceil(this.colReorderIconWidth / 2)) + 'px';\n                        this.$refs.reorderIndicatorDown.style.left = (targetLeft - Math.ceil(this.colReorderIconWidth / 2))+ 'px';\n                        this.dropPosition = -1;\n                    }\n\n                    this.$refs.reorderIndicatorUp.style.display = 'block';\n                    this.$refs.reorderIndicatorDown.style.display = 'block';\n                }\n            }\n        },\n        onColumnHeaderDragLeave(event) {\n            if(this.reorderableColumns && this.draggedColumn) {\n                event.preventDefault();\n                this.$refs.reorderIndicatorUp.style.display = 'none';\n                this.$refs.reorderIndicatorDown.style.display = 'none';\n            }\n        },\n        onColumnHeaderDrop(event) {\n            event.preventDefault();\n            if (this.draggedColumn) {\n                let dragIndex = DomHandler.index(this.draggedColumn);\n                let dropIndex = DomHandler.index(this.findParentHeader(event.target));\n                let allowDrop = (dragIndex !== dropIndex);\n                if (allowDrop && ((dropIndex - dragIndex === 1 && this.dropPosition === -1) || (dragIndex - dropIndex === 1 && this.dropPosition === 1))) {\n                    allowDrop = false;\n                }\n\n                if (allowDrop) {\n                    ObjectUtils.reorderArray(this.columns, dragIndex, dropIndex);\n                    this.updateReorderableColumns();\n\n                    this.$emit('column-reorder', {\n                        originalEvent: event,\n                        dragIndex: dragIndex,\n                        dropIndex: dropIndex\n                    });\n                }\n\n                this.$refs.reorderIndicatorUp.style.display = 'none';\n                this.$refs.reorderIndicatorDown.style.display = 'none';\n                this.draggedColumn.draggable = false;\n                this.draggedColumn = null;\n                this.dropPosition = null;\n            }\n        },\n        findParentHeader(element) {\n            if(element.nodeName === 'TH') {\n                return element;\n            }\n            else {\n                let parent = element.parentElement;\n                while(parent.nodeName !== 'TH') {\n                    parent = parent.parentElement;\n                    if (!parent) break;\n                }\n                return parent;\n            }\n        },\n        findColumnByKey(columns, key) {\n            if (columns && columns.length) {\n                for (let i = 0; i < columns.length; i++) {\n                    let column = columns[i];\n                    if (this.columnProp(column, 'columnKey') === key || this.columnProp(column, 'field') === key) {\n                        return column;\n                    }\n                }\n            }\n\n            return null;\n        },\n        onRowMouseDown(event) {\n            if (DomHandler.hasClass(event.target, 'p-datatable-reorderablerow-handle'))\n                event.currentTarget.draggable = true;\n            else\n                event.currentTarget.draggable = false;\n        },\n        onRowDragStart(e) {\n            const event = e.originalEvent;\n            const index = e.index;\n            this.rowDragging = true;\n            this.draggedRowIndex = index;\n            event.dataTransfer.setData('text', 'b');    // For firefox\n        },\n        onRowDragOver(e) {\n            const event = e.originalEvent;\n            const index = e.index;\n\n            if (this.rowDragging && this.draggedRowIndex !== index) {\n                let rowElement = event.currentTarget;\n                let rowY = DomHandler.getOffset(rowElement).top + DomHandler.getWindowScrollTop();\n                let pageY = event.pageY;\n                let rowMidY = rowY + DomHandler.getOuterHeight(rowElement) / 2;\n                let prevRowElement = rowElement.previousElementSibling;\n\n                if (pageY < rowMidY) {\n                    DomHandler.removeClass(rowElement, 'p-datatable-dragpoint-bottom');\n\n                    this.droppedRowIndex = index;\n                    if (prevRowElement)\n                        DomHandler.addClass(prevRowElement, 'p-datatable-dragpoint-bottom');\n                    else\n                        DomHandler.addClass(rowElement, 'p-datatable-dragpoint-top');\n                }\n                else {\n                    if (prevRowElement)\n                        DomHandler.removeClass(prevRowElement, 'p-datatable-dragpoint-bottom');\n                    else\n                        DomHandler.addClass(rowElement, 'p-datatable-dragpoint-top');\n\n                    this.droppedRowIndex = index + 1;\n                    DomHandler.addClass(rowElement, 'p-datatable-dragpoint-bottom');\n                }\n\n                event.preventDefault();\n            }\n        },\n        onRowDragLeave(event) {\n            let rowElement = event.currentTarget;\n            let prevRowElement = rowElement.previousElementSibling;\n            if (prevRowElement) {\n                DomHandler.removeClass(prevRowElement, 'p-datatable-dragpoint-bottom');\n            }\n\n            DomHandler.removeClass(rowElement, 'p-datatable-dragpoint-bottom');\n            DomHandler.removeClass(rowElement, 'p-datatable-dragpoint-top');\n        },\n        onRowDragEnd(event) {\n            this.rowDragging = false;\n            this.draggedRowIndex = null;\n            this.droppedRowIndex = null;\n            event.currentTarget.draggable = false;\n        },\n        onRowDrop(event) {\n            if (this.droppedRowIndex != null) {\n                let dropIndex = (this.draggedRowIndex > this.droppedRowIndex) ? this.droppedRowIndex : (this.droppedRowIndex === 0) ? 0 : this.droppedRowIndex - 1;\n                let processedData = [...this.processedData];\n                ObjectUtils.reorderArray(processedData, this.draggedRowIndex, dropIndex);\n\n                this.$emit('row-reorder', {\n                    originalEvent: event,\n                    dragIndex: this.draggedRowIndex,\n                    dropIndex: dropIndex,\n                    value: processedData\n                });\n            }\n\n            //cleanup\n            this.onRowDragLeave(event);\n            this.onRowDragEnd(event);\n            event.preventDefault();\n        },\n        toggleRow(event) {\n            let rowData = event.data;\n            let expanded;\n            let expandedRowIndex;\n            let _expandedRows = this.expandedRows ? [...this.expandedRows] : [];\n\n            if (this.dataKey) {\n                expanded = this.d_expandedRowKeys ? this.d_expandedRowKeys[ObjectUtils.resolveFieldData(rowData, this.dataKey)] !== undefined : false;\n            }\n            else {\n                expandedRowIndex = this.findIndex(rowData, this.expandedRows);\n                expanded = expandedRowIndex > -1;\n            }\n\n            if (expanded) {\n                if (expandedRowIndex == null) {\n                    expandedRowIndex = this.findIndex(rowData, this.expandedRows);\n                }\n                _expandedRows.splice(expandedRowIndex, 1);\n                this.$emit('update:expandedRows', _expandedRows);\n                this.$emit('row-collapse', event);\n            }\n            else {\n                _expandedRows.push(rowData);\n                this.$emit('update:expandedRows', _expandedRows);\n                this.$emit('row-expand', event);\n            }\n        },\n        toggleRowGroup(e) {\n            const event = e.originalEvent;\n            const data = e.data;\n            const groupFieldValue = ObjectUtils.resolveFieldData(data, this.groupRowsBy);\n            let _expandedRowGroups = this.expandedRowGroups ? [...this.expandedRowGroups] : [];\n\n            if (this.isRowGroupExpanded(data)) {\n                _expandedRowGroups = _expandedRowGroups.filter(group => group !== groupFieldValue);\n                this.$emit('update:expandedRowGroups', _expandedRowGroups);\n                this.$emit('rowgroup-collapse', {originalEvent: event, data: groupFieldValue});\n            }\n            else {\n                _expandedRowGroups.push(groupFieldValue);\n                this.$emit('update:expandedRowGroups', _expandedRowGroups);\n                this.$emit('rowgroup-expand', {originalEvent: event, data: groupFieldValue});\n            }\n        },\n        isRowGroupExpanded(rowData) {\n            if (this.expandableRowGroups && this.expandedRowGroups) {\n                let groupFieldValue = ObjectUtils.resolveFieldData(rowData, this.groupRowsBy);\n                return this.expandedRowGroups.indexOf(groupFieldValue) > -1;\n            }\n            return false;\n        },\n        isStateful() {\n            return this.stateKey != null;\n        },\n        getStorage() {\n            switch(this.stateStorage) {\n                case 'local':\n                    return window.localStorage;\n\n                case 'session':\n                    return window.sessionStorage;\n\n                default:\n                    throw new Error(this.stateStorage + ' is not a valid value for the state storage, supported values are \"local\" and \"session\".');\n            }\n        },\n        saveState() {\n            const storage = this.getStorage();\n            let state = {};\n\n            if (this.paginator) {\n                state.first = this.d_first;\n                state.rows = this.d_rows;\n            }\n\n            if (this.d_sortField) {\n                state.sortField = this.d_sortField;\n                state.sortOrder = this.d_sortOrder;\n            }\n\n            if (this.d_multiSortMeta) {\n                state.multiSortMeta = this.d_multiSortMeta;\n            }\n\n            if (this.hasFilters) {\n                state.filters = this.filters;\n            }\n\n            if (this.resizableColumns) {\n                this.saveColumnWidths(state);\n            }\n\n            if (this.reorderableColumns) {\n                state.columnOrder = this.d_columnOrder;\n            }\n\n            if (this.expandedRows) {\n                state.expandedRows = this.expandedRows;\n                state.expandedRowKeys = this.d_expandedRowKeys;\n            }\n\n            if (this.expandedRowGroups) {\n                state.expandedRowGroups = this.expandedRowGroups;\n            }\n\n            if (this.selection) {\n                state.selection = this.selection;\n                state.selectionKeys = this.d_selectionKeys;\n            }\n\n            if (Object.keys(state).length) {\n                storage.setItem(this.stateKey, JSON.stringify(state));\n            }\n\n            this.$emit('state-save', state);\n        },\n        restoreState() {\n            const storage = this.getStorage();\n            const stateString = storage.getItem(this.stateKey);\n            const dateFormat = /\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z/;\n            const reviver = function(key, value) {\n                if (typeof value === \"string\" && dateFormat.test(value)) {\n                    return new Date(value);\n                }\n\n                return value;\n            }\n\n            if (stateString) {\n                let restoredState = JSON.parse(stateString, reviver);\n\n                if (this.paginator) {\n                    this.d_first = restoredState.first;\n                    this.d_rows = restoredState.rows;\n                }\n\n                if (restoredState.sortField) {\n                    this.d_sortField = restoredState.sortField;\n                    this.d_sortOrder = restoredState.sortOrder;\n                }\n\n                if (restoredState.multiSortMeta) {\n                    this.d_multiSortMeta = restoredState.multiSortMeta;\n                }\n\n                if (restoredState.filters) {\n                    this.$emit('update:filters', restoredState.filters);\n                }\n\n                if (this.resizableColumns) {\n                    this.columnWidthsState = restoredState.columnWidths;\n                    this.tableWidthState = restoredState.tableWidth;\n                }\n\n                if (this.reorderableColumns) {\n                    this.d_columnOrder = restoredState.columnOrder;\n                }\n\n                if (restoredState.expandedRows) {\n                    this.d_expandedRowKeys = restoredState.expandedRowKeys;\n                    this.$emit('update:expandedRows', restoredState.expandedRows);\n                }\n\n                if (restoredState.expandedRowGroups) {\n                    this.$emit('update:expandedRowGroups', restoredState.expandedRowGroups);\n                }\n\n                if (restoredState.selection) {\n                    this.d_selectionKeys = restoredState.d_selectionKeys;\n                    this.$emit('update:selection', restoredState.selection);\n                }\n\n                this.$emit('state-restore', restoredState);\n            }\n        },\n        saveColumnWidths(state) {\n            let widths = [];\n            let headers = DomHandler.find(this.$el, '.p-datatable-thead > tr > th');\n            headers.forEach(header => widths.push(DomHandler.getOuterWidth(header)));\n            state.columnWidths = widths.join(',');\n\n            if (this.columnResizeMode === 'expand') {\n                state.tableWidth = DomHandler.getOuterWidth(this.$refs.table) + 'px';\n            }\n        },\n        restoreColumnWidths() {\n            if (this.columnWidthsState) {\n                let widths = this.columnWidthsState.split(',');\n\n                if (this.columnResizeMode === 'expand' && this.tableWidthState) {\n                    this.$refs.table.style.width = this.tableWidthState;\n                    this.$refs.table.style.minWidth = this.tableWidthState;\n                    this.$el.style.width = this.tableWidthState;\n                }\n\n                this.createStyleElement();\n\n                if (this.scrollable && widths && widths.length > 0) {\n                    let innerHTML = '';\n                    widths.forEach((width,index) => {\n                        innerHTML += `\n                            .p-datatable[${this.attributeSelector}] .p-datatable-thead > tr > th:nth-child(${index+1}) {\n                                flex: 0 0 ${width}px;\n                            }\n\n                            .p-datatable[${this.attributeSelector}] .p-datatable-tbody > tr > td:nth-child(${index+1}) {\n                                flex: 0 0 ${width}px;\n                            }\n                        `\n                    });\n\n                    this.styleElement.innerHTML = innerHTML;\n                }\n                else {\n                    DomHandler.find(this.$refs.table, '.p-datatable-thead > tr > th').forEach((header, index) => header.style.width = widths[index] + 'px');\n                }\n            }\n        },\n        onCellEditInit(event) {\n            this.$emit('cell-edit-init', event);\n        },\n        onCellEditComplete(event) {\n            this.$emit('cell-edit-complete', event);\n        },\n        onCellEditCancel(event) {\n            this.$emit('cell-edit-cancel', event);\n        },\n        onRowEditInit(event) {\n            let _editingRows = this.editingRows ? [...this.editingRows] : [];\n            _editingRows.push(event.data);\n            this.$emit('update:editingRows', _editingRows);\n            this.$emit('row-edit-init', event);\n        },\n        onRowEditSave(event) {\n            let _editingRows = [...this.editingRows];\n            _editingRows.splice(this.findIndex(event.data, _editingRows), 1);\n            this.$emit('update:editingRows', _editingRows);\n            this.$emit('row-edit-save', event);\n        },\n        onRowEditCancel(event) {\n            let _editingRows = [...this.editingRows];\n            _editingRows.splice(this.findIndex(event.data, _editingRows), 1);\n            this.$emit('update:editingRows', _editingRows);\n            this.$emit('row-edit-cancel', event);\n        },\n        onEditingMetaChange(event) {\n            let { data, field, index, editing } = event;\n            let meta = this.d_editingMeta[index];\n\n            if (editing) {\n                !meta && (meta = this.d_editingMeta[index] = { data: { ...data }, fields: [] });\n                meta['fields'].push(field);\n            }\n            else if (meta) {\n                const fields = meta['fields'].filter(f => f !== field);\n                !fields.length ? (delete this.d_editingMeta[index]) : (meta['fields'] = fields);\n            }\n        },\n        clearEditingMetaData() {\n            if (this.editMode) {\n                this.d_editingMeta = {};\n            }\n        },\n        createLazyLoadEvent(event) {\n            return {\n                originalEvent: event,\n                first: this.d_first,\n                rows: this.d_rows,\n                sortField: this.d_sortField,\n                sortOrder: this.d_sortOrder,\n                multiSortMeta: this.d_multiSortMeta,\n                filters: this.d_filters\n            };\n        },\n        hasGlobalFilter() {\n            return this.filters && Object.prototype.hasOwnProperty.call(this.filters, 'global');\n        },\n        getChildren() {\n            return this.$slots.default ? this.$slots.default() : null;\n        },\n        onFilterChange(filters) {\n            this.d_filters = filters;\n        },\n        onFilterApply() {\n            this.d_first = 0;\n            this.$emit('update:first', this.d_first);\n            this.$emit('update:filters', this.d_filters);\n\n            if (this.lazy) {\n                this.$emit('filter', this.createLazyLoadEvent());\n            }\n        },\n        cloneFilters() {\n            let cloned = {};\n            if (this.filters) {\n                Object.entries(this.filters).forEach(([prop,value]) => {\n                    cloned[prop] = value.operator ? {operator: value.operator, constraints: value.constraints.map(constraint => {return {...constraint}})} : {...value};\n                });\n            }\n\n            return cloned;\n        },\n        updateReorderableColumns() {\n            let columnOrder = [];\n            this.columns.forEach(col => columnOrder.push(this.columnProp(col, 'columnKey')||this.columnProp(col, 'field')));\n            this.d_columnOrder = columnOrder;\n        },\n        createStyleElement() {\n            this.styleElement = document.createElement('style');\n            this.styleElement.type = 'text/css';\n            document.head.appendChild(this.styleElement);\n        },\n        createResponsiveStyle() {\n\t\t\tif (!this.responsiveStyleElement) {\n\t\t\t\tthis.responsiveStyleElement = document.createElement('style');\n\t\t\t\tthis.responsiveStyleElement.type = 'text/css';\n\t\t\t\tdocument.head.appendChild(this.responsiveStyleElement);\n\n                let innerHTML = `\n@media screen and (max-width: ${this.breakpoint}) {\n    .p-datatable[${this.attributeSelector}] .p-datatable-thead > tr > th,\n    .p-datatable[${this.attributeSelector}] .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    .p-datatable[${this.attributeSelector}] .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    .p-datatable[${this.attributeSelector}] .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    .p-datatable[${this.attributeSelector}].p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    .p-datatable[${this.attributeSelector}] .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`;\n\n                this.responsiveStyleElement.innerHTML = innerHTML;\n\t\t\t}\n\t\t},\n        destroyResponsiveStyle() {\n            if (this.responsiveStyleElement) {\n                document.head.removeChild(this.responsiveStyleElement);\n                this.responsiveStyleElement = null;\n            }\n        },\n        destroyStyleElement() {\n            if (this.styleElement) {\n                document.head.removeChild(this.styleElement);\n                this.styleElement = null;\n            }\n        }\n    },\n    computed: {\n        containerClass() {\n            return [\n                'p-datatable p-component', {\n                    'p-datatable-hoverable-rows': (this.rowHover || this.selectionMode),\n                    'p-datatable-auto-layout': this.autoLayout,\n                    'p-datatable-resizable': this.resizableColumns,\n                    'p-datatable-resizable-fit': this.resizableColumns && this.columnResizeMode === 'fit',\n                    'p-datatable-scrollable': this.scrollable,\n                    'p-datatable-scrollable-vertical': this.scrollable && this.scrollDirection === 'vertical',\n                    'p-datatable-scrollable-horizontal': this.scrollable && this.scrollDirection === 'horizontal',\n                    'p-datatable-scrollable-both': this.scrollable && this.scrollDirection === 'both',\n                    'p-datatable-flex-scrollable': (this.scrollable && this.scrollHeight === 'flex'),\n                    'p-datatable-responsive-stack': this.responsiveLayout === 'stack',\n                    'p-datatable-responsive-scroll': this.responsiveLayout === 'scroll',\n                    'p-datatable-striped': this.stripedRows,\n                    'p-datatable-gridlines': this.showGridlines,\n                    'p-datatable-grouped-header': this.headerColumnGroup != null,\n                    'p-datatable-grouped-footer': this.footerColumnGroup != null\n                }\n            ];\n        },\n        columns() {\n            let cols = [];\n            let children = this.getChildren();\n\n            if (!children) {\n                return;\n            }\n\n            children.forEach(child => {\n                if (child.children && child.children instanceof Array)\n                    cols = [...cols, ...child.children];\n                else if (child.type.name === 'Column')\n                    cols.push(child);\n            });\n\n            if (this.reorderableColumns && this.d_columnOrder) {\n                let orderedColumns = [];\n                for (let columnKey of this.d_columnOrder) {\n                    let column = this.findColumnByKey(cols, columnKey);\n                    if (column) {\n                        orderedColumns.push(column);\n                    }\n                }\n\n                return [...orderedColumns, ...cols.filter((item) => orderedColumns.indexOf(item) < 0)];\n            }\n\n            return cols;\n        },\n        headerColumnGroup() {\n            const children = this.getChildren();\n            if (children) {\n                for (let child of children) {\n                    if (child.type.name === 'ColumnGroup' && this.columnProp(child, 'type') === 'header') {\n                        return child;\n                    }\n                }\n            }\n\n            return null;\n        },\n        footerColumnGroup() {\n            const children = this.getChildren();\n            if (children) {\n                for (let child of children) {\n                    if (child.type.name === 'ColumnGroup' && this.columnProp(child, 'type') === 'footer') {\n                        return child;\n                    }\n                }\n            }\n\n            return null;\n        },\n        hasFilters() {\n            return this.filters && Object.keys(this.filters).length > 0 && this.filters.constructor === Object;\n        },\n        processedData() {\n            let data = this.value || [];\n\n            if (!this.lazy) {\n                if (data && data.length) {\n                    if (this.hasFilters) {\n                        data = this.filter(data);\n                    }\n\n                    if (this.sorted) {\n                        if(this.sortMode === 'single')\n                            data = this.sortSingle(data);\n                        else if(this.sortMode === 'multiple')\n                            data = this.sortMultiple(data);\n                    }\n                }\n            }\n\n            return data;\n        },\n        dataToRender() {\n            const data = this.processedData;\n\n            if (data && this.paginator) {\n                const first = this.lazy ? 0 : this.d_first;\n                return data.slice(first, first + this.d_rows);\n            }\n            else {\n                return data;\n            }\n        },\n        totalRecordsLength() {\n            if (this.lazy) {\n                return this.totalRecords;\n            }\n            else {\n                const data = this.processedData;\n                return data ? data.length : 0;\n            }\n        },\n        empty() {\n            const data = this.processedData;\n            return (!data || data.length === 0);\n        },\n        paginatorTop() {\n            return this.paginator && (this.paginatorPosition !== 'bottom' || this.paginatorPosition === 'both');\n        },\n        paginatorBottom() {\n            return this.paginator && (this.paginatorPosition !== 'top' || this.paginatorPosition === 'both');\n        },\n        sorted() {\n            return this.d_sortField || (this.d_multiSortMeta && this.d_multiSortMeta.length > 0);\n        },\n        loadingIconClass() {\n            return ['p-datatable-loading-icon pi-spin', this.loadingIcon];\n        },\n        allRowsSelected() {\n            const val = this.frozenValue ? [...this.frozenValue, ...this.processedData]: this.processedData;\n            const length = this.lazy ? this.totalRecords : (val ? val.length : 0);\n            return (val && length > 0 && this.selection && this.selection.length > 0 && this.selection.length === length);\n        },\n        attributeSelector() {\n            return UniqueComponentId();\n        },\n        groupRowSortField() {\n            return this.sortMode === 'single' ? this.sortField : (this.d_groupRowsSortMeta ? this.d_groupRowsSortMeta.field : null);\n        }\n    },\n    components: {\n        'DTPaginator': Paginator,\n        'DTTableHeader': TableHeader,\n        'DTTableBody': TableBody,\n        'DTTableFooter': TableFooter,\n    }\n}\n</script>\n\n<style>\n.p-datatable {\n    position: relative;\n}\n\n.p-datatable table {\n    border-collapse: collapse;\n    min-width: 100%;\n    table-layout: fixed;\n}\n\n.p-datatable .p-sortable-column {\n    cursor: pointer;\n    user-select: none;\n}\n\n.p-datatable .p-sortable-column .p-column-title,\n.p-datatable .p-sortable-column .p-sortable-column-icon,\n.p-datatable .p-sortable-column .p-sortable-column-badge {\n    vertical-align: middle;\n}\n\n.p-datatable .p-sortable-column .p-sortable-column-badge {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.p-datatable-responsive-scroll > .p-datatable-wrapper {\n    overflow-x: auto;\n}\n\n.p-datatable-responsive-scroll > .p-datatable-wrapper > table,\n.p-datatable-auto-layout > .p-datatable-wrapper > table {\n    table-layout: auto;\n}\n\n.p-datatable-hoverable-rows .p-selectable-row {\n    cursor: pointer;\n}\n\n/* Scrollable */\n.p-datatable-scrollable .p-datatable-wrapper {\n    position: relative;\n    overflow: auto;\n}\n\n.p-datatable-scrollable .p-datatable-thead,\n.p-datatable-scrollable .p-datatable-tbody,\n.p-datatable-scrollable .p-datatable-tfoot {\n    display: block;\n}\n\n.p-datatable-scrollable .p-datatable-thead > tr,\n.p-datatable-scrollable .p-datatable-tbody > tr,\n.p-datatable-scrollable .p-datatable-tfoot > tr {\n    display: flex;\n    flex-wrap: nowrap;\n    width: 100%;\n}\n\n.p-datatable-scrollable .p-datatable-thead > tr > th,\n.p-datatable-scrollable .p-datatable-tbody > tr > td,\n.p-datatable-scrollable .p-datatable-tfoot > tr > td {\n    display: flex;\n    flex: 1 1 0;\n    align-items: center;\n}\n\n.p-datatable-scrollable .p-datatable-thead {\n    position: sticky;\n    top: 0;\n    z-index: 1;\n}\n\n.p-datatable-scrollable .p-datatable-frozen-tbody {\n    position: sticky;\n    z-index: 1;\n}\n\n.p-datatable-scrollable .p-datatable-tfoot {\n    position: sticky;\n    bottom: 0;\n    z-index: 1;\n}\n\n.p-datatable-scrollable .p-frozen-column {\n    position: sticky;\n    background: inherit;\n}\n\n.p-datatable-scrollable th.p-frozen-column {\n    z-index: 1;\n}\n\n.p-datatable-scrollable-both .p-datatable-thead > tr > th,\n.p-datatable-scrollable-both .p-datatable-tbody > tr > td,\n.p-datatable-scrollable-both .p-datatable-tfoot > tr > td,\n.p-datatable-scrollable-horizontal .p-datatable-thead > tr > th\n.p-datatable-scrollable-horizontal .p-datatable-tbody > tr > td,\n.p-datatable-scrollable-horizontal .p-datatable-tfoot > tr > td {\n    flex: 0 0 auto;\n}\n\n.p-datatable-flex-scrollable {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n}\n\n.p-datatable-flex-scrollable .p-datatable-wrapper {\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    height: 100%;\n}\n\n.p-datatable-scrollable .p-rowgroup-header {\n    position: sticky;\n    z-index: 1;\n}\n\n.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead,\n.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot {\n    display: table;\n    border-collapse: collapse;\n    width: 100%;\n    table-layout: fixed;\n}\n\n.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead > tr,\n.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot > tr {\n    display: table-row;\n}\n\n.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead > tr > th,\n.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot > tr > td {\n    display: table-cell;\n}\n\n/* Resizable */\n.p-datatable-resizable > .p-datatable-wrapper {\n    overflow-x: auto;\n}\n\n.p-datatable-resizable .p-datatable-thead > tr > th,\n.p-datatable-resizable .p-datatable-tfoot > tr > td,\n.p-datatable-resizable .p-datatable-tbody > tr > td {\n    overflow: hidden;\n    white-space: nowrap;\n}\n\n.p-datatable-resizable .p-resizable-column {\n    background-clip: padding-box;\n    position: relative;\n}\n\n.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer {\n    display: none;\n}\n\n.p-datatable .p-column-resizer {\n    display: block;\n    position: absolute !important;\n    top: 0;\n    right: 0;\n    margin: 0;\n    width: .5rem;\n    height: 100%;\n    padding: 0px;\n    cursor:col-resize;\n    border: 1px solid transparent;\n}\n\n.p-datatable .p-column-header-content {\n    display: flex;\n    align-items: center;\n}\n\n.p-datatable .p-column-resizer-helper {\n    width: 1px;\n    position: absolute;\n    z-index: 10;\n    display: none;\n}\n\n.p-datatable .p-row-editor-init,\n.p-datatable .p-row-editor-save,\n.p-datatable .p-row-editor-cancel {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    overflow: hidden;\n    position: relative;\n}\n\n/* Expand */\n.p-datatable .p-row-toggler {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    overflow: hidden;\n    position: relative;\n}\n\n/* Reorder */\n.p-datatable-reorder-indicator-up,\n.p-datatable-reorder-indicator-down {\n    position: absolute;\n    display: none;\n}\n\n/* Loader */\n.p-datatable .p-datatable-loading-overlay {\n    position: absolute;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 2;\n}\n\n/* Filter */\n.p-column-filter-row {\n    display: flex;\n    align-items: center;\n    width: 100%;\n}\n\n.p-column-filter-menu {\n    display: inline-flex;\n    margin-left: auto;\n}\n\n.p-column-filter-row .p-column-filter-element {\n    flex: 1 1 auto;\n    width: 1%;\n}\n\n.p-column-filter-menu-button,\n.p-column-filter-clear-button {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    text-decoration: none;\n    overflow: hidden;\n    position: relative;\n}\n\n.p-column-filter-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n\n.p-column-filter-row-items {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n}\n\n.p-column-filter-row-item {\n    cursor: pointer;\n}\n\n.p-column-filter-add-button,\n.p-column-filter-remove-button {\n    justify-content: center;\n}\n\n.p-column-filter-add-button .p-button-label,\n.p-column-filter-remove-button .p-button-label {\n    flex-grow: 0;\n}\n\n.p-column-filter-buttonbar {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n\n.p-column-filter-buttonbar .p-button:not(.p-button-icon-only) {\n    width: auto;\n}\n\n/* Responsive */\n.p-datatable .p-datatable-tbody > tr > td > .p-column-title {\n    display: none;\n}\n</style>\n"],"sourceRoot":""}]}