{"remainingRequest":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/babel-loader/lib/index.js!/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/crocslut/Desktop/Git/main-cleanaway-pwa/src/components/chart/Chart.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/src/components/chart/Chart.vue","mtime":1634589566210},{"path":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/cache-loader/dist/cjs.js","mtime":1634585934434},{"path":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/babel-loader/lib/index.js","mtime":1634585934594},{"path":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/cache-loader/dist/cjs.js","mtime":1634585934434},{"path":"/Users/crocslut/Desktop/Git/main-cleanaway-pwa/node_modules/vue-loader-v16/dist/index.js","mtime":1634585949898}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NoYXJ0JywKICBlbWl0czogWydzZWxlY3QnXSwKICBwcm9wczogewogICAgdHlwZTogU3RyaW5nLAogICAgZGF0YTogbnVsbCwKICAgIG9wdGlvbnM6IG51bGwsCiAgICB3aWR0aDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDMwMAogICAgfSwKICAgIGhlaWdodDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDE1MAogICAgfQogIH0sCiAgY2hhcnQ6IG51bGwsCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdENoYXJ0KCk7CiAgfSwKICBiZWZvcmVVbm1vdW50OiBmdW5jdGlvbiBiZWZvcmVVbm1vdW50KCkgewogICAgaWYgKHRoaXMuY2hhcnQpIHsKICAgICAgdGhpcy5jaGFydC5kZXN0cm95KCk7CiAgICAgIHRoaXMuY2hhcnQgPSBudWxsOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAgIHRoaXMucmVpbml0KCk7CiAgICB9LAogICAgdHlwZTogZnVuY3Rpb24gdHlwZSgpIHsKICAgICAgdGhpcy5yZWluaXQoKTsKICAgIH0sCiAgICBvcHRpb25zOiBmdW5jdGlvbiBvcHRpb25zKCkgewogICAgICB0aGlzLnJlaW5pdCgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaW5pdENoYXJ0OiBmdW5jdGlvbiBpbml0Q2hhcnQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpbXBvcnQoJ2NoYXJ0LmpzL2F1dG8nKS50aGVuKGZ1bmN0aW9uIChtb2R1bGUpIHsKICAgICAgICBpZiAoX3RoaXMuY2hhcnQpIHsKICAgICAgICAgIF90aGlzLmNoYXJ0LmRlc3Ryb3koKTsKCiAgICAgICAgICBfdGhpcy5jaGFydCA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICBpZiAobW9kdWxlICYmIG1vZHVsZS5kZWZhdWx0KSB7CiAgICAgICAgICBfdGhpcy5jaGFydCA9IG5ldyBtb2R1bGUuZGVmYXVsdChfdGhpcy4kcmVmcy5jYW52YXMsIHsKICAgICAgICAgICAgdHlwZTogX3RoaXMudHlwZSwKICAgICAgICAgICAgZGF0YTogX3RoaXMuZGF0YSwKICAgICAgICAgICAgb3B0aW9uczogX3RoaXMub3B0aW9ucwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRDYW52YXM6IGZ1bmN0aW9uIGdldENhbnZhcygpIHsKICAgICAgcmV0dXJuIHRoaXMuJGNhbnZhczsKICAgIH0sCiAgICBnZXRCYXNlNjRJbWFnZTogZnVuY3Rpb24gZ2V0QmFzZTY0SW1hZ2UoKSB7CiAgICAgIHJldHVybiB0aGlzLmNoYXJ0LnRvQmFzZTY0SW1hZ2UoKTsKICAgIH0sCiAgICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKCkgewogICAgICBpZiAodGhpcy5jaGFydCkgewogICAgICAgIHRoaXMuY2hhcnQudXBkYXRlKCk7CiAgICAgIH0KICAgIH0sCiAgICByZWluaXQ6IGZ1bmN0aW9uIHJlaW5pdCgpIHsKICAgICAgdGhpcy5pbml0Q2hhcnQoKTsKICAgIH0sCiAgICBvbkNhbnZhc0NsaWNrOiBmdW5jdGlvbiBvbkNhbnZhc0NsaWNrKGV2ZW50KSB7CiAgICAgIGlmICh0aGlzLmNoYXJ0KSB7CiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmNoYXJ0LmdldEVsZW1lbnRzQXRFdmVudEZvck1vZGUoZXZlbnQsICduZWFyZXN0JywgewogICAgICAgICAgaW50ZXJzZWN0OiB0cnVlCiAgICAgICAgfSwgZmFsc2UpOwogICAgICAgIHZhciBkYXRhc2V0ID0gdGhpcy5jaGFydC5nZXRFbGVtZW50c0F0RXZlbnRGb3JNb2RlKGV2ZW50LCAnZGF0YXNldCcsIHsKICAgICAgICAgIGludGVyc2VjdDogdHJ1ZQogICAgICAgIH0sIGZhbHNlKTsKCiAgICAgICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudFswXSAmJiBkYXRhc2V0KSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCdzZWxlY3QnLCB7CiAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LAogICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50WzBdLAogICAgICAgICAgICBkYXRhc2V0OiBkYXRhc2V0CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBnZW5lcmF0ZUxlZ2VuZDogZnVuY3Rpb24gZ2VuZXJhdGVMZWdlbmQoKSB7CiAgICAgIGlmICh0aGlzLmNoYXJ0KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnQuZ2VuZXJhdGVMZWdlbmQoKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/crocslut/Desktop/Git/main-cleanaway-pwa/src/components/chart/Chart.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"p-chart\">\n        <canvas ref=\"canvas\" :width=\"width\" :height=\"height\" @click=\"onCanvasClick($event)\"></canvas>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'Chart',\n    emits: ['select'],\n    props: {\n        type: String,\n        data: null,\n        options: null,\n        width: {\n            type: Number,\n            default: 300\n        },\n        height: {\n            type: Number,\n            default: 150\n        },\n    },\n    chart: null,\n    mounted() {\n        this.initChart();\n    },\n    beforeUnmount() {\n        if (this.chart) {\n            this.chart.destroy();\n            this.chart = null;\n        }\n    },\n    watch: {\n        data() {\n            this.reinit();\n        },\n        type() {\n            this.reinit();\n        },\n        options() {\n            this.reinit();\n        }\n    },\n    methods: {\n        initChart() {\n            import('chart.js/auto').then((module) => {\n                if (this.chart) {\n                    this.chart.destroy();\n                    this.chart = null;\n                }\n\n                if (module && module.default) {\n                    this.chart = new module.default(this.$refs.canvas, {\n                        type: this.type,\n                        data: this.data,\n                        options: this.options\n                    });\n                }\n            });\n        },\n        getCanvas() {\n            return this.$canvas;\n        },\n        getBase64Image() {\n            return this.chart.toBase64Image();\n        },\n        refresh() {\n            if (this.chart) {\n                this.chart.update();\n            }\n        },\n        reinit() {\n            this.initChart();\n        },\n        onCanvasClick(event) {\n            if (this.chart) {\n                const element = this.chart.getElementsAtEventForMode(event, 'nearest', { intersect: true }, false);\n                const dataset = this.chart.getElementsAtEventForMode(event, 'dataset', { intersect: true }, false);\n\n                if (element && element[0] && dataset) {\n                    this.$emit('select', {originalEvent: event, element: element[0], dataset: dataset});\n                }\n            }\n        },\n        generateLegend() {\n            if (this.chart) {\n                return this.chart.generateLegend();\n            }\n        }\n    }\n}\n</script>\n\n<style>\n.p-chart {\n    position: relative;\n}\n</style>\n"],"sourceRoot":""}]}